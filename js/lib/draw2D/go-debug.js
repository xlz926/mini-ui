/*
 * GoJS?v1.1.0 JavaScript Library for HTML Canvas Diagrams
 * Northwoods Software? http://www.nwoods.com/
 *
 * Copyright ?1998-2013 by Northwoods Software Corporation.  All Rights Reserved.
 * THIS SOFTWARE IS LICENSED.  THE LICENSE AGREEMENT IS AT: http://www.gojs.net/1.1.0/doc/license.html.
 */
(function(window) { var f=void 0,i=!0,p=null,q=!1;function aa(){return function(){}}function ba(a){return function(b){this[a]=b}}function t(a){return function(){return this[a]}}function ca(a){return function(){return a}}var da,ea={};
if(document.createElement("canvas").getContext===f)throw window.console&&window.console.log("The HTML Canvas element is not supported in this browser,or this browser is in Compatibility mode."),Error("The HTML Canvas element is not supported in this browser,or this browser is in Compatibility mode.");if(!Object.prototype.__defineGetter__&&!Object.defineProperty)throw Error("GoJS requires a newer version of JavaScript");
Object.prototype.__defineGetter__&&!Object.defineProperty&&(Object.defineProperty=function(a,b,c){c.get&&a.__defineGetter__(b,c.get);c.set&&a.__defineSetter__(b,c.set)});Object.prototype.__lookupGetter__&&!Object.getOwnPropertyDescriptor&&(Object.getOwnPropertyDescriptor=function(a,b){return{get:a.__lookupGetter__(b),set:a.__lookupSetter__(b)}});Object.getPrototypeOf||(Object.getPrototypeOf=function(a){return a.__proto__});Object.isFrozen||(Object.isFrozen=function(a){return a.uF===i});
Object.freeze||(Object.freeze=function(a){a.uF=i});Array.isArray||(Array.isArray=function(a){return"[object Array]"===Object.prototype.toString.call(a)});Function.prototype.bind||(Function.prototype.bind=function(a){function b(){return g.apply(a,e.concat(d.call(arguments)))}function c(){}var d=Array.prototype.slice,e=d.call(arguments,1),g=this;c.prototype=this.prototype;b.prototype=new c;return b});
for(var fa=0,ga=["ms","moz","webkit","o"],ha=0;ha<ga.length&&!window.requestAnimationFrame;++ha)window.requestAnimationFrame=window[ga[ha]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[ga[ha]+"CancelAnimationFrame"]||window[ga[ha]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(a){var b=(new Date).getTime(),c=Math.max(8,16-(b-fa)),d=window.setTimeout(function(){a(b+c)},c);fa=b+c;return d});
window.cancelAnimationFrame||(window.cancelAnimationFrame=function(a){clearTimeout(a)});
var u={Wn:q,eD:q,dD:q,NG:q,hE:q,xD:q,EI:q,trace:function(a){window&&window.console&&window.console.log(a)},yC:q,assert:function(a,b){if(!a&&u.yC)throw window&&(u.trace(b),window.alert(b)),Error(b);},Xr:p,aD:function(a,b){a===f&&(a=u.Xr);b===f&&(b=a.Mi("").nb);var c=b.length,d=a.Ca.getContext("2d");d.fillStyle="rgba(255,255,0,.3)";for(var e=0;e<c;e++){var g=b.ia(e),h=g.ya;if(g.xa!==p)u.aD(a,g.xa);else{var j=g.aj.copy();j.fE(g.ld);d.save();d.transform(j.m11,j.m12,j.m21,j.m22,j.dx,j.dy);d.fillRect(h.x,
h.y,h.width,h.height);d.restore()}}},bD:function(a,b){a||(a=u.Xr);b||(b=a.Mi("").nb);var c=a.Ca.getContext("2d"),d=b.length;c.fillStyle="rgba(0,0,255,.3)";for(var e=0;e<d;e++){var g=b.ia(e),h=g.Na,j=g.aj;g.xa!==p?u.bD(a,g.xa):(c.save(),c.transform(j.m11,j.m12,j.m21,j.m22,j.dx,j.dy),c.fillRect(h.x,h.y,h.width,h.height),c.restore())}},IG:function(a,b){a||(a=u.Xr);b||(b=a.Mi("").nb);var c=a.Ca.getContext("2d"),d=b.length;c.fillStyle="rgba(0,0,255,.3)";for(var e=0;e<d;e++){var g=b.ia(e),h=g.Ba,j=g.aj;
g.xa!==p?u.IG(a,g.xa):(c.save(),c.transform(j.m11,j.m12,j.m21,j.m22,j.dx,j.dy),c.fillRect(h.x||0,h.y||0,h.width,h.height),c.restore())}},oK:function(){u.bD();u.aD()},pK:function(a){a||(a=u.Xr);var b=a.pc,a=a.Ca.getContext("2d");a.strokeStyle="rgba(0,255,0,.9)";a.strokeRect(b.x,b.y,b.width,b.height)},JG:function(a,b){a.lineWidth=2;a.strokeStyle="rgba(255,0,0,.5)";a.strokeRect(b.vb.x,b.vb.y,b.vb.width,b.vb.height);b.stroke!==f&&(a.strokeStyle=b.stroke);b.Zd!==f&&(a.lineWidth=b.Zd);b.ea!==p&&b.ea.type===
ia&&(a.lineWidth=1,a.strokeStyle="rgba(10,200,10,.6)",b.stroke!==f&&(a.strokeStyle=b.stroke),b.Zd!==f&&(a.lineWidth=b.Zd))},KG:function(a,b){a.lineWidth=1;a.strokeStyle="rgba(0,0,255,.5)";a.strokeRect(b.Na.x,b.Na.y,b.Na.width,b.Na.height);b.stroke!==f&&(a.strokeStyle=b.stroke);b.Zd!==f&&(a.lineWidth=b.Zd)},cD:function(a,b){for(var c=b.jb.length,d=0;d<c;d++)for(var e=b.jb.ia(d),g=e.nb.length,h=0;h<g;h++){var j=e.nb.ia(h);if(j.location!==f&&j.location!==p){if(j.location.R()){var k=j.location.x,l=j.location.y;
a.beginPath();a.strokeStyle="limegreen";a.lineWidth=2;a.moveTo(k,l+6);a.lineTo(k,l);a.lineTo(k+6,l);a.moveTo(k,l);a.lineTo(k+10,l+20);a.stroke()}k=j.position.x;l=j.position.y;a.beginPath();a.strokeStyle="red";a.lineWidth=2;a.moveTo(k,l+6);a.lineTo(k,l);a.lineTo(k+6,l);a.moveTo(k,l);a.lineTo(k+20,l+10);a.stroke()}}},LG:function(a,b,c,d,e){a.fillStyle="rgba(0,255,0,.2)";a.fillRect(b,c,d,e)},MG:function(a,b,c){a.save();var d=b.ld;d.reset();1!==b.Rb&&d.scale(b.Rb);b=b.ob;(0!==b.x||0!==b.y)&&d.translate(-b.x,
-b.y);a.setTransform(d.m11,d.m12,d.m21,d.m22,d.dx,d.dy);c=c.Oc.o;d=c.length;for(b=0;b<d;b++){var e=c[b];a.beginPath();a.moveTo(e.x-4,e.y);a.lineTo(e.x+4,e.y);a.moveTo(e.x,e.y-4);a.lineTo(e.x,e.y+4);a.lineWidth=2;a.strokeStyle="rgba(255,0,0,.9)";a.stroke()}a.restore()},eK:function(a){a||(a=u.Xr);for(a=a.pm;a.next();)u.trace(a.value.toString())},RL:function(a,b){var c=b.Fg(a),d=b.ac;d.Jc=b.Ro(c);d.O=c;return ja(b,d,a)},ML:function(a,b){b.qd(a.O)&&(b.Bg.fillStyle="lime",b.Bg.ol="lime",b.Bg.fillRect(a.Jc.x,
a.Jc.y,1*b.scale,1*b.scale))},NL:function(a){var b=la(a,q,p);if(!b.mm)for(var a=a.Bg,c=0;c<=b.Dn;c++)for(var d=0;d<=b.En;d++){var e=b.$b[c][d];if(e!==ma){var g=c*b.Hd+b.Kg,h=d*b.td+b.Lg;0!==e&&(a.fillStyle="rgba(255, 0, 0, .2)",a.fillRect(g,h,b.Hd,b.td));e>=na||(e%=10,a.fillStyle="blue",a.fillText(e.toString(),g,h+b.td))}}},OG:function(a){if(a instanceof w)for(a=a.pm;a.next();){var b=a.value;x.trace(b.toString());for(b=b.Ui;b.next();)u.OG(b.value)}else if(a instanceof z){x.trace("References for "+
a);a.Ka&&x.trace("  "+a.Ka.toString()+' LayerName: "'+a.Fd+'"');a.Ko!==a&&x.trace("  SelectionObject: "+a.Ko.toString()+' SelectionObjectName: "'+a.Lo+'"');a.Vb!==a&&x.trace("  LocationObject: "+a.Vb.toString()+' LocationObjectName: "'+a.xs+'"');if(a.gh){for(var c="",b=a.gh.l;b.next();)c+=b.key+" ";x.trace("  Adornments: "+c)}a.Za&&x.trace("  ContainingGroup: "+a.Za.toString());if(a instanceof A){if(a.Pc)for(b=a.Pc.l;b.next(););if(0<a.Rd.count){c="";for(b=a.Rd;b.next();)c+=b.value.toString()+", ";
x.trace("  Links: "+c)}a.ad&&x.trace("  LabeledLink: "+a.ad.toString());if(a instanceof B){x.trace("  Placeholder: "+a.placeholder);c="";for(b=a.Ic;b.next();)c+=b.value.toString()+", ";x.trace("  Members: "+c);c="";for(b=a.Ll.l;b.next();)c+=b.value.toString()+", ";x.trace("  NestedGroups: "+c);x.trace("  Layout: "+a.Ub)}}else if(a instanceof F){x.trace("  Path: "+a.path);x.trace("  From: "+a.ja+" "+a.Zc+' "'+a.Lh+'"');x.trace("  To: "+a.na+" "+a.Sd+' "'+a.Xi+'"');c="";for(b=a.Si;b.next();)c+=b.value.toString()+
", ";x.trace("  LabelNodes: "+c)}}},PG:function(a){if(a instanceof w)for(a=a.pm;a.next();){var b=a.value;x.trace(b.toString());for(b=b.Ui;b.next();)u.PG(b.value)}else a instanceof z&&(b=" ",a.Zy&&(b+="c"),a.cz&&(b+="d"),a.qz&&(b+="g"),a.Lz&&(b+="m"),a.Zz&&(b+="h"),a.$z&&(b+="z"),a.aA&&(b+="o"),a.Vi&&(b+="s"),a.nA&&(b+="t"),a.fA&&(b+="A"),a.rs&&(b+="B"),a.Mv&&(b+="L"),a.Va&&(b+="S"),a.om&&(b+="H"),u.gB(a,1,b))},gB:function(a,b,c){for(var d="",e=0;e<b;e++)d+="  ";d+=a.toString();c&&(d+=c);c=" ";c=a.visible?
c+"v":c+"~";a.Rz&&(c+="p");a.Nh&&(c+="m");a.ps&&(c+="a");d=d+c+(" "+a.ya.toString());a.za.R()&&(d+=" d:"+a.za.toString());a.Na.R()&&(d+=" n:"+a.Na.toString());1!==a.scale&&(d+=" s:"+a.scale);0!==a.angle&&(d+=" a:"+a.angle);a.background!==p&&(d+=" b:"+a.background.toString());a.Ij!==p&&(d+=" a:"+a.background.toString());a instanceof G&&(d+=" elts:"+a.xa.count,0!==a.tA&&(d+=" top:"+a.tA),0!==a.Bz&&(d+=" left:"+a.Bz),a.vs!==p&&(d+=" itemArray#:"+a.vs.length),a.sH&&(d+=" cat:"+a.sH),a.data!==p&&(d+=" data:"+
a.data));x.trace(d);if(a instanceof G)for(a=a.elements;a.next();)u.gB(a.value,b+1,"")}};ea.Debug=u;
var x={nx:{},jB:0,tF:{},Lu:document.createElement("canvas").getContext("2d"),Mu:"",xy:[],Cu:p,$A:[],ky:"ontouchstart"in window,YB:"ongesturestart"in window,VA:q,m:function(a){u&&u.yC&&alert(a);throw Error(a);},C:function(a,b){if(a.fb){var c="The object is frozen, so its properties cannot be set: "+a.toString();b!==f&&(c+="  to value: "+b);x.m(c)}},i:function(a,b,c,d){a instanceof b||(c=x.Mh(c),d!==f&&(c+="."+d),x.kc(a,b,c))},k:function(a,b,c,d){typeof a!==b&&(c=x.Mh(c),d!==f&&(c+="."+d),x.kc(a,b,
c))},n:function(a,b,c){isFinite(a)||(b=x.Mh(b),c!==f&&(b+="."+c),x.m(b+" must be a real number and not NaN or Infinity: "+a))},pb:function(a,b,c,d){if(!(a instanceof oa)||a.oe!==b)c=x.Mh(c),d!==f&&(c+="."+d),x.kc(a,"a constant of class "+x.$k(b),c)},kc:function(a,b,c,d){b=x.Mh(b);c=x.Mh(c);d!==f&&(c+="."+d);x.m(c+" value is not an instance of "+b+": "+a)},ra:function(a,b,c,d){c=x.Mh(c);d!==f&&(c+="."+d);x.m(c+" is not in the range "+b+": "+a)},trace:function(a){window&&window.console&&window.console.log(a);
u&&u.EI&&x.m(a)},sb:function(a){return"object"===typeof a&&a!==p},isArray:function(a){return Array.isArray(a)||a instanceof NodeList||a instanceof HTMLCollection},Ur:function(a,b,c){x.isArray(a)||x.kc(a,"Array or NodeList or HTMLCollection",b,c)},Yb:function(a){return a.length},Jb:function(a,b){return a[b]},wC:function(a,b,c){Array.isArray(a)?a[b]=c:x.m("Cannot replace an object in an HTMLCollection or NodeList at "+b)},Ky:function(a,b){if(Array.isArray(a))return a.indexOf(b);for(var c=a.length,d=
0;d<c;d++)if(a[d]===b)return d;return-1},Di:function(a,b,c){Array.isArray(a)?b>=a.length?a.push(c):a.splice(b,0,c):x.m("Cannot insert an object into an HTMLCollection or NodeList: "+c+" at "+b)},Ei:function(a,b){Array.isArray(a)?b>=a.length?a.pop():a.splice(b,1):x.m("Cannot remove an object from an HTMLCollection or NodeList at "+b)},EA:1,lc:function(a){a.__gohashid=x.EA++},ms:function(a){var b=a.__gohashid;b===f&&(b=x.EA++,a.__gohashid=b);return b},gc:function(a){return a.__gohashid},g:function(a,
b,c){"name"!==b&&"length"!==b&&(a[b]=c)},S:function(a,b){b.MA=a;ea[a]=b},Ja:function(a,b){function c(){}c.prototype=b.prototype;a.prototype=new c;a.prototype.constructor=a},defineProperty:function(a,b,c,d,e){x.k(a,"function","Util.defineProperty:classfunc");x.k(b,"object","Util.defineProperty:propname");x.k(c,"function","Util.defineProperty:getter");x.k(d,"function","Util.defineProperty:setter");c={get:c,set:d};if(e!==f)for(var g in e)c[g]=e[g];for(var h in b)Object.defineProperty(a.prototype,h,c),
e=Object.getOwnPropertyDescriptor(a.prototype,h),b[h]&&e&&Object.defineProperty(a.prototype,b[h],e)},u:function(a,b,c,d){x.k(a,"function","Util.defineReadOnlyProperty:classfunc");x.k(b,"object","Util.defineReadOnlyProperty:propname");x.k(c,"function","Util.defineReadOnlyProperty:getter");c={get:c,set:function(a){x.m("The property "+b+" is read-only and cannot be set to "+a)}};if(d!==f)for(var e in d)c[e]=d[e];for(var g in b)Object.defineProperty(a.prototype,g,c),d=Object.getOwnPropertyDescriptor(a.prototype,
g),b[g]&&d&&Object.defineProperty(a.prototype,b[g],d)},eg:function(a,b){for(var c in b)b[c]=i;a.prototype.wF=b},Mh:function(a){return a===f?"":"string"===typeof a?a:"function"===typeof a?x.$k(a):a===p?"*":""},$k:function(a){return"function"===typeof a?a.MA:"object"===typeof a&&a.constructor?a.constructor.MA:typeof a},s:function(a,b,c){x.k(a,"function","Util.defineEnumValue:classfunc");x.k(b,"string","Util.defineEnumValue:name");x.k(c,"number","Util.defineEnumValue:num");c=new oa(a,b,c);Object.freeze(c);
a[b]=c;var d=a.DA;d||(d=new pa("string",oa),a.DA=d);d.add(b,c);return c},fm:function(a,b){if(!b)return p;x.k(a,"function","Util.findEnumValueForName:classfunc");x.k(b,"string","Util.findEnumValueForName:name");var c=a.DA;return!c?p:c.va(b)},wG:function(a,b,c,d){var e={},g;for(g in a){for(var h=q,j=1;j<arguments.length;j++)if(arguments[j]===g){h=i;break}h||(e[g]=a[g])}return e},$a:function(a,b){if(!a||!b)return p;var c=f;try{"function"===typeof b?c=b(a):"function"===typeof a.getAttribute?(c=a.getAttribute(b),
c===p&&(c=f)):c=a[b]}catch(d){u&&x.trace("property get error: "+d.toString())}return c},Pa:function(a,b,c){if(a&&b)try{"function"===typeof b?b(a,c):"function"===typeof a.setAttribute?a.setAttribute(b,c):a[b]=c}catch(d){u&&x.trace("property set error: "+d.toString())}},gA:function(a,b){x.k(a,"object","Setting properties requires Objects as arguments");x.k(b,"object","Setting properties requires Objects as arguments");var c=u;c||(u=x);var d=a instanceof G,e;for(e in b){var g=a,h=e;if(d){var j=e.indexOf(".");
if(0<j){var k=e.substring(0,j),g=a.Le(k);g!==p?h=e.substr(j+1):x.m("Unable to find object named: "+k+" in panel "+a.toString()+" when trying to set property: "+e)}}"_"!==h[0]&&!x.rz(g,h)&&x.m('Trying to set undefined property "'+h+'" on object: '+g.toString());g[h]=b[e];"_"===h[0]&&(j=g.vl,j||(j=[],g.vl=j),j.push(h))}u=c;return a},rz:function(a,b){for(var c=Object.getPrototypeOf(a);c&&c!==Function;){if(c.hasOwnProperty(b))return i;var d=c.wF;if(d&&d[b])return i;c=Object.getPrototypeOf(c)}return q},
CC:function(a,b){if(!x.sb(b)||b instanceof Element||b instanceof CanvasRenderingContext2D)return"";var c="",d;for(d in b)if("string"!==typeof d)""===c&&(c=b+"\n"),c+="  "+d+" is not a string property\n";else if("_"!==d.charAt(0)&&!(2>=d.length)){var e=x.$a(b,d);e!==p&&("function"!==typeof e&&!x.rz(b,d))&&(""===c&&(c=b+"\n"),c+='  unknown property "'+d+'" has value: '+e+" at "+a+"\n")}return c},lv:function(a,b){if(b&&!("number"===typeof b||"string"===typeof b||"boolean"===typeof b||"function"===typeof b))if(x.gc(b)!==
f){if(!x.Iu.contains(b))if(x.Iu.add(b),x.iu.add(x.CC(a,b)),b instanceof H||b instanceof qa||b instanceof pa)for(var c=b.l;c.next();)x.lv(a+"["+c.key+"]",c.value);else for(c in b){var d=x.$a(b,c);if(!(d===f||d===p||!x.sb(d))&&"_ownProperties"!==c){if(b instanceof ra){if("_lines"===c)continue}else if(b instanceof G){if("data"===c||"_data"===c)continue;if("itemArray"===c||"_itemArray"===c)continue}else if(!(b instanceof w))if(b instanceof wa){if("archetypeGroupData"===c||"_archetypeGroupData"===c)continue}else if(b instanceof
xa){if("archetypeLinkData"===c||"_archetypeLinkData"===c)continue;if("archetypeLabelNodeData"===c||"_archetypeLabelNodeData"===c)continue}else if(b instanceof za){if("archetypeNodeData"===c||"_archetypeNodeData"===c)continue}else if(b instanceof J){if("nodeDataArray"===c||"_nodeDataArray"===c)continue;if("linkDataArray"===c||"_linkDataArray"===c||"_linkDataSet"===c)continue;if("_mapKeyNodeData"===c||"_delayedNodeReferences"===c)continue}x.lv(a+"."+c,d)}}}else if(Array.isArray(b))for(c=0;c<b.length;c++)x.lv(a+
"["+c+"]",b[c]);else x.iu.add(x.CC(a,b))},pG:function(a){x.Iu===f?x.Iu=new qa:x.Iu.clear();x.iu=new Aa;x.lv("",a);a=x.iu.toString();x.iu=p;return a},ZH:function(a){for(var b=[],c=0;256>c;c++)b[c]=c;for(var d=0,e,c=0;256>c;c++)d=(d+b[c]+119)%256,e=b[c],b[c]=b[d],b[d]=e;for(var d=c=0,g="",h=0;h<a.length;h++)c=(c+1)%256,d=(d+b[c])%256,e=b[c],b[c]=b[d],b[d]=e,g+=String.fromCharCode(a.charCodeAt(h)^b[(b[c]+b[d])%256]);return g},fH:function(a){for(var b=[],c=0;256>c;c++)b["0123456789abcdef".charAt(c>>4)+
"0123456789abcdef".charAt(c&15)]=String.fromCharCode(c);a.length%2&&(a="0"+a);for(var d=[],e=0,c=0;c<a.length;c+=2)d[e++]=b[a.substr(c,2)];a=d.join("");return""===a?"0":a},Ta:function(a){return x.ZH(x.fH(a))},Zs:p,Hy:"7da71ca0ad381e90",qG:"@COLOR1",rG:"@COLOR2"},Ba=x,Ca=document.createElement("canvas"),Da=Ca.getContext("2d");Da[x.Ta("7ca11abfd022028846")]=x.Ta("398c3597c01238");
for(var Ea=["5da73c80a3330d854f9e5e671d6633","32ab5ff3b26f42dc0ed90f22472913b54ae6247590da4bb21c324ba3a84e385776","54a702f3e53909c447824c6706603faf4cfb236cdfda5de14c134ba1a95a2d4c7cc6f93c1387","74bf19bce72555874c86"],Ha=1;5>Ha;Ha++)Da[x.Ta("7ca11abfd7330390")](x.Ta(Ea[Ha-1]),10,15*Ha+0);Da[x.Ta("7ca11abfd022028846")]=x.Ta("39f046ebb36e4b");for(Ha=1;5>Ha;Ha++)Da[x.Ta("7ca11abfd7330390")](x.Ta(Ea[Ha-1]),10,15*Ha+0);Ba.Zs=Ca;function oa(a,b,c){x.lc(this);this.LA=a;this.Gb=b;this.HF=c}
oa.prototype.toString=function(){return x.$k(this.LA)+"."+this.Gb};x.u(oa,{oe:"classType"},t("LA"));x.u(oa,{name:"name"},t("Gb"));x.u(oa,{value:"value"},t("HF"));function Aa(){this.KA=[];this.KI=0;this.OI="  "}Aa.prototype.toString=function(){return this.KA.join("")};Aa.prototype.add=function(a){a&&this.KA.push(a)};function Ja(){}x.u(Ja,{l:"iterator"},function(){return this});Ja.prototype.reset=Ja.prototype.reset=aa();Ja.prototype.next=Ja.prototype.next=ca(q);Ja.prototype.first=Ja.prototype.Fb=ca(p);
x.u(Ja,{count:"count"},ca(0));Ja.prototype.Dg=aa();Ja.prototype.toString=ca("EmptyIterator");x.If=new Ja;function Ka(a){this.key=-1;this.value=a}x.eg(Ka,{key:i,value:i});x.u(Ka,{l:"iterator"},function(){return this});Ka.prototype.reset=Ka.prototype.reset=function(){this.key=-1};Ka.prototype.next=Ka.prototype.next=function(){return-1===this.key?(this.key=0,i):q};Ka.prototype.first=Ka.prototype.Fb=function(){this.key=0;return this.value};x.u(Ka,{count:"count"},ca(1));
Ka.prototype.Dg=function(){this.value=p};Ka.prototype.toString=function(){return"SingletonIterator("+this.value+")"};function La(a){this.ef=a;this.mn=p;this.reset()}x.eg(La,{key:i,value:i});x.u(La,{l:"iterator"},function(){return this});x.g(La,"predicate",La.prototype.Xv);x.defineProperty(La,{Xv:"predicate"},t("mn"),ba("mn"));La.prototype.reset=La.prototype.reset=function(){var a=this.ef;a.rh=p;this.cb=a.Nb;this.ha=-1};
La.prototype.next=La.prototype.next=function(){var a=this.ef;a.Nb!==this.cb&&x.m("the List has been modified during iteration");var a=a.o,b=a.length,c=++this.ha,d=this.mn;if(d!==p)for(;c<b;){var e=a[c];if(d(e))return this.key=this.ha=c,this.value=e,i;c++}else{if(c<b)return this.key=c,this.value=a[c],i;this.Dg()}return q};
La.prototype.first=La.prototype.Fb=function(){var a=this.ef;this.cb=a.Nb;this.ha=0;var a=a.o,b=a.length,c=this.mn;if(c!==p){for(var d=0;d<b;){var e=a[d];if(c(e))return this.key=this.ha=d,this.value=e;d++}return p}return 0<b?(e=a[0],this.key=0,this.value=e):p};x.u(La,{count:"count"},function(){var a=this.mn;if(a!==p){for(var b=0,c=this.ef.o,d=c.length,e=0;e<d;e++)a(c[e])&&b++;return b}return this.ef.o.length});La.prototype.Dg=function(){this.key=-1;this.value=p;this.cb=-1;this.mn=p;this.ef.rh=this};
La.prototype.toString=function(){return"ListIterator@"+this.ha+"/"+this.ef.count};function Ma(a){this.ef=a;this.reset()}x.eg(Ma,{key:i,value:i});x.u(Ma,{l:"iterator"},function(){return this});Ma.prototype.reset=Ma.prototype.reset=function(){var a=this.ef;a.Cx=p;this.cb=a.Nb;this.ha=a.o.length};Ma.prototype.next=Ma.prototype.next=function(){var a=this.ef;a.Nb!==this.cb&&x.m("the List has been modified during iteration");var b=--this.ha;if(0<=b)return this.key=b,this.value=a.o[b],i;this.Dg();return q};
Ma.prototype.first=Ma.prototype.Fb=function(){var a=this.ef;this.cb=a.Nb;var b=a.o;this.ha=a=b.length-1;return 0<=a?(b=b[a],this.key=a,this.value=b):p};x.u(Ma,{count:"count"},function(){return this.ef.o.length});Ma.prototype.Dg=function(){this.key=-1;this.value=p;this.cb=-1;this.ef.Cx=this};Ma.prototype.toString=function(){return"ListIteratorBackwards("+this.ha+"/"+this.ef.count+")"};
function H(a){x.lc(this);this.fb=q;this.o=[];this.Nb=0;this.Cx=this.rh=p;a===f||a===p?this.V=p:"string"===typeof a?"string"===a||"number"===a||"boolean"===a||"function"===a?this.V=a:x.ra(a,"the string 'number', 'string', 'boolean', or 'function'","List constructor: type"):"function"===typeof a?this.V=a===Object?"object":a===String?"string":a===Number?"number":a===Boolean?"boolean":a===Function?"function":a:x.ra(a,"null, a primitive type name, or a class type","List constructor: type")}
x.S("List",H);H.prototype.xg=function(a){this.V!==p&&("string"===typeof this.V?(typeof a!==this.V||a===p)&&x.kc(a,this.V):a instanceof this.V||x.kc(a,this.V))};H.prototype.zd=function(){var a=this.Nb;a++;999999999<a&&(a=0);this.Nb=a};H.prototype.freeze=H.prototype.freeze=function(){this.fb=i;return this};H.prototype.thaw=H.prototype.Oa=function(){this.fb=q;return this};H.prototype.toString=function(){return"List("+x.Mh(this.V)+")#"+x.gc(this)};
H.prototype.add=H.prototype.add=function(a){a!==p&&(u&&this.xg(a),x.C(this,a),this.o.push(a),this.zd())};H.prototype.addAll=H.prototype.cg=function(a){if(a===p)return this;x.C(this);var b=this.o;if(x.isArray(a))for(var c=x.Yb(a),d=0;d<c;d++){var e=x.Jb(a,d);u&&this.xg(e);b.push(e)}else for(a=a.l;a.next();)e=a.value,u&&this.xg(e),b.push(e);this.zd();return this};H.prototype.clear=H.prototype.clear=function(){x.C(this);this.o=[];this.zd()};
H.prototype.contains=H.prototype.contains=function(a){if(a===p)return q;u&&this.xg(a);return-1!==this.o.indexOf(a)};H.prototype.indexOf=H.prototype.indexOf=function(a){if(a===p)return-1;u&&this.xg(a);return this.o.indexOf(a)};H.prototype.elt=H.prototype.ia=function(a){u&&x.n(a,H,"elt:i");var b=this.o;(0>a||a>=b.length)&&x.ra(a,"0 <= i < length",H,"elt:i");return b[a]};
H.prototype.setElt=H.prototype.dw=function(a,b){u&&(this.xg(b),x.n(a,H,"setElt:i"));var c=this.o;(0>a||a>=c.length)&&x.ra(a,"0 <= i < length",H,"setElt:i");x.C(this,a);c[a]=b};H.prototype.first=H.prototype.Fb=function(){var a=this.o;return 0===a.length?p:a[0]};H.prototype.insertAt=H.prototype.Bc=function(a,b){u&&(this.xg(b),x.n(a,H,"insertAt:i"));0>a&&x.ra(a,">= 0",H,"insertAt:i");x.C(this,a);var c=this.o;a>=c.length?c.push(b):c.splice(a,0,b);this.zd();return i};
H.prototype.remove=H.prototype.remove=function(a){if(a===p)return q;u&&this.xg(a);x.C(this,a);var b=this.o,a=b.indexOf(a);if(-1===a)return q;a===b.length-1?b.pop():b.splice(a,1);this.zd();return i};H.prototype.removeAt=H.prototype.Ve=function(a){u&&x.n(a,H,"removeAt:i");var b=this.o;(0>a||a>=b.length)&&x.ra(a,"0 <= i < length",H,"removeAt:i");x.C(this,a);a===b.length-1?b.pop():b.splice(a,1);this.zd()};
H.prototype.removeRange=H.prototype.removeRange=function(a,b){u&&(x.n(a,H,"removeRange:from"),x.n(b,H,"removeRange:to"));var c=this.o;(0>a||a>=c.length)&&x.ra(a,"0 <= from < length",H,"elt:from");(0>b||b>=c.length)&&x.ra(b,"0 <= to < length",H,"elt:to");x.C(this,a);var d=c.slice((b||a)+1||c.length);c.length=0>a?c.length+a:a;c.push.apply(c,d);this.zd()};H.prototype.copy=H.prototype.copy=function(){for(var a=new H(this.V),b=this.o,c=this.count,d=0;d<c;d++)a.add(b[d]);return a};
H.prototype.toArray=H.prototype.vg=function(){for(var a=[],b=this.o,c=this.count,d=0;d<c;d++)a.push(b[d]);return a};H.prototype.toSet=H.prototype.DI=function(){for(var a=new qa(this.V),b=this.o,c=this.count,d=0;d<c;d++)a.add(b[d]);return a};H.prototype.sort=H.prototype.sort=function(a){u&&x.k(a,"function",H,"sort:sortfunc");x.C(this);this.o.sort(a);this.zd();return this};
H.prototype.sortRange=H.prototype.Oo=function(a,b,c){var d=this.o,e=d.length;b===f&&(b=0);c===f&&(c=e);u&&(x.k(a,"function",H,"sortRange:sortfunc"),x.n(b,H,"sortRange:from"),x.n(c,H,"sortRange:to"));x.C(this);var g=c-b;if(1>=g)return this;(0>b||b>=e-1)&&x.ra(b,"0 <= from < length",H,"sortRange:from");if(2===g)return c=d[b],e=d[b+1],0<a(c,e)&&(d[b]=e,d[b+1]=c,this.zd()),this;if(0===b)if(c>=e)d.sort(a);else{g=d.slice(0,c);g.sort(a);for(a=0;a<c;a++)d[a]=g[a]}else if(c>=e){g=d.slice(b);g.sort(a);for(a=
b;a<e;a++)d[a]=g[a-b]}else{g=d.slice(b,c);g.sort(a);for(a=b;a<c;a++)d[a]=g[a-b]}this.zd();return this};H.prototype.reverse=H.prototype.reverse=function(){x.C(this);this.o.reverse();this.zd();return this};x.u(H,{count:"count"},function(){return this.o.length});x.u(H,{length:"length"},function(){return this.o.length});x.u(H,{l:"iterator"},function(){if(0>=this.o.length)return x.If;var a=this.rh;return a!==p?(a.reset(),a):new La(this)});
x.u(H,{oo:"iteratorBackwards"},function(){if(0>=this.o.length)return x.If;var a=this.Cx;return a!==p?(a.reset(),a):new Ma(this)});function Na(a){this.Y=a;this.reset()}x.eg(Na,{key:i,value:i});x.u(Na,{l:"iterator"},function(){return this});Na.prototype.reset=Na.prototype.reset=function(){var a=this.Y;a.rh=p;this.cb=a.Nb;this.Ld=p};
Na.prototype.next=Na.prototype.next=function(){var a=this.Y;a.Nb!==this.cb&&x.m("the Set has been modified during iteration");var b=this.Ld,b=b===p?a.ie:b.vj;if(b!==p)return this.Ld=b,this.value=b.value,this.key=b.key,i;this.Dg();return q};Na.prototype.first=Na.prototype.Fb=function(){var a=this.Y;this.cb=a.Nb;a=a.ie;if(a!==p){this.Ld=a;var b=a.value;this.key=a.key;return this.value=b}return p};x.u(Na,{count:"count"},function(){return this.Y.Be});
Na.prototype.Dg=function(){this.value=p;this.cb=-1;this.Y.rh=this};Na.prototype.toString=function(){return this.Ld!==p?"SetIterator@"+this.Ld.value:"SetIterator"};
function qa(a){x.lc(this);this.fb=q;a===f||a===p?this.V=p:"string"===typeof a?"string"===a||"number"===a?this.V=a:x.ra(a,"the string 'number' or 'string'","Set constructor: type"):"function"===typeof a?this.V=a===Object?"object":a===String?"string":a===Number?"number":a:x.ra(a,"null, a primitive type name, or a class type","Set constructor: type");this.Kc={};this.Be=0;this.rh=p;this.Nb=0;this.sh=this.ie=p}x.S("Set",qa);
qa.prototype.xg=function(a){this.V!==p&&("string"===typeof this.V?(typeof a!==this.V||a===p)&&x.kc(a,this.V):a instanceof this.V||x.kc(a,this.V))};qa.prototype.zd=function(){var a=this.Nb;a++;999999999<a&&(a=0);this.Nb=a};qa.prototype.freeze=qa.prototype.freeze=function(){this.fb=i;return this};qa.prototype.thaw=qa.prototype.Oa=function(){this.fb=q;return this};qa.prototype.toString=function(){return"Set("+x.Mh(this.V)+")#"+x.gc(this)};
qa.prototype.add=qa.prototype.add=function(a){if(a===p)return q;u&&this.xg(a);x.C(this,a);var b=a;x.sb(a)&&(b=x.ms(a));return this.Kc[b]===f?(this.Be++,a=new Oa(a,a),this.Kc[b]=a,b=this.sh,b===p?this.ie=a:(a.nn=b,b.vj=a),this.sh=a,this.zd(),i):q};qa.prototype.addAll=qa.prototype.cg=function(a){if(a===p)return this;x.C(this);if(x.isArray(a))for(var b=x.Yb(a),c=0;c<b;c++)this.add(x.Jb(a,c));else for(a=a.l;a.next();)this.add(a.value);return this};
qa.prototype.contains=qa.prototype.contains=function(a){if(a===p)return q;u&&this.xg(a);var b=a;return x.sb(a)&&(b=x.gc(a),b===f)?q:this.Kc[b]!==f};qa.prototype.containsAll=qa.prototype.SJ=function(a){if(a===p)return i;for(a=a.l;a.next();)if(!this.contains(a.value))return q;return i};qa.prototype.containsAny=qa.prototype.TJ=function(a){if(a===p)return i;for(a=a.l;a.next();)if(this.contains(a.value))return i;return q};qa.prototype.first=qa.prototype.Fb=function(){var a=this.ie;return a===p?p:a.value};
qa.prototype.remove=qa.prototype.remove=function(a){if(a===p)return q;u&&this.xg(a);x.C(this,a);var b=a;if(x.sb(a)&&(b=x.gc(a),b===f))return q;a=this.Kc[b];if(a===f)return q;var c=a.vj,d=a.nn;c!==p&&(c.nn=d);d!==p&&(d.vj=c);this.ie===a&&(this.ie=c);this.sh===a&&(this.sh=d);delete this.Kc[b];this.Be--;this.zd();return i};qa.prototype.removeAll=qa.prototype.XL=function(a){if(a===p)return this;x.C(this);for(a=a.l;a.next();)this.remove(a.value);return this};
qa.prototype.retainAll=qa.prototype.dM=function(a){if(a===p||0===this.count)return this;x.C(this);var b=new qa(this.V);b.cg(a);for(var a=new H(this.V),c=this.l;c.next();)b.contains(c.value)||a.add(c.value);for(b=a.l;b.next();)this.remove(b.value);return this};qa.prototype.clear=qa.prototype.clear=function(){x.C(this);this.Kc={};this.Be=0;this.sh=this.ie=p;this.zd()};qa.prototype.copy=qa.prototype.copy=function(){var a=new qa(this.V),b=this.Kc,c;for(c in b)a.add(b[c].value);return a};
qa.prototype.toArray=qa.prototype.vg=function(){var a=[],b=this.Kc,c;for(c in b)a.push(b[c].value);return a};qa.prototype.toList=qa.prototype.CI=function(){var a=new H(this.V),b=this.Kc,c;for(c in b)a.add(b[c]);return a};x.u(qa,{count:"count"},t("Be"));x.u(qa,{l:"iterator"},function(){if(0>=this.Be)return x.If;var a=this.rh;return a!==p?(a.reset(),a):new Na(this)});function Pa(a){this.Xc=a;this.reset()}x.eg(Pa,{key:i,value:i});x.u(Pa,{l:"iterator"},function(){return this});
Pa.prototype.reset=Pa.prototype.reset=function(){this.cb=this.Xc.Nb;this.Ld=p};Pa.prototype.next=Pa.prototype.next=function(){var a=this.Xc;a.Nb!==this.cb&&x.m("the Map has been modified during iteration");var b=this.Ld,b=b===p?a.ie:b.vj;if(b!==p)return this.Ld=b,this.value=b.key,i;this.Dg();return q};Pa.prototype.first=Pa.prototype.Fb=function(){var a=this.Xc;this.cb=a.Nb;a=a.ie;if(a!==p){this.Ld=a;var b=a.value;this.key=a.key;return this.value=b}return p};x.u(Pa,{count:"count"},function(){return this.Xc.Be});
Pa.prototype.Dg=function(){this.value=p;this.cb=-1};Pa.prototype.toString=function(){return this.Ld!==p?"MapKeySetIterator@"+this.Ld.value:"MapKeySetIterator"};function Qa(a){x.lc(this);this.Xc=a}x.Ja(Qa,qa);Qa.prototype.freeze=function(){return this};Qa.prototype.Oa=function(){return this};Qa.prototype.toString=function(){return"MapKeySet("+this.Xc.toString()+")"};Qa.prototype.add=Qa.prototype.add=function(){x.m("This Set is read-only: "+this.toString());return q};
Qa.prototype.contains=Qa.prototype.contains=function(a){return this.Xc.contains(a)};Qa.prototype.remove=Qa.prototype.remove=function(){x.m("This Set is read-only: "+this.toString());return q};Qa.prototype.clear=Qa.prototype.clear=function(){x.m("This Set is read-only: "+this.toString())};Qa.prototype.copy=Qa.prototype.copy=function(){return new Qa(this.Xc)};Qa.prototype.toSet=Qa.prototype.DI=function(){var a=new qa(this.Xc.V),b=this.Xc.Kc,c;for(c in b)a.add(b[c].key);return a};
Qa.prototype.toArray=Qa.prototype.vg=function(){var a=[],b=this.Xc.Kc,c;for(c in b)a.push(b[c].key);return a};Qa.prototype.toList=Qa.prototype.CI=function(){var a=new H(this.V),b=this.Xc.Kc,c;for(c in b)a.add(b[c].key);return a};x.u(Qa,{count:"count"},function(){return this.Xc.Be});x.u(Qa,{l:"iterator"},function(){return 0>=this.Xc.Be?x.If:new Pa(this.Xc)});function Oa(a,b){this.key=a;this.value=b;this.nn=this.vj=p}x.eg(Oa,{key:i,value:i});
Oa.prototype.toString=function(){return"{"+this.key+":"+this.value+"}"};function Ra(a){this.Xc=a;this.reset()}x.eg(Ra,{key:i,value:i});x.u(Ra,{l:"iterator"},function(){return this});Ra.prototype.reset=Ra.prototype.reset=function(){var a=this.Xc;a.rh=p;this.cb=a.Nb;this.Ld=p};
Ra.prototype.next=Ra.prototype.next=function(){var a=this.Xc;a.Nb!==this.cb&&x.m("the Map has been modified during iteration");var b=this.Ld,b=b===p?a.ie:b.vj;if(b!==p)return this.Ld=b,this.key=b.key,this.value=b.value,i;this.Dg();return q};Ra.prototype.first=Ra.prototype.Fb=function(){var a=this.Xc;this.cb=a.Nb;a=a.ie;if(a!==p){this.Ld=a;var b=a.key;this.key=b;this.value=a.value;return b}return p};x.u(Ra,{count:"count"},function(){return this.Xc.Be});
Ra.prototype.Dg=function(){this.value=this.key=p;this.cb=-1;this.Xc.rh=this};Ra.prototype.toString=function(){return this.Ld!==p?"MapIterator@"+this.Ld:"MapIterator"};
function pa(a,b){x.lc(this);this.fb=q;a===f||a===p?this.ji=p:"string"===typeof a?"string"===a||"number"===a?this.ji=a:x.ra(a,"the string 'number' or 'string'","Map constructor: keytype"):"function"===typeof a?this.ji=a===Object?"object":a===String?"string":a===Number?"number":a:x.ra(a,"null, a primitive type name, or a class type","Map constructor: keytype");b===f||b===p?this.Ci=p:"string"===typeof b?"string"===b||"boolean"===b||"number"===b||"function"===b?this.Ci=b:x.ra(b,"the string 'number', 'string', 'boolean', or 'function'",
"Map constructor: valtype"):"function"===typeof b?this.Ci=b===Object?"object":b===String?"string":b===Number?"number":b===Boolean?"boolean":b===Function?"function":b:x.ra(b,"null, a primitive type name, or a class type","Map constructor: valtype");this.Kc={};this.Be=0;this.rh=p;this.Nb=0;this.sh=this.ie=p}x.S("Map",pa);function Sa(a,b){a.ji!==p&&("string"===typeof a.ji?(typeof b!==a.ji||b===p)&&x.kc(b,a.ji):b instanceof a.ji||x.kc(b,a.ji))}
pa.prototype.zd=function(){var a=this.Nb;a++;999999999<a&&(a=0);this.Nb=a};pa.prototype.freeze=pa.prototype.freeze=function(){this.fb=i;return this};pa.prototype.thaw=pa.prototype.Oa=function(){this.fb=q;return this};pa.prototype.toString=function(){return"Map("+x.Mh(this.ji)+","+x.Mh(this.Ci)+")#"+x.gc(this)};
pa.prototype.add=pa.prototype.add=function(a,b){u&&(Sa(this,a),this.Ci!==p&&("string"===typeof this.Ci?(typeof b!==this.Ci||b===p)&&x.kc(b,this.Ci):b instanceof this.Ci||x.kc(b,this.Ci)));x.C(this,a);var c=a;x.sb(a)&&(c=x.ms(a));var d=this.Kc[c];if(d===f)return this.Be++,d=new Oa(a,b),this.Kc[c]=d,c=this.sh,c===p?this.ie=d:(d.nn=c,c.vj=d),this.sh=d,this.zd(),i;d.value=b;return q};
pa.prototype.addAll=pa.prototype.cg=function(a){if(a===p)return this;u&&x.i(a,pa,pa,"addAll:map");for(a=a.l;a.next();)this.add(a.key,a.value);return this};pa.prototype.contains=pa.prototype.contains=function(a){u&&Sa(this,a);var b=a;return x.sb(a)&&(b=x.gc(a),b===f)?q:this.Kc[b]!==f};pa.prototype.getValue=pa.prototype.va=function(a){u&&Sa(this,a);var b=a;if(x.sb(a)&&(b=x.gc(a),b===f))return p;a=this.Kc[b];return a===f?p:a.value};
pa.prototype.remove=pa.prototype.remove=function(a){if(a===p)return q;u&&Sa(this,a);x.C(this,a);var b=a;if(x.sb(a)&&(b=x.gc(a),b===f))return q;a=this.Kc[b];if(a===f)return q;var c=a.vj,d=a.nn;c!==p&&(c.nn=d);d!==p&&(d.vj=c);this.ie===a&&(this.ie=c);this.sh===a&&(this.sh=d);delete this.Kc[b];this.Be--;this.zd();return i};pa.prototype.clear=pa.prototype.clear=function(){x.C(this);this.Kc={};this.Be=0;this.sh=this.ie=p;this.zd()};
pa.prototype.copy=pa.prototype.copy=function(){var a=new pa(this.ji,this.Ci),b=this.Kc,c;for(c in b){var d=b[c];a.add(d.key,d.value)}return a};pa.prototype.toArray=pa.prototype.vg=function(){var a=[],b=this.Kc,c;for(c in b){var d=b[c];a.push(new Oa(d.key,d.value))}return a};pa.prototype.toKeySet=pa.prototype.$j=function(){return new Qa(this)};x.u(pa,{count:"count"},t("Be"));x.u(pa,{l:"iterator"},function(){if(0>=this.count)return x.If;var a=this.rh;return a!==p?(a.reset(),a):new Ra(this)});
function K(a,b){a===f?this.F=this.D=0:"number"===typeof a&&"number"===typeof b?(this.D=a,this.F=b):x.m("Invalid arguments to Point constructor")}x.S("Point",K);K.prototype.bb=function(a){u&&x.i(a,K,K,"assign:p");this.D=a.D;this.F=a.F};K.prototype.Y=function(a,b){this.D=a;this.F=b};K.prototype.setTo=K.prototype.No=function(a,b){u&&(x.k(a,"number",K,"setTo:x"),x.k(b,"number",K,"setTo:y"));x.C(this);this.D=a;this.F=b;return this};
K.prototype.set=K.prototype.set=function(a){u&&x.i(a,K,K,"set:p");x.C(this);this.D=a.D;this.F=a.F;return this};K.prototype.copy=K.prototype.copy=function(){var a=new K;a.D=this.D;a.F=this.F;return a};K.prototype.eb=function(){this.fb=i;Object.freeze(this);return this};K.prototype.Q=function(){return Object.isFrozen(this)?this:this.copy().freeze()};K.prototype.freeze=function(){this.fb=i;return this};K.prototype.Oa=function(){Object.isFrozen(this)&&x.m("cannot thaw constant: "+this);this.fb=q;return this};
K.parse=function(a){if("string"===typeof a){for(var a=a.split(" "),b=0,c=0;""===a[b];)b++;var d=a[b++];d&&(c=parseFloat(d));for(var e=0;""===a[b];)b++;(d=a[b++])&&(e=parseFloat(d));return new K(c,e)}return new K};K.stringify=function(a){return a instanceof K?a.x.toString()+" "+a.y.toString():a.toString()};K.prototype.toString=function(){return"Point("+this.x+","+this.y+")"};K.prototype.equals=K.prototype.K=function(a){return!(a instanceof K)?q:this.D===a.x&&this.F===a.y};
K.prototype.equalTo=K.prototype.jz=function(a,b){return this.D===a&&this.F===b};K.prototype.Sj=function(a){return Ta(this.D,a.x)&&Ta(this.F,a.y)};K.prototype.Li=function(a){return Ua(this.D,a.x)&&Ua(this.F,a.y)};K.prototype.add=K.prototype.add=function(a){u&&x.i(a,K,K,"add:p");x.C(this);this.D+=a.x;this.F+=a.y;return this};K.prototype.subtract=K.prototype.Ts=function(a){u&&x.i(a,K,K,"subtract:p");x.C(this);this.D-=a.x;this.F-=a.y;return this};
K.prototype.offset=K.prototype.offset=function(a,b){u&&(x.n(a,K,"offset:dx"),x.n(b,K,"offset:dy"));x.C(this);this.D+=a;this.F+=b;return this};K.prototype.rotate=K.prototype.rotate=function(a){u&&x.n(a,K,"rotate:angle");x.C(this);if(0===a)return this;var b=this.D,c=this.F;if(0===b&&0===c)return this;var d=a*Math.PI/180,a=Math.cos(d),d=Math.sin(d);this.D=a*b-d*c;this.F=d*b+a*c;return this};
K.prototype.scale=K.prototype.scale=function(a,b){u&&(x.n(a,K,"scale:sx"),x.n(b,K,"scale:sy"));this.D*=a;this.F*=b;return this};K.prototype.distanceSquaredPoint=K.prototype.cm=function(a){u&&x.i(a,K,K,"distanceSquaredPoint:p");var b=a.x-this.D,a=a.y-this.F;return b*b+a*a};K.prototype.distanceSquared=K.prototype.fK=function(a,b){u&&(x.n(a,K,"distanceSquared:px"),x.n(b,K,"distanceSquared:py"));var c=a-this.D,d=b-this.F;return c*c+d*d};
K.prototype.normalize=K.prototype.normalize=function(){x.C(this);var a=this.D,b=this.F,c=Math.sqrt(a*a+b*b);0<c&&(this.D=a/c,this.F=b/c);return this};K.prototype.directionPoint=K.prototype.Hi=function(a){u&&x.i(a,K,K,"directionPoint:p");return Xa(a.x-this.D,a.y-this.F)};K.prototype.direction=K.prototype.direction=function(a,b){u&&(x.n(a,K,"direction:px"),x.n(b,K,"direction:py"));return Xa(a-this.D,b-this.F)};
function Xa(a,b){if(0===a)return 0<b?90:0>b?270:0;if(0===b)return 0<a?0:180;if(isNaN(a)||isNaN(b))return 0;var c=180*Math.atan(Math.abs(b/a))/Math.PI;0>a?c=0>b?c+180:180-c:0>b&&(c=360-c);return c}K.prototype.setRectSpot=K.prototype.Mo=function(a,b){u&&(x.i(a,L,K,"setRectSpot:r"),x.i(b,N,K,"setRectSpot:spot"));x.C(this);this.D=a.x+b.x*a.width+b.offsetX;this.F=a.y+b.y*a.height+b.offsetY;return this};
K.prototype.setSpot=K.prototype.wm=function(a,b,c,d,e){u&&(x.n(a,K,"setSpot:x"),x.n(b,K,"setSpot:y"),x.n(c,K,"setSpot:w"),x.n(d,K,"setSpot:h"),(0>c||0>d)&&x.m("Point.setSpot:Width and height cannot be negative"),x.i(e,N,K,"setSpot:spot"));x.C(this);this.D=a+e.x*c+e.offsetX;this.F=b+e.y*d+e.offsetY;return this};K.prototype.transform=function(a){u&&x.i(a,Ya,K,"transform:t");a.Xa(this);return this};function $a(a,b){u&&x.i(b,Ya,K,"transformInverted:t");b.Pi(a);return a}var ab;
K.distanceLineSegmentSquared=ab=function(a,b,c,d,e,g){u&&(x.n(a,K,"distanceLineSegmentSquared:px"),x.n(b,K,"distanceLineSegmentSquared:py"),x.n(c,K,"distanceLineSegmentSquared:ax"),x.n(d,K,"distanceLineSegmentSquared:ay"),x.n(e,K,"distanceLineSegmentSquared:bx"),x.n(g,K,"distanceLineSegmentSquared:by"));var h=e-c,j=g-d,k=h*h+j*j,c=c-a,d=d-b,l=-c*h-d*j;if(0>=l||l>=k)return h=e-a,j=g-b,Math.min(c*c+d*d,h*h+j*j);a=h*d-j*c;return a*a/k};
K.distanceSquared=function(a,b,c,d){u&&(x.n(a,K,"distanceSquared:px"),x.n(b,K,"distanceSquared:py"),x.n(c,K,"distanceSquared:qx"),x.n(d,K,"distanceSquared:qy"));a=c-a;b=d-b;return a*a+b*b};var bb;
K.direction=bb=function(a,b,c,d){u&&(x.n(a,K,"direction:px"),x.n(b,K,"direction:py"),x.n(c,K,"direction:qx"),x.n(d,K,"direction:qy"));a=c-a;b=d-b;if(0===a)return 0<b?90:0>b?270:0;if(0===b)return 0<a?0:180;if(isNaN(a)||isNaN(b))return 0;d=180*Math.atan(Math.abs(b/a))/Math.PI;0>a?d=0>b?d+180:180-d:0>b&&(d=360-d);return d};x.g(K,"x",K.prototype.x);x.defineProperty(K,{x:"x"},t("D"),function(a){x.C(this,a);u&&x.k(a,"number",K,"x");this.D=a});x.g(K,"y",K.prototype.y);
x.defineProperty(K,{y:"y"},t("F"),function(a){x.C(this,a);u&&x.k(a,"number",K,"y");this.F=a});K.prototype.isReal=K.prototype.R=function(){return isFinite(this.x)&&isFinite(this.y)};function cb(a,b){a===f?this.pa=this.qa=0:"number"===typeof a&&(0<=a||isNaN(a))&&"number"===typeof b&&(0<=b||isNaN(b))?(this.qa=a,this.pa=b):x.m("Invalid arguments to Size constructor")}x.S("Size",cb);cb.prototype.bb=function(a){u&&x.i(a,cb,cb,"assign:s");this.qa=a.qa;this.pa=a.pa};
cb.prototype.Y=function(a,b){this.qa=a;this.pa=b};cb.prototype.setTo=cb.prototype.No=function(a,b){u&&(x.k(a,"number",cb,"setTo:w"),x.k(b,"number",cb,"setTo:h"));0>a&&x.ra(a,">= 0",cb,"setTo:w");0>b&&x.ra(b,">= 0",cb,"setTo:h");x.C(this);this.qa=a;this.pa=b;return this};cb.prototype.set=cb.prototype.set=function(a){u&&x.i(a,cb,cb,"set:s");x.C(this);this.qa=a.qa;this.pa=a.pa;return this};cb.prototype.copy=cb.prototype.copy=function(){var a=new cb;a.qa=this.qa;a.pa=this.pa;return a};
cb.prototype.eb=function(){this.fb=i;Object.freeze(this);return this};cb.prototype.Q=function(){return Object.isFrozen(this)?this:this.copy().freeze()};cb.prototype.freeze=function(){this.fb=i;return this};cb.prototype.Oa=function(){Object.isFrozen(this)&&x.m("cannot thaw constant: "+this);this.fb=q;return this};
cb.parse=function(a){if("string"===typeof a){for(var a=a.split(" "),b=0,c=0;""===a[b];)b++;var d=a[b++];d&&(c=parseFloat(d));for(var e=0;""===a[b];)b++;(d=a[b++])&&(e=parseFloat(d));return new cb(c,e)}return new cb};cb.stringify=function(a){return a instanceof cb?a.width.toString()+" "+a.height.toString():a.toString()};cb.prototype.toString=function(){return"Size("+this.width+","+this.height+")"};
cb.prototype.equals=cb.prototype.K=function(a){return!(a instanceof cb)?q:this.qa===a.width&&this.pa===a.height};cb.prototype.equalTo=cb.prototype.jz=function(a,b){return this.qa===a&&this.pa===b};cb.prototype.Sj=function(a){return Ta(this.qa,a.width)&&Ta(this.pa,a.height)};cb.prototype.Li=function(a){return Ua(this.qa,a.width)&&Ua(this.pa,a.height)};x.g(cb,"width",cb.prototype.width);
x.defineProperty(cb,{width:"width"},t("qa"),function(a){x.C(this,a);u&&x.k(a,"number",cb,"width");0>a&&x.ra(a,">= 0",cb,"width");this.qa=a});x.g(cb,"height",cb.prototype.height);x.defineProperty(cb,{height:"height"},t("pa"),function(a){x.C(this,a);u&&x.k(a,"number",cb,"height");0>a&&x.ra(a,">= 0",cb,"height");this.pa=a});cb.prototype.isReal=cb.prototype.R=function(){return isFinite(this.width)&&isFinite(this.height)};
function L(a,b,c,d){a===f?this.pa=this.qa=this.F=this.D=0:a instanceof K?b instanceof K?(this.D=Math.min(a.D,b.D),this.F=Math.min(a.F,b.F),this.qa=Math.abs(a.D-b.D),this.pa=Math.abs(a.F-b.F)):b instanceof cb?(this.D=a.D,this.F=a.F,this.qa=b.qa,this.pa=b.pa):x.m("Incorrect arguments supplied"):"number"===typeof a&&"number"===typeof b&&"number"===typeof c&&(0<=c||isNaN(c))&&"number"===typeof d&&(0<=d||isNaN(d))?(this.D=a,this.F=b,this.qa=c,this.pa=d):x.m("Invalid arguments to Rect constructor")}
x.S("Rect",L);L.prototype.bb=function(a){u&&x.i(a,L,L,"assign:r");this.D=a.D;this.F=a.F;this.qa=a.qa;this.pa=a.pa};L.prototype.Y=function(a,b,c,d){this.D=a;this.F=b;this.qa=c;this.pa=d};function db(a,b,c){a.qa=b;a.pa=c}L.prototype.setTo=L.prototype.No=function(a,b,c,d){u&&(x.k(a,"number",L,"setTo:x"),x.k(b,"number",L,"setTo:y"),x.k(c,"number",L,"setTo:w"),x.k(d,"number",L,"setTo:h"));0>c&&x.ra(c,">= 0",L,"setTo:w");0>d&&x.ra(d,">= 0",L,"setTo:h");x.C(this);this.D=a;this.F=b;this.qa=c;this.pa=d;return this};
L.prototype.set=L.prototype.set=function(a){u&&x.i(a,L,L,"set:r");x.C(this);this.D=a.D;this.F=a.F;this.qa=a.qa;this.pa=a.pa;return this};L.prototype.setPoint=L.prototype.L=function(a){u&&x.i(a,K,L,"setPoint:p");x.C(this);this.D=a.D;this.F=a.F;return this};L.prototype.setSize=L.prototype.oI=function(a){u&&x.i(a,cb,L,"setSize:s");x.C(this);this.qa=a.qa;this.pa=a.pa;return this};L.prototype.copy=L.prototype.copy=function(){var a=new L;a.D=this.D;a.F=this.F;a.qa=this.qa;a.pa=this.pa;return a};
L.prototype.eb=function(){this.fb=i;Object.freeze(this);return this};L.prototype.Q=function(){return Object.isFrozen(this)?this:this.copy().freeze()};L.prototype.freeze=function(){this.fb=i;return this};L.prototype.Oa=function(){Object.isFrozen(this)&&x.m("cannot thaw constant: "+this);this.fb=q;return this};
L.parse=function(a){if("string"===typeof a){for(var a=a.split(" "),b=0,c=0;""===a[b];)b++;var d=a[b++];d&&(c=parseFloat(d));for(var e=0;""===a[b];)b++;(d=a[b++])&&(e=parseFloat(d));for(var g=0;""===a[b];)b++;(d=a[b++])&&(g=parseFloat(d));for(var h=0;""===a[b];)b++;(d=a[b++])&&(h=parseFloat(d));return new L(c,e,g,h)}return new L};L.stringify=function(a){return a instanceof L?a.x.toString()+" "+a.y.toString()+" "+a.width.toString()+" "+a.height.toString():a.toString()};
L.prototype.toString=function(){return"Rect("+this.x+","+this.y+","+this.width+","+this.height+")"};L.prototype.equals=L.prototype.K=function(a){return!(a instanceof L)?q:this.D===a.x&&this.F===a.y&&this.qa===a.width&&this.pa===a.height};L.prototype.equalTo=L.prototype.jz=function(a,b,c,d){return this.D===a&&this.F===b&&this.qa===c&&this.pa===d};L.prototype.Sj=function(a){return Ta(this.D,a.x)&&Ta(this.F,a.y)&&Ta(this.qa,a.width)&&Ta(this.pa,a.height)};
L.prototype.Li=function(a){return Ua(this.D,a.x)&&Ua(this.F,a.y)&&Ua(this.qa,a.width)&&Ua(this.pa,a.height)};L.prototype.containsPoint=L.prototype.Aa=function(a){u&&x.i(a,K,L,"containsPoint:p");return this.D<=a.x&&this.D+this.qa>=a.x&&this.F<=a.y&&this.F+this.pa>=a.y};L.prototype.containsRect=L.prototype.Zl=function(a){u&&x.i(a,L,L,"containsRect:r");return this.D<=a.x&&a.x+a.width<=this.D+this.qa&&this.F<=a.y&&a.y+a.height<=this.F+this.pa};
L.prototype.contains=L.prototype.contains=function(a,b,c,d){u?(x.n(a,L,"contains:x"),x.n(b,L,"contains:y"),c===f?c=0:x.n(c,L,"contains:w"),d===f?d=0:x.n(d,L,"contains:h"),(0>c||0>d)&&x.m("Rect.contains:Width and height cannot be negative")):(c===f&&(c=0),d===f&&(d=0));return this.D<=a&&a+c<=this.D+this.qa&&this.F<=b&&b+d<=this.F+this.pa};L.prototype.reset=function(){x.C(this);this.pa=this.qa=this.F=this.D=0};
L.prototype.offset=L.prototype.offset=function(a,b){u&&(x.n(a,L,"offset:dx"),x.n(b,L,"offset:dy"));x.C(this);this.D+=a;this.F+=b;return this};L.prototype.inflate=L.prototype.Wg=function(a,b){u&&(x.n(a,L,"inflate:w"),x.n(b,L,"inflate:h"));return fb(this,b,a,b,a)};L.prototype.addMargin=L.prototype.Lr=function(a){u&&x.i(a,gb,L,"addMargin:m");return fb(this,a.top,a.right,a.bottom,a.left)};
L.prototype.subtractMargin=L.prototype.xI=function(a){u&&x.i(a,gb,L,"subtractMargin:m");return fb(this,-a.top,-a.right,-a.bottom,-a.left)};L.prototype.grow=L.prototype.XK=function(a,b,c,d){u&&(x.n(a,L,"grow:t"),x.n(b,L,"grow:r"),x.n(c,L,"grow:b"),x.n(d,L,"grow:l"));return fb(this,a,b,c,d)};function fb(a,b,c,d,e){x.C(a);var g=a.qa;c+e<=-g?(a.D+=g/2,a.qa=0):(a.D-=e,a.qa+=c+e);c=a.pa;b+d<=-c?(a.F+=c/2,a.pa=0):(a.F-=b,a.pa+=b+d);return a}
L.prototype.intersectRect=L.prototype.jL=function(a){u&&x.i(a,L,L,"intersectRect:r");return hb(this,a.x,a.y,a.width,a.height)};L.prototype.intersect=L.prototype.iL=function(a,b,c,d){u&&(x.n(a,L,"intersect:x"),x.n(b,L,"intersect:y"),x.n(c,L,"intersect:w"),x.n(d,L,"intersect:h"),(0>c||0>d)&&x.m("Rect.intersect:Width and height cannot be negative"));return hb(this,a,b,c,d)};
function hb(a,b,c,d,e){x.C(a);var g=Math.max(a.D,b),h=Math.max(a.F,c),b=Math.min(a.D+a.qa,b+d),c=Math.min(a.F+a.pa,c+e);a.D=g;a.F=h;a.qa=Math.max(0,b-g);a.pa=Math.max(0,c-h);return a}L.prototype.intersectsRect=L.prototype.Oe=function(a){u&&x.i(a,L,L,"intersectsRect:r");return this.lH(a.x,a.y,a.width,a.height)};
L.prototype.intersects=L.prototype.lH=function(a,b,c,d){u&&(x.n(a,L,"intersects:x"),x.n(b,L,"intersects:y"),x.n(a,L,"intersects:w"),x.n(b,L,"intersects:h"),(0>c||0>d)&&x.m("Rect.intersects:Width and height cannot be negative"));var e=this.qa,g=this.D;if(Infinity!==e&&Infinity!==c&&(e+=g,c+=a,isNaN(c)||isNaN(e)||g>c||a>e))return q;a=this.pa;e=this.F;return Infinity!==a&&Infinity!==d&&(a+=e,d+=b,isNaN(d)||isNaN(a)||e>d||b>a)?q:i};
L.prototype.unionPoint=L.prototype.kw=function(a){u&&x.i(a,K,L,"unionPoint:p");return this.bc(a.x,a.y,0,0)};L.prototype.unionRect=L.prototype.Yi=function(a){u&&x.i(a,L,L,"unionRect:r");return this.bc(a.D,a.F,a.qa,a.pa)};L.prototype.union=L.prototype.yM=function(a,b,c,d){x.C(this);u?(x.n(a,L,"union:x"),x.n(b,L,"union:y"),c===f?c=0:x.n(c,L,"union:w"),d===f?d=0:x.n(d,L,"union:h"),(0>c||0>d)&&x.m("Rect.union:Width and height cannot be negative")):(c===f&&(c=0),d===f&&(d=0));return this.bc(a,b,c,d)};
L.prototype.bc=function(a,b,c,d){var e=Math.min(this.D,a),g=Math.min(this.F,b),a=Math.max(this.D+this.qa,a+c),b=Math.max(this.F+this.pa,b+d);this.D=e;this.F=g;this.qa=a-e;this.pa=b-g;return this};L.prototype.setSpot=L.prototype.wm=function(a,b,c){u&&(x.n(a,L,"setSpot:x"),x.n(b,L,"setSpot:y"),x.i(c,N,L,"setSpot:spot"));x.C(this);this.D=a-c.offsetX-c.x*this.qa;this.F=b-c.offsetY-c.y*this.pa;return this};var lb;
L.contains=lb=function(a,b,c,d,e,g,h,j){u?(x.n(a,L,"contains:rx"),x.n(b,L,"contains:ry"),x.n(c,L,"contains:rw"),x.n(d,L,"contains:rh"),x.n(e,L,"contains:x"),x.n(g,L,"contains:y"),h===f?h=0:x.n(h,L,"contains:w"),j===f?j=0:x.n(j,L,"contains:h"),(0>c||0>d||0>h||0>j)&&x.m("Rect.contains:Width and height cannot be negative")):(h===f&&(h=0),j===f&&(j=0));return a<=e&&e+h<=a+c&&b<=g&&g+j<=b+d};
L.intersects=function(a,b,c,d,e,g,h,j){u&&(x.n(a,L,"intersects:rx"),x.n(b,L,"intersects:ry"),x.n(c,L,"intersects:rw"),x.n(d,L,"intersects:rh"),x.n(e,L,"intersects:x"),x.n(g,L,"intersects:y"),x.n(h,L,"intersects:w"),x.n(j,L,"intersects:h"),(0>c||0>d||0>h||0>j)&&x.m("Rect.intersects:Width and height cannot be negative"));c+=a;h+=e;if(a>h||e>c)return q;a=d+b;j+=g;return b>j||g>a?q:i};x.g(L,"x",L.prototype.x);x.defineProperty(L,{x:"x"},t("D"),function(a){x.C(this,a);u&&x.k(a,"number",L,"x");this.D=a});
x.g(L,"y",L.prototype.y);x.defineProperty(L,{y:"y"},t("F"),function(a){x.C(this,a);u&&x.k(a,"number",L,"y");this.F=a});x.g(L,"width",L.prototype.width);x.defineProperty(L,{width:"width"},t("qa"),function(a){x.C(this,a);u&&x.k(a,"number",L,"width");0>a&&x.ra(a,">= 0",L,"width");this.qa=a});x.g(L,"height",L.prototype.height);x.defineProperty(L,{height:"height"},t("pa"),function(a){x.C(this,a);u&&x.k(a,"number",L,"height");0>a&&x.ra(a,">= 0",L,"height");this.pa=a});x.g(L,"left",L.prototype.left);
x.defineProperty(L,{left:"left"},t("D"),function(a){x.C(this,a);u&&x.k(a,"number",L,"left");this.D=a});x.g(L,"top",L.prototype.top);x.defineProperty(L,{top:"top"},t("F"),function(a){x.C(this,a);u&&x.k(a,"number",L,"top");this.F=a});x.g(L,"right",L.prototype.right);x.defineProperty(L,{right:"right"},function(){return this.D+this.qa},function(a){x.C(this,a);u&&x.n(a,L,"right");this.D+=a-(this.D+this.qa)});x.g(L,"bottom",L.prototype.bottom);
x.defineProperty(L,{bottom:"bottom"},function(){return this.F+this.pa},function(a){x.C(this,a);u&&x.n(a,L,"top");this.F+=a-(this.F+this.pa)});x.g(L,"position",L.prototype.position);x.defineProperty(L,{position:"position"},function(){return new K(this.D,this.F)},function(a){x.C(this,a);u&&x.i(a,K,L,"position");this.D=a.x;this.F=a.y});x.g(L,"size",L.prototype.size);
x.defineProperty(L,{size:"size"},function(){return new cb(this.qa,this.pa)},function(a){x.C(this,a);u&&x.i(a,cb,L,"size");this.qa=a.width;this.pa=a.height});x.g(L,"center",L.prototype.kv);x.defineProperty(L,{kv:"center"},function(){return new K(this.D+this.qa/2,this.F+this.pa/2)},function(a){x.C(this,a);u&&x.i(a,K,L,"center");this.D=a.x-this.qa/2;this.F=a.y-this.pa/2});x.g(L,"centerX",L.prototype.ua);
x.defineProperty(L,{ua:"centerX"},function(){return this.D+this.qa/2},function(a){x.C(this,a);u&&x.n(a,L,"centerX");this.D=a-this.qa/2});x.g(L,"centerY",L.prototype.Da);x.defineProperty(L,{Da:"centerY"},function(){return this.F+this.pa/2},function(a){x.C(this,a);u&&x.n(a,L,"centerY");this.F=a-this.pa/2});L.prototype.isReal=L.prototype.R=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)};
L.prototype.isEmpty=L.prototype.lL=function(){return 0===this.width&&0===this.height};function gb(a,b,c,d){a===f?this.Of=this.Kf=this.Vf=this.$f=0:b===f?this.left=this.bottom=this.right=this.top=a:c===f?(d=b,this.top=a,this.right=b,this.bottom=a,this.left=d):d!==f?(this.top=a,this.right=b,this.bottom=c,this.left=d):x.m("Invalid arguments to Margin constructor")}x.S("Margin",gb);gb.prototype.bb=function(a){u&&x.i(a,gb,gb,"assign:m");this.$f=a.$f;this.Vf=a.Vf;this.Kf=a.Kf;this.Of=a.Of};
gb.prototype.setTo=gb.prototype.No=function(a,b,c,d){u&&(x.k(a,"number",gb,"setTo:t"),x.k(b,"number",gb,"setTo:r"),x.k(c,"number",gb,"setTo:b"),x.k(d,"number",gb,"setTo:l"));x.C(this);this.$f=a;this.Vf=b;this.Kf=c;this.Of=d;return this};gb.prototype.set=gb.prototype.set=function(a){u&&x.i(a,gb,gb,"assign:m");x.C(this);this.$f=a.$f;this.Vf=a.Vf;this.Kf=a.Kf;this.Of=a.Of;return this};gb.prototype.copy=gb.prototype.copy=function(){var a=new gb;a.$f=this.$f;a.Vf=this.Vf;a.Kf=this.Kf;a.Of=this.Of;return a};
gb.prototype.eb=function(){this.fb=i;Object.freeze(this);return this};gb.prototype.Q=function(){return Object.isFrozen(this)?this:this.copy().freeze()};gb.prototype.freeze=function(){this.fb=i;return this};gb.prototype.Oa=function(){Object.isFrozen(this)&&x.m("cannot thaw constant: "+this);this.fb=q;return this};
gb.parse=function(a){if("string"===typeof a){for(var a=a.split(" "),b=0,c=0;""===a[b];)b++;var d=a[b++];d&&(c=parseFloat(d));for(var e=0;""===a[b];)b++;(d=a[b++])&&(e=parseFloat(d));for(var g=0;""===a[b];)b++;(d=a[b++])&&(g=parseFloat(d));for(var h=0;""===a[b];)b++;(d=a[b++])&&(h=parseFloat(d));return new gb(c,e,g,h)}return new gb};gb.stringify=function(a){return a instanceof gb?a.top.toString()+" "+a.right.toString()+" "+a.bottom.toString()+" "+a.left.toString():a.toString()};
gb.prototype.toString=function(){return"Margin("+this.top+","+this.right+","+this.bottom+","+this.left+")"};gb.prototype.equals=gb.prototype.K=function(a){return!(a instanceof gb)?q:this.$f===a.top&&this.Vf===a.right&&this.Kf===a.bottom&&this.Of===a.left};gb.prototype.equalTo=gb.prototype.jz=function(a,b,c,d){return this.$f===a&&this.Vf===b&&this.Kf===c&&this.Of===d};gb.prototype.Sj=function(a){return Ta(this.$f,a.top)&&Ta(this.Vf,a.right)&&Ta(this.Kf,a.bottom)&&Ta(this.Of,a.left)};
gb.prototype.Li=function(a){return Ua(this.$f,a.top)&&Ua(this.Vf,a.right)&&Ua(this.Kf,a.bottom)&&Ua(this.Of,a.left)};x.g(gb,"top",gb.prototype.top);x.defineProperty(gb,{top:"top"},t("$f"),function(a){x.C(this,a);u&&x.n(a,gb,"top");this.$f=a});x.g(gb,"right",gb.prototype.right);x.defineProperty(gb,{right:"right"},t("Vf"),function(a){x.C(this,a);u&&x.n(a,gb,"right");this.Vf=a});x.g(gb,"bottom",gb.prototype.bottom);
x.defineProperty(gb,{bottom:"bottom"},t("Kf"),function(a){x.C(this,a);u&&x.n(a,gb,"bottom");this.Kf=a});x.g(gb,"left",gb.prototype.left);x.defineProperty(gb,{left:"left"},t("Of"),function(a){x.C(this,a);u&&x.n(a,gb,"left");this.Of=a});gb.prototype.isReal=gb.prototype.R=function(){return isFinite(this.top)&&isFinite(this.right)&&isFinite(this.bottom)&&isFinite(this.left)};function Ya(){this.m11=1;this.m21=this.m12=0;this.m22=1;this.dy=this.dx=0}x.eg(Ya,{m11:i,m12:i,m21:i,m22:i,dx:i,dy:i});
Ya.prototype.set=Ya.prototype.set=function(a){u&&x.i(a,Ya,Ya,"set:t");this.m11=a.m11;this.m12=a.m12;this.m21=a.m21;this.m22=a.m22;this.dx=a.dx;this.dy=a.dy;return this};Ya.prototype.copy=Ya.prototype.copy=function(){var a=new Ya;a.m11=this.m11;a.m12=this.m12;a.m21=this.m21;a.m22=this.m22;a.dx=this.dx;a.dy=this.dy;return a};Ya.prototype.toString=function(){return"Transform("+this.m11+","+this.m12+","+this.m21+","+this.m22+","+this.dx+","+this.dy+")"};
Ya.prototype.equals=Ya.prototype.K=function(a){return!(a instanceof Ya)?q:this.m11===a.m11&&this.m12===a.m12&&this.m21===a.m21&&this.m22===a.m22&&this.dx===a.dx&&this.dy===a.dy};Ya.prototype.reset=Ya.prototype.reset=function(){this.m11=1;this.m21=this.m12=0;this.m22=1;this.dy=this.dx=0};
Ya.prototype.multiply=Ya.prototype.multiply=function(a){u&&x.i(a,Ya,Ya,"multiply:matrix");var b=this.m12*a.m11+this.m22*a.m12,c=this.m11*a.m21+this.m21*a.m22,d=this.m12*a.m21+this.m22*a.m22,e=this.m11*a.dx+this.m21*a.dy+this.dx,g=this.m12*a.dx+this.m22*a.dy+this.dy;this.m11=this.m11*a.m11+this.m21*a.m12;this.m12=b;this.m21=c;this.m22=d;this.dx=e;this.dy=g;return this};
Ya.prototype.multiplyInverted=Ya.prototype.fE=function(a){u&&x.i(a,Ya,Ya,"multiplyInverted:matrix");var b=1/(a.m11*a.m22-a.m12*a.m21),c=a.m22*b,d=-a.m12*b,e=-a.m21*b,g=a.m11*b,h=b*(a.m21*a.dy-a.m22*a.dx),j=b*(a.m12*a.dx-a.m11*a.dy),a=this.m12*c+this.m22*d,b=this.m11*e+this.m21*g,e=this.m12*e+this.m22*g,g=this.m11*h+this.m21*j+this.dx,h=this.m12*h+this.m22*j+this.dy;this.m11=this.m11*c+this.m21*d;this.m12=a;this.m21=b;this.m22=e;this.dx=g;this.dy=h;return this};
Ya.prototype.invert=Ya.prototype.GD=function(){var a=1/(this.m11*this.m22-this.m12*this.m21),b=-this.m12*a,c=-this.m21*a,d=this.m11*a,e=a*(this.m21*this.dy-this.m22*this.dx),g=a*(this.m12*this.dx-this.m11*this.dy);this.m11=this.m22*a;this.m12=b;this.m21=c;this.m22=d;this.dx=e;this.dy=g};
Ya.prototype.rotate=Ya.prototype.rotate=function(a,b,c){u&&(x.n(a,Ya,"rotate:angle"),x.n(b,Ya,"rotate:rx"),x.n(c,Ya,"rotate:ry"));this.translate(b,c);var d=a*Math.PI/180,a=Math.cos(d),d=Math.sin(d),e=this.m12*a+this.m22*d,g=this.m11*-d+this.m21*a,h=this.m12*-d+this.m22*a;this.m11=this.m11*a+this.m21*d;this.m12=e;this.m21=g;this.m22=h;this.translate(-b,-c)};
Ya.prototype.translate=Ya.prototype.translate=function(a,b){u&&(x.n(a,Ya,"translate:x"),x.n(b,Ya,"translate:y"));this.dx+=this.m11*a+this.m21*b;this.dy+=this.m12*a+this.m22*b};Ya.prototype.scale=Ya.prototype.scale=function(a,b){b===f&&(b=a);u&&(x.n(a,Ya,"translate:sx"),x.n(b,Ya,"translate:sy"));this.m11*=a;this.m12*=a;this.m21*=b;this.m22*=b};
Ya.prototype.transformPoint=Ya.prototype.Xa=function(a){u&&x.i(a,K,Ya,"transformPoint:p");var b=a.D,c=a.F;a.D=b*this.m11+c*this.m21+this.dx;a.F=b*this.m12+c*this.m22+this.dy;return a};Ya.prototype.invertedTransformPoint=Ya.prototype.Pi=function(a){u&&x.i(a,K,Ya,"invertedTransformPoint:p");var b=1/(this.m11*this.m22-this.m12*this.m21),c=-this.m12*b,d=this.m11*b,e=b*(this.m12*this.dx-this.m11*this.dy),g=a.D,h=a.F;a.D=g*this.m22*b+h*-this.m21*b+b*(this.m21*this.dy-this.m22*this.dx);a.F=g*c+h*d+e;return a};
Ya.prototype.transformRect=Ya.prototype.aF=function(a){u&&x.i(a,L,Ya,"transformRect:rect");var b=a.D,c=a.F,d=b+a.qa,e=c+a.pa,g=this.m11,h=this.m12,j=this.m21,k=this.m22,l=this.dx,m=this.dy,n=b*g+c*j+l,r=b*h+c*k+m,s=d*g+c*j+l,c=d*h+c*k+m,v=b*g+e*j+l,b=b*h+e*k+m,g=d*g+e*j+l,d=d*h+e*k+m,e=n,h=r,n=Math.min(n,s),e=Math.max(e,s),h=Math.min(h,c),r=Math.max(r,c),n=Math.min(n,v),e=Math.max(e,v),h=Math.min(h,b),r=Math.max(r,b),n=Math.min(n,g),e=Math.max(e,g),h=Math.min(h,d),r=Math.max(r,d);a.D=n;a.F=h;a.qa=
e-n;a.pa=r-h};function nb(a,b){return new K(b.D*a.m11+b.F*a.m21+a.dx,b.D*a.m12+b.F*a.m22+a.dy)}Ya.prototype.isIdentity=Ya.prototype.qs=function(){return 1===this.m11&&0===this.m12&&0===this.m21&&1===this.m22&&0===this.dx&&0===this.dy};function N(a,b,c,d){a===f?this.Rf=this.Qf=this.F=this.D=0:(b===f&&(b=0),c===f&&(c=0),d===f&&(d=0),this.x=a,this.y=b,this.offsetX=c,this.offsetY=d)}x.S("Spot",N);N.prototype.bb=function(a){u&&x.i(a,N,N,"assign:s");this.D=a.D;this.F=a.F;this.Qf=a.Qf;this.Rf=a.Rf};
N.prototype.setTo=N.prototype.No=function(a,b,c,d){u&&(qb(a,"setTo:x"),qb(b,"setTo:y"),tb(c,"setTo:offx"),tb(d,"setTo:offy"));x.C(this);this.D=a;this.F=b;this.Qf=c;this.Rf=d;return this};N.prototype.set=N.prototype.set=function(a){u&&x.i(a,N,N,"set:s");x.C(this);this.D=a.D;this.F=a.F;this.Qf=a.Qf;this.Rf=a.Rf;return this};N.prototype.copy=N.prototype.copy=function(){var a=new N;a.D=this.D;a.F=this.F;a.Qf=this.Qf;a.Rf=this.Rf;return a};N.prototype.eb=function(){this.fb=i;Object.freeze(this);return this};
N.prototype.Q=function(){return Object.isFrozen(this)?this:this.copy().freeze()};N.prototype.freeze=function(){this.fb=i;return this};N.prototype.Oa=function(){Object.isFrozen(this)&&x.m("cannot thaw constant: "+this);this.fb=q;return this};function ub(a,b){a.D=NaN;a.F=NaN;a.Qf=b;return a}function qb(a,b){(isNaN(a)||1<a||0>a)&&x.ra(a,"0 <= "+b+" <= 1",N,b)}function tb(a,b){(isNaN(a)||Infinity===a||-Infinity===a)&&x.ra(a,"real number, not NaN or Infinity",N,b)}var vb;
N.parse=vb=function(a){if("string"===typeof a){a=a.trim();if("None"===a)return x.NONE;if("TopLeft"===a)return x.Gw;if("Top"===a||"TopCenter"===a||"MiddleTop"===a)return x.Wo;if("TopRight"===a)return x.Iw;if("Left"===a||"LeftCenter"===a||"MiddleLeft"===a)return x.Uo;if("Center"===a)return x.ww;if("Right"===a||"RightCenter"===a||"MiddleRight"===a)return x.Vo;if("BottomLeft"===a)return x.rw;if("Bottom"===a||"BottomCenter"===a||"MiddleBottom"===a)return x.To;if("BottomRight"===a)return x.tw;if("TopSide"===
a)return x.Kw;if("LeftSide"===a)return x.zw;if("RightSide"===a)return x.Ew;if("BottomSide"===a)return x.vw;if("TopBottomSides"===a)return x.Fw;if("LeftRightSides"===a)return x.yw;if("TopLeftSides"===a)return x.Hw;if("TopRightSides"===a)return x.Jw;if("BottomLeftSides"===a)return x.sw;if("BottomRightSides"===a)return x.uw;if("NotTopSide"===a)return x.Dw;if("NotLeftSide"===a)return x.Bw;if("NotRightSide"===a)return x.Cw;if("NotBottomSide"===a)return x.Aw;if("AllSides"===a)return x.qw;if("Default"===
a)return x.xw;for(var a=a.split(" "),b=0,c=0;""===a[b];)b++;var d=a[b++];d&&(c=parseFloat(d));for(var e=0;""===a[b];)b++;(d=a[b++])&&(e=parseFloat(d));for(var g=0;""===a[b];)b++;(d=a[b++])&&(g=parseFloat(d));for(var h=0;""===a[b];)b++;(d=a[b++])&&(h=parseFloat(d));return new N(c,e,g,h)}return new N};N.stringify=function(a){return a instanceof N?wb(a)?a.x.toString()+" "+a.y.toString()+" "+a.offsetX.toString()+" "+a.offsetY.toString():a.toString():a.toString()};
N.prototype.toString=function(){return wb(this)?0===this.Qf&&0===this.Rf?"Spot("+this.x+","+this.y+")":"Spot("+this.x+","+this.y+","+this.offsetX+","+this.offsetY+")":this.K(x.NONE)?"None":this.K(x.Gw)?"TopLeft":this.K(x.Wo)?"Top":this.K(x.Iw)?"TopRight":this.K(x.Uo)?"Left":this.K(x.ww)?"Center":this.K(x.Vo)?"Right":this.K(x.rw)?"BottomLeft":this.K(x.To)?"Bottom":this.K(x.tw)?"BottomRight":this.K(x.Kw)?"TopSide":this.K(x.zw)?"LeftSide":this.K(x.Ew)?"RightSide":this.K(x.vw)?"BottomSide":this.K(x.Fw)?
"TopBottomSides":this.K(x.yw)?"LeftRightSides":this.K(x.Hw)?"TopLeftSides":this.K(x.Jw)?"TopRightSides":this.K(x.sw)?"BottomLeftSides":this.K(x.uw)?"BottomRightSides":this.K(x.Dw)?"NotTopSide":this.K(x.Bw)?"NotLeftSide":this.K(x.Cw)?"NotRightSide":this.K(x.Aw)?"NotBottomSide":this.K(x.qw)?"AllSides":this.K(x.xw)?"Default":"None"};
N.prototype.equals=N.prototype.K=function(a){return!(a instanceof N)?q:(this.D===a.x||isNaN(this.D)&&isNaN(a.x))&&(this.F===a.y||isNaN(this.F)&&isNaN(a.y))&&this.Qf===a.offsetX&&this.Rf===a.offsetY};N.prototype.opposite=N.prototype.LL=function(){return new N(0.5-(this.D-0.5),0.5-(this.F-0.5),-this.Qf,-this.Rf)};N.prototype.includesSide=N.prototype.bL=function(a){if(!xb(this)||!xb(a))return q;a=a.offsetY;return(this.Rf&a)===a};x.g(N,"x",N.prototype.x);
x.defineProperty(N,{x:"x"},t("D"),function(a){x.C(this,a);u&&qb(a,"x");this.D=a});x.g(N,"y",N.prototype.y);x.defineProperty(N,{y:"y"},t("F"),function(a){x.C(this,a);u&&qb(a,"y");this.F=a});x.g(N,"offsetX",N.prototype.offsetX);x.defineProperty(N,{offsetX:"offsetX"},t("Qf"),function(a){x.C(this,a);u&&tb(a,"offsetX");this.Qf=a});x.g(N,"offsetY",N.prototype.offsetY);x.defineProperty(N,{offsetY:"offsetY"},t("Rf"),function(a){x.C(this,a);u&&tb(a,"offsetY");this.Rf=a});
function wb(a){return!isNaN(a.x)&&!isNaN(a.y)}function yb(a){return isNaN(a.x)||isNaN(a.y)}function xb(a){return yb(a)&&1===a.offsetX&&0!==a.offsetY}function Ab(a){return isNaN(a.x)&&isNaN(a.y)&&-1===a.offsetX&&0===a.offsetY}x.sd=1;x.Vc=2;x.ed=4;x.dd=8;x.NONE=ub(new N(0,0,0,0),0).eb();x.xw=ub(new N(0,0,-1,0),-1).eb();x.Gw=(new N(0,0,0,0)).eb();x.Wo=(new N(0.5,0,0,0)).eb();x.Iw=(new N(1,0,0,0)).eb();x.Uo=(new N(0,0.5,0,0)).eb();x.ww=(new N(0.5,0.5,0,0)).eb();x.Vo=(new N(1,0.5,0,0)).eb();
x.rw=(new N(0,1,0,0)).eb();x.To=(new N(0.5,1,0,0)).eb();x.tw=(new N(1,1,0,0)).eb();x.Kw=ub(new N(0,0,1,x.sd),1).eb();x.zw=ub(new N(0,0,1,x.Vc),1).eb();x.Ew=ub(new N(0,0,1,x.ed),1).eb();x.vw=ub(new N(0,0,1,x.dd),1).eb();x.Fw=ub(new N(0,0,1,x.sd|x.dd),1).eb();x.yw=ub(new N(0,0,1,x.Vc|x.ed),1).eb();x.Hw=ub(new N(0,0,1,x.sd|x.Vc),1).eb();x.Jw=ub(new N(0,0,1,x.sd|x.ed),1).eb();x.sw=ub(new N(0,0,1,x.dd|x.Vc),1).eb();x.uw=ub(new N(0,0,1,x.dd|x.ed),1).eb();x.Dw=ub(new N(0,0,1,x.Vc|x.ed|x.dd),1).eb();
x.Bw=ub(new N(0,0,1,x.sd|x.ed|x.dd),1).eb();x.Cw=ub(new N(0,0,1,x.sd|x.Vc|x.dd),1).eb();x.Aw=ub(new N(0,0,1,x.sd|x.Vc|x.ed),1).eb();x.qw=ub(new N(0,0,1,x.sd|x.Vc|x.ed|x.dd),1).eb();var Bb;N.None=Bb=x.NONE;var Cb;N.Default=Cb=x.xw;var Db;N.TopLeft=Db=x.Gw;var Eb;N.TopCenter=Eb=x.Wo;var Fb;N.TopRight=Fb=x.Iw;N.LeftCenter=x.Uo;var Kb;N.Center=Kb=x.ww;N.RightCenter=x.Vo;var Lb;N.BottomLeft=Lb=x.rw;var Mb;N.BottomCenter=Mb=x.To;var Nb;N.BottomRight=Nb=x.tw;var Ob;N.MiddleTop=Ob=x.Wo;var Pb;
N.MiddleLeft=Pb=x.Uo;var Qb;N.MiddleRight=Qb=x.Vo;var Rb;N.MiddleBottom=Rb=x.To;N.Top=x.Wo;var Sb;N.Left=Sb=x.Uo;var Tb;N.Right=Tb=x.Vo;N.Bottom=x.To;var Ub;N.TopSide=Ub=x.Kw;var Vb;N.LeftSide=Vb=x.zw;var Yb;N.RightSide=Yb=x.Ew;var Zb;N.BottomSide=Zb=x.vw;N.TopBottomSides=x.Fw;N.LeftRightSides=x.yw;N.TopLeftSides=x.Hw;N.TopRightSides=x.Jw;N.BottomLeftSides=x.sw;N.BottomRightSides=x.uw;N.NotTopSide=x.Dw;N.NotLeftSide=x.Bw;N.NotRightSide=x.Cw;N.NotBottomSide=x.Aw;var $b;N.AllSides=$b=x.qw;
var ac=4*((Math.sqrt(2)-1)/3),bc=(new K(0,0)).eb(),ec=(new cb(Infinity,Infinity)).eb(),fc=(new K(-Infinity,-Infinity)).eb(),gc=(new K(Infinity,Infinity)).eb(),lc=(new cb(0,0)).eb(),mc=(new K(NaN,NaN)).eb(),nc=p;function oc(a){if(0>=a)return 0;var b=nc;if(b===p){for(var b=[],c=0;2E3>=c;c++)b[c]=Math.sqrt(c);nc=b}return 1>a?(c=1/a,2E3>=c?1/b[c|0]:Math.sqrt(a)):2E3>=a?b[a|0]:Math.sqrt(a)}function Ua(a,b){var c=a-b;return 0.5>c&&-0.5<c}function Ta(a,b){var c=a-b;return 5E-8>c&&-5E-8<c}
function rc(a,b,c,d,e,g,h){0>=e&&(e=1E-6);var j,k,l,m;a<c?(k=a,j=c):(k=c,j=a);b<d?(m=b,l=d):(m=d,l=b);if(a===c)return m<=h&&h<=l&&a-e<=g&&g<=a+e;if(b===d)return k<=g&&g<=j&&b-e<=h&&h<=b+e;j+=e;k-=e;if(k<=g&&g<=j&&(l+=e,m-=e,m<=h&&h<=l))if(j-k>l-m)if(a-c>e||c-a>e){if(g=(d-b)/(c-a)*(g-a)+b,g-e<=h&&h<=g+e)return i}else return i;else if(b-d>e||d-b>e){if(h=(c-a)/(d-b)*(h-b)+a,h-e<=g&&g<=h+e)return i}else return i;return q}
function sc(a,b,c,d,e,g,h,j,k,l,m,n){if(!rc(a,b,h,j,n,c,d)||!rc(a,b,h,j,n,e,g)){var r=(a+c)/2,s=(b+d)/2,v=(c+e)/2,y=(d+g)/2,e=(e+h)/2,g=(g+j)/2,d=(r+v)/2,c=(s+y)/2,v=(v+e)/2,y=(y+g)/2,C=(d+v)/2,D=(c+y)/2;return sc(a,b,r,s,d,c,C,D,k,l,m,n)||sc(C,D,v,y,e,g,h,j,k,l,m,n)}return rc(a,b,h,j,n,l,m)}
function tc(a,b,c,d,e,g,h,j,k,l){if(!rc(a,b,h,j,k,c,d)||!rc(a,b,h,j,k,e,g)){var m=(a+c)/2,n=(b+d)/2,r=(c+e)/2,s=(d+g)/2,e=(e+h)/2,g=(g+j)/2,d=(m+r)/2,c=(n+s)/2,r=(r+e)/2,s=(s+g)/2,v=(d+r)/2,y=(c+s)/2;tc(a,b,m,n,d,c,v,y,k,l);tc(v,y,r,s,e,g,h,j,k,l)}else l.bc(a,b,0,0),l.bc(h,j,0,0)}
function uc(a,b,c,d,e,g,h,j,k,l){if(!rc(a,b,h,j,k,c,d)||!rc(a,b,h,j,k,e,g)){var m=(a+c)/2,n=(b+d)/2,r=(c+e)/2,s=(d+g)/2,e=(e+h)/2,g=(g+j)/2,d=(m+r)/2,c=(n+s)/2,r=(r+e)/2,s=(s+g)/2,v=(d+r)/2,y=(c+s)/2;uc(a,b,m,n,d,c,v,y,k,l);uc(v,y,r,s,e,g,h,j,k,l)}else 0===l.length&&l.push([a,b]),l.push([h,j])}function vc(a,b,c,d,e,g,h,j,k,l){if(rc(a,b,e,g,l,c,d))return rc(a,b,e,g,l,j,k);var m=(a+c)/2,n=(b+d)/2,c=(c+e)/2,d=(d+g)/2,r=(m+c)/2,s=(n+d)/2;return vc(a,b,m,n,r,s,h,j,k,l)||vc(r,s,c,d,e,g,h,j,k,l)}
function yc(a,b,c,d,e,g,h,j){if(rc(a,b,e,g,h,c,d))j.bc(a,b,0,0),j.bc(e,g,0,0);else{var k=(a+c)/2,l=(b+d)/2,c=(c+e)/2,d=(d+g)/2,m=(k+c)/2,n=(l+d)/2;yc(a,b,k,l,m,n,h,j);yc(m,n,c,d,e,g,h,j)}}function zc(a,b,c,d,e,g,h,j){if(rc(a,b,e,g,h,c,d))0===j.length&&j.push([a,b]),j.push([e,g]);else{var k=(a+c)/2,l=(b+d)/2,c=(c+e)/2,d=(d+g)/2,m=(k+c)/2,n=(l+d)/2;zc(a,b,k,l,m,n,h,j);zc(m,n,c,d,e,g,h,j)}}
function Ac(a,b,c,d,e,g,h,j,k,l,m,n,r,s){0>=r&&(r=1E-6);if(!rc(a,b,h,j,r,c,d)||!rc(a,b,h,j,r,e,g)){var v=(a+c)/2,y=(b+d)/2,c=(c+e)/2,d=(d+g)/2,e=(e+h)/2,g=(g+j)/2,C=(v+c)/2,D=(y+d)/2,c=(c+e)/2,d=(d+g)/2,I=(C+c)/2,E=(D+d)/2,M=(m-k)*(m-k)+(n-l)*(n-l),O=q;Ac(a,b,v,y,C,D,I,E,k,l,m,n,r,s)&&(a=(s.x-k)*(s.x-k)+(s.y-l)*(s.y-l),a<M&&(M=a,O=i));b=s.x;v=s.y;Ac(I,E,c,d,e,g,h,j,k,l,m,n,r,s)&&(a=(s.x-k)*(s.x-k)+(s.y-l)*(s.y-l),a<M?O=i:(s.x=b,s.y=v));return O}v=(a-h)*(l-n)-(b-j)*(k-m);if(!v)return q;r=((a*j-b*h)*
(k-m)-(a-h)*(k*n-l*m))/v;v=((a*j-b*h)*(l-n)-(b-j)*(k*n-l*m))/v;if((k>m?k-m:m-k)<(l>n?l-n:n-l)){if(b<j?(k=b,h=j):(k=j,h=b),v<k||v>h)return q}else if(a<h?k=a:(k=h,h=a),r<k||r>h)return q;s.x=r;s.y=v;return i}
function Bc(a,b,c,d,e,g,h,j,k,l,m,n,r){var s=0;0>=r&&(r=1E-6);if(!rc(a,b,h,j,r,c,d)||!rc(a,b,h,j,r,e,g))var v=(a+c)/2,y=(b+d)/2,C=(c+e)/2,D=(d+g)/2,e=(e+h)/2,g=(g+j)/2,d=(v+C)/2,c=(y+D)/2,C=(C+e)/2,D=(D+g)/2,I=(d+C)/2,E=(c+D)/2,s=s+Bc(a,b,v,y,d,c,I,E,k,l,m,n,r),s=s+Bc(I,E,C,D,e,g,h,j,k,l,m,n,r);else{r=(a-h)*(l-n)-(b-j)*(k-m);if(!r)return s;v=((a*j-b*h)*(k-m)-(a-h)*(k*n-l*m))/r;y=((a*j-b*h)*(l-n)-(b-j)*(k*n-l*m))/r;if(v>=m)return s;if((k>m?k-m:m-k)<(l>n?l-n:n-l)){if(b<j?(k=b,a=j):(k=j,a=b),y<k||y>
a)return s}else if(a<h?(k=a,a=h):k=h,v<k||v>a)return s;0<r?s++:0>r&&s--}return s}function Ec(a,b,c,d,e,g,h){if(Ta(a,c)){var j;b<d?(j=b,c=d):(j=d,c=b);d=g;if(d<j)return h.x=a,h.y=j,q;if(d>c)return h.x=a,h.y=c,q;h.x=a;h.y=d;return i}if(Ta(b,d)){a<c?j=a:(j=c,c=a);d=e;if(d<j)return h.x=j,h.y=b,q;if(d>c)return h.x=c,h.y=b,q;h.x=d;h.y=b;return i}j=((a-e)*(a-c)+(b-g)*(b-d))/((c-a)*(c-a)+(d-b)*(d-b));if(-5E-6>j)return h.x=a,h.y=b,q;if(1.000005<j)return h.x=c,h.y=d,q;h.x=a+j*(c-a);h.y=b+j*(d-b);return i}
function Fc(a,b,c,d,e,g,h,j,k){if(Ua(a,c)&&Ua(b,d))return k.x=a,k.y=b,q;if(Ta(e,h)){if(Ta(a,c))return Ec(a,b,c,d,e,g,k),q;g=(d-b)/(c-a)*(e-a)+b;return Ec(a,b,c,d,e,g,k)}j=(j-g)/(h-e);if(Ta(a,c)){g=j*(a-e)+g;b<d?(h=b,c=d):(h=d,c=b);if(g<h)return k.x=a,k.y=h,q;if(g>c)return k.x=a,k.y=c,q;k.x=a;k.y=g;return i}h=(d-b)/(c-a);if(Ta(j,h))return Ec(a,b,c,d,e,g,k),q;e=(h*a-j*e+g-b)/(h-j);if(Ta(h,0)){a<c?h=a:(h=c,c=a);if(e<h)return k.x=h,k.y=b,q;if(e>c)return k.x=c,k.y=b,q;k.x=e;k.y=b;return i}g=h*(e-a)+b;
return Ec(a,b,c,d,e,g,k)}
function Gc(a,b,c,d,e,g,h,j,k){function l(c,d){var e=(c-a)*(c-a)+(d-b)*(d-b);e<m&&(m=e,k.x=c,k.y=d)}var m=Infinity;l(k.x,k.y);var n,r,s,v;e<h?(n=e,r=h):(n=h,r=e);g<j?(s=e,v=h):(s=h,v=e);n=(r-n)/2+0;s=(v-s)/2+0;e=(e+h)/2;g=(g+j)/2;0===n||0===s||(0.5>(c>a?c-a:a-c)?(n=1-(c-e)*(c-e)/(n*n),0>n||(n=Math.sqrt(n),d=-s*n+g,l(c,s*n+g),l(c,d))):(c=(d-b)/(c-a),d=1/(n*n)+c*c/(s*s),j=2*c*(b-c*a)/(s*s)-2*c*g/(s*s)-2*e/(n*n),s=j*j-4*d*(2*c*a*g/(s*s)-2*b*g/(s*s)+g*g/(s*s)+e*e/(n*n)-1+(b-c*a)*(b-c*a)/(s*s)),0>s||(n=
Math.sqrt(s),s=(-j+n)/(2*d),l(s,c*s-c*a+b),s=(-j-n)/(2*d),l(s,c*s-c*a+b))))}function Hc(a,b,c,d,e,g,h,j,k){var l=1E21,m=a,n=b;if(Fc(a,b,a,d,e,g,h,j,k)){var r=(k.x-e)*(k.x-e)+(k.y-g)*(k.y-g);r<l&&(l=r,m=k.x,n=k.y)}Fc(c,b,c,d,e,g,h,j,k)&&(r=(k.x-e)*(k.x-e)+(k.y-g)*(k.y-g),r<l&&(l=r,m=k.x,n=k.y));Fc(a,b,c,b,e,g,h,j,k)&&(r=(k.x-e)*(k.x-e)+(k.y-g)*(k.y-g),r<l&&(l=r,m=k.x,n=k.y));Fc(a,d,c,d,e,g,h,j,k)&&(r=(k.x-e)*(k.x-e)+(k.y-g)*(k.y-g),r<l&&(l=r,m=k.x,n=k.y));k.x=m;k.y=n;return 1E21>l}
function Ic(a,b,c){var d=b.x,e=b.y,g=c.x,h=c.y,j=a.left,k=a.right,l=a.top,m=a.bottom;return d===g?(e<h?(a=e,g=h):(a=h,g=e),j<=d&&d<=k&&a<=m&&g>=l):e===h?(d<g?a=d:(a=g,g=d),l<=e&&e<=m&&a<=k&&g>=j):a.Aa(b)||a.Aa(c)||Jc(j,l,k,l,d,e,g,h)||Jc(k,l,k,m,d,e,g,h)||Jc(k,m,j,m,d,e,g,h)||Jc(j,m,j,l,d,e,g,h)?i:q}function Jc(a,b,c,d,e,g,h,j){return 0>=Kc(a,b,c,d,e,g)*Kc(a,b,c,d,h,j)&&0>=Kc(e,g,h,j,a,b)*Kc(e,g,h,j,c,d)}
function Kc(a,b,c,d,e,g){c-=a;d-=b;a=e-a;b=g-b;g=a*d-b*c;0===g&&(g=a*c+b*d,0<g&&(g=(a-c)*c+(b-d)*d,0>g&&(g=0)));return 0>g?-1:0<g?1:0}function Lc(a){0>a&&(a+=360);360<=a&&(a-=360);return a}
function Qc(a,b,c,d,e,g){var h=Math.PI;g||(d*=h/180,e*=h/180);for(var g=d<e?1:-1,j=[],k=h/2,l=d,d=Math.min(2*h+1E-5,Math.abs(e-d));1E-5<d;){var e=l+g*Math.min(d,k),m=(e-l)/2,n=c*Math.cos(m),r=c*Math.sin(m),s=0.5522847498*Math.tan(m),h=n+s*r,n=-r+s*n,r=-n,s=m+l,m=Math.cos(s),s=Math.sin(s);j.push({x1:a+c*Math.cos(l),y1:b+c*Math.sin(l),x2:a+h*m-n*s,y2:b+h*s+n*m,Gf:a+h*m-r*s,Hf:b+h*s+r*m,bd:a+c*Math.cos(e),cd:b+c*Math.sin(e)});d-=Math.abs(e-l);l=e}return j}
function Rc(a,b,c,d,e,g){var c=Math.floor((a-c)/e)*e+c,d=Math.floor((b-d)/g)*g+d,h=c;c+e-a<e/2&&(h=c+e);a=d;d+g-b<g/2&&(a=d+g);return new K(h,a)}function Sc(a,b){var c=Math.max(a,b),d=Math.min(a,b),e=1,g=1;do e=c%d,c=g=d,d=e;while(0<e);return g}
function Tc(a){x.lc(this);a===f?a=Uc:u&&x.pb(a,Tc,Tc,"constructor:type");this.V=a;this.Lc=this.Dc=this.Sb=this.Hb=0;this.uk=new H(Vc);this.Ft=this.uk.Nb;this.rt=(new L).freeze();this.Sa=i;this.DF=new K;this.xi=Db;this.yi=Nb;this.Qt=this.Rt=NaN;this.Wd=lc;this.mc=Wc}x.S("Geometry",Tc);
Tc.prototype.copy=Tc.prototype.copy=function(){var a=new Tc;a.V=this.V;a.Hb=this.Hb;a.Sb=this.Sb;a.Dc=this.Dc;a.Lc=this.Lc;for(var b=this.uk,c=b.length,d=a.uk,e=0;e<c;e++){var g=b.o[e].copy();d.add(g)}a.Ft=this.Ft;a.rt.bb(this.rt);a.Sa=this.Sa;a.xi=this.xi.Q();a.yi=this.yi.Q();a.Rt=this.Rt;a.Qt=this.Qt;a.Wd=this.Wd.Q();a.mc=this.mc;return a};var Yc;Tc.Line=Yc=x.s(Tc,"Line",0);var Zc;Tc.Rectangle=Zc=x.s(Tc,"Rectangle",1);var $c;Tc.Ellipse=$c=x.s(Tc,"Ellipse",2);var Uc;Tc.Path=Uc=x.s(Tc,"Path",3);
Tc.prototype.eb=function(){this.freeze();Object.freeze(this);return this};Tc.prototype.freeze=function(){this.fb=i;var a=this.yb;a.freeze();for(var b=a.length,c=0;c<b;c++)a.o[c].freeze();return this};Tc.prototype.Oa=function(){Object.isFrozen(this)&&x.m("cannot thaw constant: "+this);this.fb=q;var a=this.yb;a.Oa();for(var b=a.length,c=0;c<b;c++)a.o[c].Oa();return this};
Tc.prototype.equalsApprox=Tc.prototype.Sj=function(a){if(!(a instanceof Tc))return q;if(this.type!==a.type)return this.type===Yc&&a.type===Uc?ad(this,a):a.type===Yc&&this.type===Uc?ad(a,this):q;if(this.type===Uc){var b=this.yb,a=a.yb,c=b.length;if(c!==a.length)return q;for(var d=0;d<c;d++)if(!b.o[d].Sj(a.o[d]))return q;return i}return Ua(this.sa,a.sa)&&Ua(this.ta,a.ta)&&Ua(this.I,a.I)&&Ua(this.J,a.J)};
function ad(a,b){if(a.type!==Yc||b.type!==Uc)return q;if(1===b.yb.count){var c=b.yb.ia(0);if(1===c.Fa.count&&(Ua(a.sa,c.sa)&&Ua(a.ta,c.ta))&&(c=c.Fa.ia(0),c.type===bd&&Ua(a.I,c.I)&&Ua(a.J,c.J)))return i}return q}var cd;Tc.stringify=cd=function(a){return a.toString()};
Tc.prototype.toString=function(a){switch(this.type){case Yc:return"M"+this.sa.toFixed(a)+" "+this.ta.toFixed(a)+"L"+this.I.toFixed(a)+" "+this.J.toFixed(a);case Zc:var b=new L(this.sa,this.ta,0,0);b.bc(this.I,this.J,0,0);return"M"+b.x.toFixed(a)+" "+b.y.toFixed(a)+"H"+b.right.toFixed(a)+"V"+b.bottom.toFixed(a)+"H"+b.left.toFixed(a)+"z";case $c:b=new L(this.sa,this.ta,0,0);b.bc(this.I,this.J,0,0);var c=b.left.toFixed(a)+" "+(b.y+b.height/2).toFixed(a);return"M"+c+"A"+(b.width/2).toFixed(a)+" "+(b.height/
2).toFixed(a)+" 0 0 1 "+(b.right.toFixed(a)+" "+(b.y+b.height/2).toFixed(a))+"A"+(b.width/2).toFixed(a)+" "+(b.height/2).toFixed(a)+" 0 0 1 "+c;case Uc:for(var b="",c=this.yb,d=c.length,e=0;e<d;e++){var g=c.o[e];0<e&&(b+=" x ");g.nm&&(b+="F ");b+=g.toString(a)}return b;default:return this.type.toString()}};var dd;
Tc.fillPath=dd=function(a){"string"!==typeof a&&x.kc(a,"string",Tc,"fillPath:str");for(var a=a.split(/[Xx]/),b=a.length,c="",d=0;d<b;d++)var e=a[d],c=e.match(/[Ff]/)!==p?0===d?c+e:c+("X"+(" "===e[0]?"":" ")+e):c+((0===d?"":"X ")+"F"+(" "===e[0]?"":" ")+e);return c};var ed;
Tc.parse=ed=function(a,b){function c(){return l>=y-1?i:k[l+1].match(/[A-Za-z]/)!==p}function d(){l++;return k[l]}function e(){var a=new K(parseFloat(d()),parseFloat(d()));m===m.toLowerCase()&&(a.x=v.x+a.x,a.y=v.y+a.y);return a}function g(){return v=e()}function h(){return s=e()}function j(){return"c"!==n.toLowerCase()&&"s"!==n.toLowerCase()?v:new K(2*v.x-s.x,2*v.y-s.y)}b===f&&(b=q);"string"!==typeof a&&x.kc(a,"string",Tc,"parse:str");for(var a=a.replace(/,/gm," "),a=a.replace(/([UuBbMmZzLlHhVvCcSsQqTtAaFf])([UuBbMmZzLlHhVvCcSsQqTtAaFf])/gm,
"$1 $2"),a=a.replace(/([UuBbMmZzLlHhVvCcSsQqTtAaFf])([UuBbMmZzLlHhVvCcSsQqTtAaFf])/gm,"$1 $2"),a=a.replace(/([UuBbMmZzLlHhVvCcSsQqTtAaFf])([^\s])/gm,"$1 $2"),a=a.replace(/([^\s])([UuBbMmZzLlHhVvCcSsQqTtAaFf])/gm,"$1 $2"),a=a.replace(/([0-9])([+\-])/gm,"$1 $2"),a=a.replace(/(\.[0-9]*)(\.)/gm,"$1 $2"),a=a.replace(/([Aa](\s+[0-9]+){3})\s+([01])\s*([01])/gm,"$1 $3 $4 "),a=a.replace(/[\s\r\t\n]+/gm," "),a=a.replace(/^\s+|\s+$/g,""),k=a.split(" "),l=-1,m="",n="",r=new K(0,0),s=new K(0,0),v=new K(0,0),y=
k.length,C=new P,D,I=q,E=q,M=i;!(l>=y-1);)if(n=m,m=d(),""!==m)switch(m.toUpperCase()){case "X":M=i;E=I=q;break;case "M":D=g();C.Qb===p||M===i?(Q(C,D.x,D.y,I,q,!E),M=q):C.moveTo(D.x,D.y);for(r=v;!c();)D=g(),C.lineTo(D.x,D.y);break;case "L":for(;!c();)D=g(),C.lineTo(D.x,D.y);break;case "H":for(;!c();)v=D=new K((m===m.toLowerCase()?v.x:0)+parseFloat(d()),v.y),C.lineTo(v.x,v.y);break;case "V":for(;!c();)v=D=new K(v.x,(m===m.toLowerCase()?v.y:0)+parseFloat(d())),C.lineTo(v.x,v.y);break;case "C":for(;!c();){var O=
e(),X=h();D=g();R(C,O.x,O.y,X.x,X.y,D.x,D.y)}break;case "S":for(;!c();)O=j(),X=h(),D=g(),R(C,O.x,O.y,X.x,X.y,D.x,D.y);break;case "Q":for(;!c();)X=h(),D=g(),fd(C,X.x,X.y,D.x,D.y);break;case "T":for(;!c();)s=X=j(),D=g(),fd(C,X.x,X.y,D.x,D.y);break;case "B":for(;!c();)D=[parseFloat(d()),parseFloat(d()),parseFloat(d()),parseFloat(d()),parseFloat(d())],c()||(D.push(parseFloat(d())),c()||D.push(parseFloat(d()))),m===m.toLowerCase()&&(D[2]+=v.x,D[3]+=v.y),C.arcTo(D[0],D[1],D[2],D[3],D[4],D[5],D[6]);break;
case "A":for(;!c();){var X=parseFloat(d()),sa=parseFloat(d()),ka=parseFloat(d()),va=!!parseFloat(d()),Fa=!!parseFloat(d());D=g();var O=C,Ga=D.x;D=D.y;O.q===p&&x.m("StreamGeometryContext has been closed");O.Qb===p&&x.m("Need to call beginFigure first");D=new S(gd,Ga,D,X,sa,ka,va,Fa);O.Qb.Fa.add(D)}break;case "Z":hd(C);v=r;break;case "F":D=p;for(O=1;k[l+O];)if(k[l+O].match(/[Uu]/)!==p)O++;else if(k[l+O].match(/[A-Za-z]/)===p)O++;else{D=k[l+O];break}D.match(/[Mm]/)?I=i:(D=C,D.q===p&&x.m("StreamGeometryContext has been closed"),
D.Qb===p&&x.m("Need to call beginFigure first"),0<D.Qb.Fa.length&&(D.Qb.nm=i));break;case "U":D=p;for(O=1;k[l+O];)if(k[l+O].match(/[Ff]/)!==p)O++;else if(k[l+O].match(/[A-Za-z]/)===p)O++;else{D=k[l+O];break}D.match(/[Mm]/)?E=i:md(C)}r=C.q;if(b)for(C=r.yb.l;C.next();)C.value.nm=i;return r};Tc.prototype.wz=function(){if(this.Sa)return i;var a=this.yb;if(this.Ft!==a.Nb)return i;for(var b=a.length,c=0;c<b;c++)if(a.o[c].wz())return i;return q};
Tc.prototype.vA=function(){this.Sa=q;var a=this.yb;this.Ft=a.Nb;for(var b=a.length,c=0;c<b;c++)a.o[c].vA()};Tc.prototype.re=function(){var a=this.rt;a.Oa();a.reset();a.oI(this.Wd);pd(this,a,q);a.bc(0,0,0,0);a.freeze()};Tc.prototype.computeBoundsWithoutOrigin=Tc.prototype.uG=function(){var a=new L;pd(this,a,i);return a};
function pd(a,b,c){switch(a.type){case Yc:case Zc:case $c:c?b.Y(a.Hb,a.Sb,0,0):b.bc(a.Hb,a.Sb,0,0);b.bc(a.Dc,a.Lc,0,0);break;case Uc:for(var a=a.yb,d=a.length,e=0;e<d;e++){var g=a.o[e];c&&0===e?b.Y(g.sa,g.ta,0,0):b.bc(g.sa,g.ta,0,0);for(var h=g.Fa,j=h.length,k=g.sa,l=g.ta,m=0;m<j;m++){var n=h.o[m];switch(n.type){case bd:case qd:k=n.I;l=n.J;b.bc(k,l,0,0);break;case rd:tc(k,l,n.ic,n.Tc,n.dh,n.eh,n.I,n.J,0.5,b);k=n.I;l=n.J;break;case sd:yc(k,l,n.ic,n.Tc,n.I,n.J,0.5,b);k=n.I;l=n.J;break;case td:case gd:for(var n=
n.type===td?xd(n,g):yd(n,g,k,l),r=n.length,s=p,v=0;v<r;v++)s=n[v],tc(s.x1,s.y1,s.x2,s.y2,s.Gf,s.Hf,s.bd,s.cd,0.5,b);s!==p&&(k=s.bd,l=s.cd);break;default:x.m("Unknown Segment type: "+n.type)}}}break;default:x.m("Unknown Geometry type: "+a.type)}}Tc.prototype.normalize=Tc.prototype.normalize=function(){x.C(this);var a=this.uG();this.offset(-a.x,-a.y);return new K(-a.x,-a.y)};
Tc.prototype.offset=Tc.prototype.offset=function(a,b){x.C(this);u&&(x.n(a,Tc,"offset"),x.n(b,Tc,"offset"));var c=new Ya;c.translate(a,b);this.transform(c.m11,c.m12,c.m21,c.m22,c.dx,c.dy)};Tc.prototype.scale=Tc.prototype.scale=function(a,b){x.C(this);u&&(x.n(a,Tc,"scale:x"),x.n(b,Tc,"scale:y"),0>=a&&x.ra(a,"scale must be greater than zero",Tc,"scale:x"),0>=b&&x.ra(b,"scale must be greater than zero",Tc,"scale:y"));var c=new Ya;c.scale(a,b);this.transform(c.m11,c.m12,c.m21,c.m22,c.dx,c.dy)};
Tc.prototype.rotate=Tc.prototype.rotate=function(a,b,c){x.C(this);b===f&&(b=0);c===f&&(c=0);u&&(x.n(a,Tc,"rotate:angle"),x.n(b,Tc,"rotate:x"),x.n(c,Tc,"rotate:y"));var d=new Ya;d.rotate(a,b,c);this.transform(d.m11,d.m12,d.m21,d.m22,d.dx,d.dy)};
Tc.prototype.transform=Tc.prototype.transform=function(a,b,c,d,e,g){var h,j;switch(this.type){case Yc:case Zc:case $c:h=this.Hb;j=this.Sb;this.Hb=h*a+j*c+e;this.Sb=h*b+j*d+g;h=this.Dc;j=this.Lc;this.Dc=h*a+j*c+e;this.Lc=h*b+j*d+g;break;case Uc:for(var k=this.yb,l=k.length,m=0;m<l;m++){var n=k.o[m];h=n.sa;j=n.ta;n.sa=h*a+j*c+e;n.ta=h*b+j*d+g;for(var n=n.Fa,r=n.length,s=0;s<r;s++){var v=n.o[s];switch(v.type){case bd:case qd:h=v.I;j=v.J;v.I=h*a+j*c+e;v.J=h*b+j*d+g;break;case rd:h=v.jf;j=v.kf;v.jf=h*
a+j*c+e;v.kf=h*b+j*d+g;h=v.ui;j=v.vi;v.ui=h*a+j*c+e;v.vi=h*b+j*d+g;h=v.I;j=v.J;v.I=h*a+j*c+e;v.J=h*b+j*d+g;break;case sd:h=v.jf;j=v.kf;v.jf=h*a+j*c+e;v.kf=h*b+j*d+g;h=v.I;j=v.J;v.I=h*a+j*c+e;v.J=h*b+j*d+g;break;case td:h=v.ua;j=v.Da;v.ua=h*a+j*c+e;v.Da=h*b+j*d+g;v.radiusX*=Math.sqrt(a*a+c*c);v.radiusY!==f&&(v.radiusY*=Math.sqrt(b*b+d*d));break;case gd:h=v.I;j=v.J;v.I=h*a+j*c+e;v.J=h*b+j*d+g;v.radiusX*=Math.sqrt(a*a+c*c);v.radiusY*=Math.sqrt(b*b+d*d);break;default:x.m("Unknown Segment type: "+v.type)}}}}this.Sa=
i};Tc.prototype.Dr=function(a,b){var c=this.Hb,d=this.Sb,e=this.Dc,g=this.Lc,h=Math.min(c,e),j=Math.min(d,g),c=Math.abs(e-c),d=Math.abs(g-d),g=this.DF;g.x=h;g.y=j;b.Xa(g);e=new Vc(g.x,g.y);g.x=h+c;g.y=j;b.Xa(g);e.Fa.add(new S(bd,g.x,g.y));g.x=h+c;g.y=j+d;b.Xa(g);e.Fa.add(new S(bd,g.x,g.y));g.x=h;g.y=j+d;b.Xa(g);e.Fa.add((new S(bd,g.x,g.y)).close());a.type=Uc;a.yb.add(e);return a};
Tc.prototype.Aa=function(a,b,c,d){for(var e=a.x,g=a.y,h=this.Kb.x-20,a=a.y,j=0,k,l,m,n,r,s,v,y=this.yb.o,C=y.length,D=0;D<C;D++){var I=y[D];if(I.nm){if(c&&I.Aa(e,g,b))return i;var E=I.Fa;k=I.sa;l=I.ta;for(var M=k,O=l,X=0;X<=E.length;X++){X!==E.length?(m=E.o[X],n=m.type,s=m.I,v=m.J):(n=bd,s=M,v=O);switch(n){case qd:r=zd(e,g,h,a,k,l,M,O);if(r===i)return i;j+=r;M=s;O=v;break;case bd:r=zd(e,g,h,a,k,l,s,v);if(r===i)return i;j+=r;break;case rd:r=Bc(k,l,m.ic,m.Tc,m.dh,m.eh,s,v,h,a,e,g,0.5);j+=r;break;case sd:r=
Bc(k,l,(k+2*m.ic)/3,(l+2*m.Tc)/3,(m.ic+2*s)/3,(m.ic+2*s)/3,s,v,h,a,e,g,0.5);j+=r;break;case td:case gd:n=m.type===td?xd(m,I):yd(m,I,k,l);for(var sa=n.length,ka=p,va=0;va<sa;va++){ka=n[va];if(0===va){r=zd(e,g,h,a,k,l,ka.x1,ka.y1);if(r===i)return i;j+=r}r=Bc(ka.x1,ka.y1,ka.x2,ka.y2,ka.Gf,ka.Hf,ka.bd,ka.cd,h,a,e,g,0.5);j+=r}ka!==p&&(s=ka.bd,v=ka.cd);break;default:x.m("Unknown Segment type: "+m.type)}k=s;l=v}if(0!==j)return i;j=0}else if(I.Aa(e,g,d?b:b+2))return i}return 0!==j};
function zd(a,b,c,d,e,g,h,j){if(rc(e,g,h,j,0.05,a,b))return i;var k=(a-c)*(g-j);if(0===k)return 0;var l=((a*d-b*c)*(e-h)-(a-c)*(e*j-g*h))/k,b=(a*d-b*c)*(g-j)/k;if(l>=a)return 0;if((e>h?e-h:h-e)<(g>j?g-j:j-g)){if(g<j?(a=g,e=j):(a=j,e=g),b<a||b>e)return 0}else if(e<h?(a=e,e=h):a=h,l<a||l>e)return 0;return 0<k?1:-1}function Ad(a,b,c,d){for(var e=a.yb.length,g=0;g<e;g++)if(a.yb.o[g].Aa(b,c,d))return i;return q}x.g(Tc,"type",Tc.prototype.type);
x.defineProperty(Tc,{type:"type"},t("V"),function(a){this.V!==a&&(u&&x.pb(a,Tc,Tc,"type"),x.C(this,a),this.V=a,this.Sa=i)});x.g(Tc,"startX",Tc.prototype.sa);x.defineProperty(Tc,{sa:"startX"},t("Hb"),function(a){this.Hb!==a&&(u&&x.n(a,Tc,"startX"),x.C(this,a),this.Hb=a,this.Sa=i)});x.g(Tc,"startY",Tc.prototype.ta);x.defineProperty(Tc,{ta:"startY"},t("Sb"),function(a){this.Sb!==a&&(u&&x.n(a,Tc,"startY"),x.C(this,a),this.Sb=a,this.Sa=i)});x.g(Tc,"endX",Tc.prototype.I);
x.defineProperty(Tc,{I:"endX"},t("Dc"),function(a){this.Dc!==a&&(u&&x.n(a,Tc,"endX"),x.C(this,a),this.Dc=a,this.Sa=i)});x.g(Tc,"endY",Tc.prototype.J);x.defineProperty(Tc,{J:"endY"},t("Lc"),function(a){this.Lc!==a&&(u&&x.n(a,Tc,"endY"),x.C(this,a),this.Lc=a,this.Sa=i)});x.g(Tc,"figures",Tc.prototype.yb);x.defineProperty(Tc,{yb:"figures"},t("uk"),function(a){this.uk!==a&&(u&&x.i(a,H,Tc,"figures"),x.C(this,a),this.uk=a,this.Sa=i)});
x.defineProperty(Tc,{v:"spot1"},t("xi"),function(a){u&&x.i(a,N,Tc,"spot1");x.C(this,a);this.xi=a.Q()});x.defineProperty(Tc,{w:"spot2"},t("yi"),function(a){u&&x.i(a,N,Tc,"spot2");x.C(this,a);this.yi=a.Q()});x.u(Tc,{Kb:"bounds"},function(){this.wz()&&(this.vA(),this.re());return this.rt});x.g(Tc,"minSize",Tc.prototype.xe);
x.defineProperty(Tc,{xe:"minSize"},t("Wd"),function(a){this.Wd.K(a)||(u&&x.i(a,cb,Tc,"minSize"),a=a.Q(),isNaN(a.width)&&(a.width=0),isNaN(a.height)&&(a.height=0),a.freeze(),this.Wd=a)});function Vc(a,b,c){x.lc(this);c===f&&(c=i);this.Al=c;this.Mf=i;a!==f?(u&&x.n(a,Vc,"sx"),this.Hb=a):this.Hb=0;b!==f?(u&&x.n(b,Vc,"sy"),this.Sb=b):this.Sb=0;this.hr=new H(S);this.Ju=this.hr.Nb;this.Sa=i}x.S("PathFigure",Vc);
Vc.prototype.copy=Vc.prototype.copy=function(){var a=new Vc;a.Al=this.Al;a.Mf=this.Mf;a.Hb=this.Hb;a.Sb=this.Sb;for(var b=this.hr,c=b.length,d=a.hr,e=0;e<c;e++){var g=b.o[e].copy();d.add(g)}a.Ju=this.Ju;a.Sa=this.Sa;return a};Vc.prototype.equalsApprox=Vc.prototype.Sj=function(a){if(!(a instanceof Vc)||!Ua(this.sa,a.sa)||!Ua(this.ta,a.ta))return q;var b=this.Fa,a=a.Fa,c=b.length;if(c!==a.length)return q;for(var d=0;d<c;d++)if(!b.o[d].Sj(a.o[d]))return q;return i};da=Vc.prototype;
da.toString=function(a){for(var b="M"+this.sa.toFixed(a)+" "+this.ta.toFixed(a),c=this.Fa,d=c.length,e=0;e<d;e++)b+=" "+c.o[e].toString(a);this.nm&&(b+="\t");return b};da.freeze=function(){this.fb=i;var a=this.Fa;a.freeze();for(var b=a.length,c=0;c<b;c++)a.o[c].freeze();return this};da.Oa=function(){this.fb=q;var a=this.Fa;a.Oa();for(var b=a.length,c=0;c<b;c++)a.o[c].Oa();return this};
da.wz=function(){if(this.Sa)return i;var a=this.Fa;if(this.Ju!==a.Nb)return i;for(var b=a.length,c=0;c<b;c++)if(a.o[c].Sa)return i;return q};da.vA=function(){this.Sa=q;var a=this.Fa;this.Ju=a.Nb;for(var b=a.length,c=0;c<b;c++){var d=a.o[c];d.Sa=q;d.bj&&(d.bj=p)}};x.g(Vc,"isFilled",Vc.prototype.nm);x.defineProperty(Vc,{nm:"isFilled"},t("Al"),function(a){u&&x.k(a,"boolean",Vc,"isFilled");x.C(this,a);this.Al=a});x.g(Vc,"isShadowed",Vc.prototype.om);
x.defineProperty(Vc,{om:"isShadowed"},t("Mf"),function(a){u&&x.k(a,"boolean",Vc,"isShadowed");x.C(this,a);this.Mf=a});x.g(Vc,"startX",Vc.prototype.sa);x.defineProperty(Vc,{sa:"startX"},t("Hb"),function(a){u&&x.n(a,Vc,"startX");x.C(this,a);this.Hb=a;this.Sa=i});x.g(Vc,"startY",Vc.prototype.ta);x.defineProperty(Vc,{ta:"startY"},t("Sb"),function(a){u&&x.n(a,Vc,"startY");x.C(this,a);this.Sb=a;this.Sa=i});x.g(Vc,"segments",Vc.prototype.Fa);
x.defineProperty(Vc,{Fa:"segments"},t("hr"),function(a){u&&x.i(a,H,Vc,"segments");x.C(this,a);this.hr=a;this.Sa=i});
Vc.prototype.Aa=function(a,b,c){for(var d=this.sa,e=this.ta,g=d,h=e,j=this.Fa.o,k=j.length,l=0;l<k;l++){var m=j[l];switch(m.type){case qd:g=m.I;h=m.J;d=m.I;e=m.J;break;case bd:if(rc(d,e,m.I,m.J,c,a,b))return i;d=m.I;e=m.J;break;case rd:if(sc(d,e,m.ic,m.Tc,m.dh,m.eh,m.I,m.J,0.5,a,b,c))return i;d=m.I;e=m.J;break;case sd:if(vc(d,e,m.ic,m.Tc,m.I,m.J,0.5,a,b,c))return i;d=m.I;e=m.J;break;case td:case gd:for(var n=m.type===td?xd(m,this):yd(m,this,d,e),r=n.length,s=p,v=0;v<r;v++)if(s=n[v],0===v&&rc(d,e,
s.x1,s.y1,c,a,b)||sc(s.x1,s.y1,s.x2,s.y2,s.Gf,s.Hf,s.bd,s.cd,0.5,a,b,c))return i;s!==p&&(d=s.bd,e=s.cd);break;default:x.m("Unknown Segment type: "+m.type)}if(m.gi&&(d!==g||e!==h)&&rc(d,e,g,h,c,a,b))return i}return q};
function S(a,b,c,d,e,g,h,j){x.lc(this);a===f?a=bd:u&&x.pb(a,S,S,"constructor:type");this.V=a;a===td?(b!==f?(u&&x.n(b,S,"ex"),this.Yd=b):this.Yd=0,c!==f?(u&&x.n(c,S,"ey"),this.$d=c):this.$d=0,d!==f&&(u&&x.n(d,S,"x1"),this.Hm=d),e!==f&&(u&&x.n(e,S,"y1"),this.Im=e),g!==f&&(u&&x.n(g,S,"x2"),this.zj=Math.max(g||0,0)),h!==f&&"number"===typeof h?(u&&x.n(h,S,"y2"),this.Aj=Math.max(h||0,0)):this.Aj=this.zj):a===gd?(b!==f&&u&&x.n(b,S,"ex"),c!==f&&u&&x.n(c,S,"ey"),d!==f&&u&&x.n(d,S,"x1"),e!==f&&u&&x.n(e,S,"y1"),
this.Tf=b||0,this.Uf=c||0,this.zj=Math.max(d||0,0),this.Aj=Math.max(e||0,0),this.Yd=h?1:0,this.$d=j?1:0,a=(g||0)%360,0>a&&(a+=360),this.Gn=a):(b!==f?(u&&x.n(b,S,"ex"),this.Tf=b):this.Tf=0,c!==f?(u&&x.n(c,S,"ey"),this.Uf=c):this.Uf=0,d!==f&&(u&&x.n(d,S,"x1"),this.jf=d),e!==f&&(u&&x.n(e,S,"y1"),this.kf=e),g!==f&&(u&&x.n(g,S,"x2"),this.ui=g),h!==f&&"number"===typeof h&&(u&&x.n(h,S,"y2"),this.vi=h));this.Sa=i;this.gi=q}x.S("PathSegment",S);
S.prototype.copy=S.prototype.copy=function(){var a=new S;a.V=this.V;this.V===td?(a.Yd=this.Yd,a.$d=this.$d,a.Hm=this.Hm,a.Im=this.Im,a.zj=this.zj,a.Aj=this.Aj):this.V===gd?(a.Yd=this.Yd,a.$d=this.$d,a.Tf=this.Tf,a.Uf=this.Uf,a.zj=this.zj,a.Aj=this.Aj,a.Gn=this.Gn):(a.Tf=this.Tf,a.Uf=this.Uf,a.jf=this.jf,a.kf=this.kf,a.ui=this.ui,a.vi=this.vi);a.Sa=this.Sa;a.gi=this.gi;return a};
S.prototype.equalsApprox=S.prototype.Sj=function(a){if(!(a instanceof S)||this.type!==a.type||this.Lv!==a.Lv)return q;switch(this.type){case qd:case bd:return Ua(this.I,a.I)&&Ua(this.J,a.J);case rd:return Ua(this.I,a.I)&&Ua(this.J,a.J)&&Ua(this.ic,a.ic)&&Ua(this.Tc,a.Tc)&&Ua(this.dh,a.dh)&&Ua(this.eh,a.eh);case sd:return Ua(this.I,a.I)&&Ua(this.J,a.J)&&Ua(this.ic,a.ic)&&Ua(this.Tc,a.Tc);case td:return Ua(this.fh,a.fh)&&Ua(this.Wi,a.Wi)&&Ua(this.ua,a.ua)&&Ua(this.Da,a.Da)&&Ua(this.radiusX,a.radiusX)&&
Ua(this.radiusY,a.radiusY);case gd:return this.tz===a.tz&&this.xz===a.xz&&Ua(this.zA,a.zA)&&Ua(this.I,a.I)&&Ua(this.J,a.J)&&Ua(this.radiusX,a.radiusX)&&Ua(this.radiusY,a.radiusY);default:return q}};
S.prototype.toString=function(a){switch(this.type){case qd:a="M"+this.I.toFixed(a)+" "+this.J.toFixed(a);break;case bd:a="L"+this.I.toFixed(a)+" "+this.J.toFixed(a);break;case rd:a="C"+this.ic.toFixed(a)+" "+this.Tc.toFixed(a)+" "+this.dh.toFixed(a)+" "+this.eh.toFixed(a)+" "+this.I.toFixed(a)+" "+this.J.toFixed(a);break;case sd:a="Q"+this.ic.toFixed(a)+" "+this.Tc.toFixed(a)+" "+this.I.toFixed(a)+" "+this.J.toFixed(a);break;case td:a="B"+this.fh.toFixed(a)+" "+this.Wi.toFixed(a)+" "+this.ua.toFixed(a)+
" "+this.Da.toFixed(a)+" "+this.radiusX;break;case gd:a="A"+this.radiusX.toFixed(a)+" "+this.radiusY.toFixed(a)+" "+this.zA.toFixed(a)+" "+(this.xz?1:0)+" "+(this.tz?1:0)+" "+this.I.toFixed(a)+" "+this.J.toFixed(a);break;default:a=this.type.toString()}return a+(this.gi?"z":"")};var qd;S.Move=qd=x.s(S,"Move",0);var bd;S.Line=bd=x.s(S,"Line",1);var rd;S.Bezier=rd=x.s(S,"Bezier",2);var sd;S.QuadraticBezier=sd=x.s(S,"QuadraticBezier",3);var td;S.Arc=td=x.s(S,"Arc",4);var gd;
S.SvgArc=gd=x.s(S,"SvgArc",4);S.prototype.freeze=function(){this.fb=i;return this};S.prototype.Oa=function(){this.fb=q;return this};S.prototype.close=S.prototype.close=function(){this.gi=i;return this};
function xd(a,b){if(a.bj&&b.Sa===q)return a.bj;var c=a.radiusX,d=a.radiusY;d===f&&(d=c);var e=Qc(a.Hm,a.Im,c<d?c:d,a.fh,a.fh+a.Wi);if(c!==d){var g=new Ya;c<d?g.scale(1,d/c):g.scale(c/d,1);for(var c=e.length,d=new K,h=0,j=0,k=0;k<c;k++){var l=e[k];0===k&&(h=l.x1,j=l.y1);l.x1-=h;l.y1-=j;l.x2-=h;l.y2-=j;l.Gf-=h;l.Hf-=j;l.bd-=h;l.cd-=j}for(k=0;k<c;k++)l=e[k],d.x=l.x1,d.y=l.y1,g.Xa(d),l.x1=d.x+h,l.y1=d.y+j,d.x=l.x2,d.y=l.y2,g.Xa(d),l.x2=d.x+h,l.y2=d.y+j,d.x=l.Gf,d.y=l.Hf,g.Xa(d),l.Gf=d.x+h,l.Hf=d.y+j,
d.x=l.bd,d.y=l.cd,g.Xa(d),l.bd=d.x+h,l.cd=d.y+j}a.bj=e;return a.bj}
function yd(a,b,c,d){function e(a,b){return(a[0]*b[1]<a[1]*b[0]?-1:1)*Math.acos(g(a,b))}function g(a,b){return(a[0]*b[0]+a[1]*b[1])/(Math.sqrt(Math.pow(a[0],2)+Math.pow(a[1],2))*Math.sqrt(Math.pow(b[0],2)+Math.pow(b[1],2)))}if(a.bj&&b.Sa===q)return a.bj;var b=a.zj,h=a.Aj,j=a.Gn*(Math.PI/180),k=a.fh,l=a.$d,m=a.Tf,n=a.Uf,r=new K(Math.cos(j)*(c-m)/2+Math.sin(j)*(d-n)/2,-Math.sin(j)*(c-m)/2+Math.cos(j)*(d-n)/2),s=Math.pow(r.x,2)/Math.pow(b,2)+Math.pow(r.y,2)/Math.pow(h,2);1<s&&(b*=Math.sqrt(s),h*=Math.sqrt(s));
k=(k==l?-1:1)*Math.sqrt((Math.pow(b,2)*Math.pow(h,2)-Math.pow(b,2)*Math.pow(r.y,2)-Math.pow(h,2)*Math.pow(r.x,2))/(Math.pow(b,2)*Math.pow(r.y,2)+Math.pow(h,2)*Math.pow(r.x,2)));isNaN(k)&&(k=0);k=new K(k*b*r.y/h,k*-h*r.x/b);c=new K((c+m)/2+Math.cos(j)*k.x-Math.sin(j)*k.y,(d+n)/2+Math.sin(j)*k.x+Math.cos(j)*k.y);d=e([1,0],[(r.x-k.x)/b,(r.y-k.y)/h]);j=[(r.x-k.x)/b,(r.y-k.y)/h];m=[(-r.x-k.x)/b,(-r.y-k.y)/h];r=e(j,m);-1>=g(j,m)&&(r=Math.PI);1<=g(j,m)&&(r=0);0==l&&0<r&&(r-=2*Math.PI);1==l&&0>r&&(r+=2*Math.PI);
l=b>h?1:b/h;j=b>h?h/b:1;b=Qc(0,0,b>h?b:h,d,d+r,i);h=new Ya;h.translate(c.x,c.y);h.rotate(a.Gn,0,0);h.scale(l,j);l=b.length;r=new K;for(c=0;c<l;c++)d=b[c],r.x=d.x1,r.y=d.y1,h.Xa(r),d.x1=r.x,d.y1=r.y,r.x=d.x2,r.y=d.y2,h.Xa(r),d.x2=r.x,d.y2=r.y,r.x=d.Gf,r.y=d.Hf,h.Xa(r),d.Gf=r.x,d.Hf=r.y,r.x=d.bd,r.y=d.cd,h.Xa(r),d.bd=r.x,d.cd=r.y;a.bj=b;return a.bj}x.g(S,"isClosed",S.prototype.Lv);x.defineProperty(S,{Lv:"isClosed"},t("gi"),function(a){this.gi!==a&&(this.gi=a,this.Sa=i)});x.g(S,"type",S.prototype.type);
x.defineProperty(S,{type:"type"},t("V"),function(a){u&&x.pb(a,S,S,"type");x.C(this,a);this.V=a;this.Sa=i});x.g(S,"endX",S.prototype.I);x.defineProperty(S,{I:"endX"},t("Tf"),function(a){u&&x.n(a,S,"endX");x.C(this,a);this.Tf=a;this.Sa=i});x.g(S,"endY",S.prototype.J);x.defineProperty(S,{J:"endY"},t("Uf"),function(a){u&&x.n(a,S,"endY");x.C(this,a);this.Uf=a;this.Sa=i});x.defineProperty(S,{ic:"point1X"},t("jf"),function(a){u&&x.n(a,S,"point1X");x.C(this,a);this.jf=a;this.Sa=i});
x.defineProperty(S,{Tc:"point1Y"},t("kf"),function(a){u&&x.n(a,S,"point1Y");x.C(this,a);this.kf=a;this.Sa=i});x.defineProperty(S,{dh:"point2X"},t("ui"),function(a){u&&x.n(a,S,"point2X");x.C(this,a);this.ui=a;this.Sa=i});x.defineProperty(S,{eh:"point2Y"},t("vi"),function(a){u&&x.n(a,S,"point2Y");x.C(this,a);this.vi=a;this.Sa=i});x.defineProperty(S,{ua:"centerX"},t("Hm"),function(a){u&&x.n(a,S,"centerX");x.C(this,a);this.Hm=a;this.Sa=i});
x.defineProperty(S,{Da:"centerY"},t("Im"),function(a){u&&x.n(a,S,"centerY");x.C(this,a);this.Im=a;this.Sa=i});x.defineProperty(S,{radiusX:"radiusX"},t("zj"),function(a){u&&x.n(a,S,"radiusX");0>a&&x.ra(a,">= zero",S,"radiusX");x.C(this,a);this.zj=a;this.Sa=i});x.defineProperty(S,{radiusY:"radiusY"},t("Aj"),function(a){u&&x.n(a,S,"radiusY");0>a&&x.ra(a,">= zero",S,"radiusY");x.C(this,a);this.Aj=a;this.Sa=i});
x.defineProperty(S,{fh:"startAngle"},t("Yd"),function(a){this.Yd!==a&&(x.C(this,a),u&&x.n(a,S,"startAngle"),a%=360,0>a&&(a+=360),this.Yd=a,this.Sa=i)});x.defineProperty(S,{Wi:"sweepAngle"},t("$d"),function(a){u&&x.n(a,S,"sweepAngle");x.C(this,a);360<a&&(a=360);-360>a&&(a=-360);this.$d=a;this.Sa=i});x.defineProperty(S,{tz:"isClockwiseArc"},function(){return!!this.$d},function(a){x.C(this,a);this.$d=a?1:0;this.Sa=i});
x.defineProperty(S,{xz:"isLargeArc"},function(){return!!this.Yd},function(a){x.C(this,a);this.Yd=a?1:0;this.Sa=i});x.defineProperty(S,{zA:"xAxisRotation"},t("Gn"),function(a){u&&x.n(a,S,"xAxisRotation");a%=360;0>a&&(a+=360);x.C(this,a);this.Gn=a;this.Sa=i});function Bd(){this.ca=p;this.Ay=(new K(0,0)).freeze();this.gx=(new K(0,0)).freeze();this.lt=this.lu=0;this.Xt="";this.$u=this.Ct=q;this.zt=this.ot=0;this.dj=this.It=q;this.kj=p;this.Yu=0;this.Yf=this.Vu=p}x.S("InputEvent",Bd);
Bd.prototype.copy=Bd.prototype.copy=function(){var a=new Bd;a.ca=this.ca;a.Ay=this.Jc.copy().freeze();a.gx=this.O.copy().freeze();a.lu=this.lu;a.lt=this.lt;a.Xt=this.Xt;a.Ct=this.Ct;a.$u=this.$u;a.ot=this.ot;a.zt=this.zt;a.It=this.It;a.dj=this.dj;a.kj=this.kj;a.Yu=this.Yu;a.Vu=this.Vu;a.Yf=this.Yf;return a};
Bd.prototype.toString=function(){var a="^";this.Ph&&(a+="M:"+this.Ph);this.button&&(a+="B:"+this.button);this.key&&(a+="K:"+this.key);this.pe&&(a+="C:"+this.pe);this.Pj&&(a+="D:"+this.Pj);this.de&&(a+="h");this.bubbles&&(a+="b");this.O!==p&&(a+="@"+this.O.toString());return a};x.g(Bd,"diagram",Bd.prototype.h);x.defineProperty(Bd,{h:"diagram"},t("ca"),ba("ca"));x.g(Bd,"viewPoint",Bd.prototype.Jc);x.defineProperty(Bd,{Jc:"viewPoint"},t("Ay"),function(a){x.i(a,K,Bd,"viewPoint");this.Ay.bb(a)});
x.g(Bd,"documentPoint",Bd.prototype.O);x.defineProperty(Bd,{O:"documentPoint"},t("gx"),function(a){x.i(a,K,Bd,"documentPoint");this.gx.bb(a)});x.g(Bd,"modifiers",Bd.prototype.Ph);x.defineProperty(Bd,{Ph:"modifiers"},t("lu"),ba("lu"));x.g(Bd,"button",Bd.prototype.button);x.defineProperty(Bd,{button:"button"},t("lt"),ba("lt"));x.g(Bd,"key",Bd.prototype.key);x.defineProperty(Bd,{key:"key"},t("Xt"),ba("Xt"));x.g(Bd,"down",Bd.prototype.Rj);x.defineProperty(Bd,{Rj:"down"},t("Ct"),ba("Ct"));
x.g(Bd,"up",Bd.prototype.Zi);x.defineProperty(Bd,{Zi:"up"},t("$u"),ba("$u"));x.g(Bd,"clickCount",Bd.prototype.pe);x.defineProperty(Bd,{pe:"clickCount"},t("ot"),ba("ot"));x.g(Bd,"delta",Bd.prototype.Pj);x.defineProperty(Bd,{Pj:"delta"},t("zt"),ba("zt"));x.g(Bd,"handled",Bd.prototype.de);x.defineProperty(Bd,{de:"handled"},t("It"),ba("It"));x.g(Bd,"bubbles",Bd.prototype.bubbles);x.defineProperty(Bd,{bubbles:"bubbles"},t("dj"),ba("dj"));x.g(Bd,"event",Bd.prototype.event);
x.defineProperty(Bd,{event:"event"},t("kj"),ba("kj"));x.g(Bd,"timestamp",Bd.prototype.timestamp);x.defineProperty(Bd,{timestamp:"timestamp"},t("Yu"),ba("Yu"));x.g(Bd,"targetDiagram",Bd.prototype.sg);x.defineProperty(Bd,{sg:"targetDiagram"},t("Vu"),ba("Vu"));x.g(Bd,"targetObject",Bd.prototype.Gd);x.defineProperty(Bd,{Gd:"targetObject"},t("Yf"),ba("Yf"));x.u(Bd,{Wk:"control"},function(){return 0!==(this.Ph&1)});x.u(Bd,{shift:"shift"},function(){return 0!==(this.Ph&4)});
x.u(Bd,{alt:"alt"},function(){return 0!==(this.Ph&2)});x.u(Bd,{HL:"meta"},function(){return 0!==(this.Ph&8)});x.u(Bd,{left:"left"},function(){return 0===this.button});x.u(Bd,{IL:"middle"},function(){return 1===this.button});x.u(Bd,{right:"right"},function(){return 2===this.button});function Cd(){this.ca=p;this.Gb="";this.Au=this.Qu=p;this.mt=q}x.S("DiagramEvent",Cd);Cd.prototype.copy=Cd.prototype.copy=function(){var a=new Cd;a.ca=this.ca;a.Gb=this.Gb;a.Qu=this.Qu;a.Au=this.Au;a.mt=this.mt;return a};
Cd.prototype.toString=function(){var a="*"+this.name;this.cancel&&(a+="x");this.iw!==p&&(a+=":"+this.iw.toString());this.Wv!==p&&(a+="("+this.Wv.toString()+")");return a};x.g(Cd,"diagram",Cd.prototype.h);x.defineProperty(Cd,{h:"diagram"},t("ca"),ba("ca"));x.g(Cd,"name",Cd.prototype.name);x.defineProperty(Cd,{name:"name"},t("Gb"),ba("Gb"));x.g(Cd,"subject",Cd.prototype.iw);x.defineProperty(Cd,{iw:"subject"},t("Qu"),ba("Qu"));x.g(Cd,"parameter",Cd.prototype.Wv);
x.defineProperty(Cd,{Wv:"parameter"},t("Au"),ba("Au"));x.g(Cd,"cancel",Cd.prototype.cancel);x.defineProperty(Cd,{cancel:"cancel"},t("mt"),ba("mt"));function Dd(){this.clear()}x.S("ChangedEvent",Dd);var Gd;Dd.Transaction=Gd=x.s(Dd,"Transaction",-1);var Td;Dd.Property=Td=x.s(Dd,"Property",0);var Ud;Dd.Insert=Ud=x.s(Dd,"Insert",1);var Vd;Dd.Remove=Vd=x.s(Dd,"Remove",2);
Dd.prototype.clear=Dd.prototype.clear=function(){this.nt=Td;this.Eu=this.ku="";this.ou=this.pu=this.wu=this.xu=this.vu=this.ca=this.Nd=p};
Dd.prototype.copy=Dd.prototype.copy=function(){var a=new Dd;a.Nd=this.Nd;a.ca=this.ca;a.nt=this.nt;a.ku=this.ku;a.Eu=this.Eu;a.vu=this.vu;var b=this.xu;a.xu=x.sb(b)&&"function"===typeof b.Q?b.Q():b;b=this.wu;a.wu=x.sb(b)&&"function"===typeof b.Q?b.Q():b;b=this.pu;a.pu=x.sb(b)&&"function"===typeof b.Q?b.Q():b;b=this.ou;a.ou=x.sb(b)&&"function"===typeof b.Q?b.Q():b;return a};
Dd.prototype.toString=function(){var a="",a=this.pd===Gd?a+"* ":this.pd===Td?a+(this.da!==p?"!m":"!d"):a+((this.da!==p?"!m":"!d")+this.pd);this.propertyName&&"string"===typeof this.propertyName&&(a+=" "+this.propertyName);this.Se&&this.Se!==this.propertyName&&(a+=" "+this.Se);a+=": ";this.pd===Gd?this.oldValue!==p&&(a+=" "+this.oldValue):(this.object!==p&&(a+=Wd(this.object)),this.oldValue!==p&&(a+="  old: "+Wd(this.oldValue)),this.Df!==p&&(a+=" "+this.Df),this.newValue!==p&&(a+="  new: "+Wd(this.newValue)),
this.Cf!==p&&(a+=" "+this.Cf));return a};Dd.prototype.getValue=Dd.prototype.va=function(a){return a?this.oldValue:this.newValue};Dd.prototype.getParam=Dd.prototype.SK=function(a){return a?this.Df:this.Cf};Dd.prototype.canUndo=Dd.prototype.Uk=function(){return this.da!==p||this.h!==p?i:q};Dd.prototype.undo=Dd.prototype.ml=function(){this.Uk()&&(this.da!==p?this.da.Tr(this,i):this.h!==p&&this.h.Tr(this,i))};Dd.prototype.canRedo=Dd.prototype.Sk=function(){return this.da!==p||this.h!==p?i:q};
Dd.prototype.redo=Dd.prototype.Go=function(){this.Sk()&&(this.da!==p?this.da.Tr(this,q):this.h!==p&&this.h.Tr(this,q))};x.g(Dd,"model",Dd.prototype.da);x.defineProperty(Dd,{da:"model"},t("Nd"),ba("Nd"));x.g(Dd,"diagram",Dd.prototype.h);x.defineProperty(Dd,{h:"diagram"},t("ca"),ba("ca"));x.g(Dd,"change",Dd.prototype.pd);x.defineProperty(Dd,{pd:"change"},t("nt"),function(a){u&&x.pb(a,Dd,Dd,"change");this.nt=a});x.g(Dd,"modelChange",Dd.prototype.Se);
x.defineProperty(Dd,{Se:"modelChange"},t("ku"),function(a){u&&x.k(a,"string",Dd,"modelChange");this.ku=a});x.g(Dd,"propertyName",Dd.prototype.propertyName);x.defineProperty(Dd,{propertyName:"propertyName"},t("Eu"),function(a){u&&"string"!==typeof a&&x.i(a,Function,Dd,"propertyName");this.Eu=a});x.g(Dd,"object",Dd.prototype.object);x.defineProperty(Dd,{object:"object"},t("vu"),ba("vu"));x.g(Dd,"oldValue",Dd.prototype.oldValue);x.defineProperty(Dd,{oldValue:"oldValue"},t("xu"),ba("xu"));
x.g(Dd,"oldParam",Dd.prototype.Df);x.defineProperty(Dd,{Df:"oldParam"},t("wu"),ba("wu"));x.g(Dd,"newValue",Dd.prototype.newValue);x.defineProperty(Dd,{newValue:"newValue"},t("pu"),ba("pu"));x.g(Dd,"newParam",Dd.prototype.Cf);x.defineProperty(Dd,{Cf:"newParam"},t("ou"),ba("ou"));
function J(a){x.lc(this);this.Yw=this.Gb="";this.Dk=q;this.gf=[];this.nc=new pa(p,Object);this.Ml="key";this.ut=this.au=p;this.Iq="category";this.Cg=new pa(p,qa);this.qj=p;this.zl=this.wi=q;this.wy=p;this.wa=new Xd;a!==f&&(this.mg=a)}x.S("Model",J);J.prototype.clear=J.prototype.clear=function(){this.gf=[];this.nc.clear();this.Cg.clear();this.wa.clear()};
J.prototype.writeJsonProtected=J.prototype.ow=function(){var a="";""!==this.name&&(a+=',\n  "name": '+this.quote(this.name));""!==this.am&&(a+=',\n  "dataFormat": '+this.quote(this.am));this.hb&&(a+=',\n  "isReadOnly": '+this.hb);"key"!==this.gl&&"string"===typeof this.gl&&(a+=',\n  "nodeKeyProperty": '+this.quote(this.gl));"category"!==this.fl&&"string"===typeof this.fl&&(a+=',\n  "nodeCategoryProperty": '+this.quote(this.fl));return a};
J.prototype.yA=function(){return',\n  "nodeDataArray": '+Yd(this,this.mg,i)};J.prototype.readJsonProtected=J.prototype.Yv=function(a){a.name&&(this.name=a.name);a.dataFormat&&(this.am=a.dataFormat);a.isReadOnly&&(this.hb=a.isReadOnly);a.nodeKeyProperty&&(this.gl=a.nodeKeyProperty);a.nodeCategoryProperty&&(this.fl=a.nodeCategoryProperty)};J.prototype.Uz=function(a){a.nodeDataArray&&(a=a.nodeDataArray,Zd(this,a),this.mg=a)};
J.prototype.toString=function(a){a===f&&(a=0);if(1<a)return this.pA();var b=(""!==this.name?this.name:"")+" Model";if(0<a){var b=b+"\n node data:",a=this.mg,c=x.Yb(a),d;for(d=0;d<c;d++)var e=x.Jb(a,d),b=b+(" "+this.rb(e)+":"+Wd(e))}return b};J.prototype.toJson=J.prototype.pA=function(a){a===f&&(a=this.constructor===J?"go.Model":this.constructor===T?"go.GraphLinksModel":this.constructor===$d?"go.TreeModel":x.$k(this));return'{ "class": '+this.quote(a)+this.writeJsonProtected()+this.yA()+"}"};
J.fromJson=function(a,b){b===f&&(b=p);b&&x.i(b,J,J,"fromJson:model");var c=p;if("string"===typeof a)if(window&&window.JSON&&window.JSON.parse)try{c=window.JSON.parse(a)}catch(d){u&&x.trace("JSON.parse error: "+d.toString())}else x.trace("WARNING: no JSON.parse available");else"object"==typeof a?c=a:x.m("Unable to construct a Model from: "+a);if(b===p){var e;e=p;var g=c["class"];if("string"===typeof g)try{var h=p;0===g.indexOf("go.")?(g=g.substr(3),h=ea[g]):(h=ea[g])||(h=window[g]);"function"===typeof h&&
(e=new h)}catch(j){}e===p||e instanceof J?b=e:x.m("Unable to construct a Model of declared class: "+c["class"])}b===p&&(b=new T);b.readJsonProtected(c);b.Uz(c);return b};
function Zd(a,b){if(x.isArray(b))for(var c=x.Yb(b),d=0;d<c;d++){var e=x.Jb(b,d);x.sb(e)&&x.wC(b,d,Zd(a,e))}else if(x.sb(b)){for(d in b)if(e=b[d],x.sb(e)&&(e=Zd(a,e),b[d]=e,"points"===d&&Array.isArray(e))){for(var g=i,h=0;h<e.length;h++)if("number"!==typeof e[h]){g=q;break}if(g){g=new H(K);for(h=0;h<e.length/2;h++){var j=new K(e[2*h],e[2*h+1]);g.add(j)}g.freeze();b[d]=g}}if("object"!==typeof b)c=b;else{d=b;e=b["class"];if("NaN"===e)d=NaN;else if("go.Point"===e)d=new K(ae(b.x),ae(b.y));else if("go.Size"===
e)d=new cb(ae(b.width),ae(b.height));else if("go.Rect"===e)d=new L(ae(b.x),ae(b.y),ae(b.width),ae(b.height));else if("go.Margin"===e)d=new gb(ae(b.top),ae(b.right),ae(b.bottom),ae(b.left));else if("go.Spot"===e)d="string"===typeof b["enum"]?vb(b["enum"]):new N(ae(b.x),ae(b.y),ae(b.offsetX),ae(b.offsetY));else if("go.Brush"===e){if(d=new be,d.type=x.fm(be,b.type),b.start instanceof N&&(d.start=b.start),b.end instanceof N&&(d.end=b.end),"number"===typeof b.startRadius&&(d.Qo=ae(b.startRadius)),"number"===
typeof b.endRadius&&(d.eo=ae(b.endRadius)),e=b.colorStops)for(c in e)d.addColorStop(parseFloat(c),e[c])}else"go.Geometry"===e&&(d="string"===typeof b.path?ed(b.path):new Tc,d.type=x.fm(Tc,b.type),"number"===typeof b.startX&&(d.sa=ae(b.startX)),"number"===typeof b.startY&&(d.ta=ae(b.startY)),"number"===typeof b.endX&&(d.I=ae(b.endX)),"number"===typeof b.endY&&(d.J=ae(b.endY)),b.spot1 instanceof N&&(d.v=b.spot1),b.spot2 instanceof N&&(d.w=b.spot2));c=d}return c}return b}
J.prototype.quote=function(a){for(var b="",c=a.length,d=0;d<c;d++)var e=a[d],b='"'===e||"\\"===e?b+("\\"+e):"\b"===e?b+"\\b":"\f"===e?b+"\\f":"\n"===e?b+"\\n":"\r"===e?b+"\\r":"\t"===e?b+"\\t":b+e;return'"'+b+'"'};
J.prototype.writeJsonValue=J.prototype.pw=function(a){var b;if(a===f)b="undefined";else if(a===p)b="null";else if(a===i)b="true";else if(a===q)b="false";else if("string"===typeof a)b=this.quote(a);else if("number"===typeof a)b=Infinity===a?"9e9999":-Infinity===a?"-9e9999":isNaN(a)?'{"class":"NaN"}':a.toString();else if(x.isArray(a))b=Yd(this,a);else if(x.sb(a)){var c=a;if(c instanceof K)a={"class":"go.Point",x:de(c.x),y:de(c.y)};else if(c instanceof cb)a={"class":"go.Size",width:de(c.width),height:de(c.height)};
else if(c instanceof L)a={"class":"go.Rect",x:de(c.x),y:de(c.y),width:de(c.width),height:de(c.height)};else if(c instanceof gb)a={"class":"go.Margin",top:de(c.top),right:de(c.right),bottom:de(c.bottom),left:de(c.left)};else if(c instanceof N)a=wb(c)?{"class":"go.Spot",x:de(c.x),y:de(c.y),offsetX:de(c.offsetX),offsetY:de(c.offsetY)}:{"class":"go.Spot","enum":c.toString()};else if(c instanceof be){a={"class":"go.Brush",type:c.type.name};if(c.type===ee)a.color=c.color;else if(c.type===fe||c.type===ve)a.start=
c.start,a.end=c.end,c.type===ve&&(0!==c.Qo&&(a.startRadius=de(c.Qo)),isNaN(c.eo)||(a.endRadius=de(c.eo)));if(c.Yn!==p){for(var d={},c=c.Yn.l;c.next();)d[c.key.toString()]=c.value;a.colorStops=d}}else c instanceof Tc&&(a={"class":"go.Geometry",type:c.type.name},0!==c.sa&&(a.startX=de(c.sa)),0!==c.ta&&(a.startY=de(c.ta)),0!==c.I&&(a.endX=de(c.I)),0!==c.J&&(a.endY=de(c.J)),c.v.K(Db)||(a.spot1=c.v),c.w.K(Nb)||(a.spot2=c.w),c.type===Uc&&(a.path=cd(c)));var d="{",e=i;for(b in a)if(c=x.$a(a,b),!(c===f||
"__gohashid"===b||"_"===b[0]||"function"===typeof c))if(e?e=q:d+=", ",d+='"'+b+'":',"points"===b&&c instanceof H&&c.V===K){for(var g="[",c=c.l;c.next();){var h=c.value;1<g.length&&(g+=",");g+=this.pw(h.x);g+=",";g+=this.pw(h.y)}g+="]";d+=g}else d+=this.pw(c);b=d+"}"}else b="function"===typeof a?"null":a.toString();return b};function Yd(a,b,c){var d=x.Yb(b),e="[ ";c&&1<d&&(e+="\n");for(var g=0;g<d;g++){var h=x.Jb(b,g);h!==f&&(0<g&&(e+=",",c&&(e+="\n")),e+=a.pw(h))}c&&1<d&&(e+="\n");return e+" ]"}
function de(a){return isNaN(a)?"NaN":Infinity===a?"9e9999":-Infinity===a?"-9e9999":a}function ae(a){return"number"===typeof a?a:"NaN"===a?NaN:"9e9999"===a?Infinity:"-9e9999"===a?-Infinity:parseFloat(a)}x.g(J,"name",J.prototype.name);x.defineProperty(J,{name:"name"},t("Gb"),function(a){var b=this.Gb;b!==a&&(x.k(a,"string",J,"name"),this.Gb=a,this.j("name",b,a))});x.g(J,"dataFormat",J.prototype.am);
x.defineProperty(J,{am:"dataFormat"},t("Yw"),function(a){var b=this.Yw;b!==a&&(x.k(a,"string",J,"dataFormat"),this.Yw=a,this.j("dataFormat",b,a))});x.g(J,"isReadOnly",J.prototype.hb);x.defineProperty(J,{hb:"isReadOnly"},t("Dk"),function(a){var b=this.Dk;b!==a&&(x.k(a,"boolean",J,"isReadOnly"),this.Dk=a,this.j("isReadOnly",b,a))});J.prototype.addChangedListener=J.prototype.Gy=function(a){x.k(a,"function",J,"addChangedListener:listener");this.qj===p&&(this.qj=new H("function"));this.qj.add(a)};
J.prototype.removeChangedListener=J.prototype.Wz=function(a){x.k(a,"function",J,"removeChangedListener:listener");this.qj!==p&&(this.qj.remove(a),0===this.qj.count&&(this.qj=p))};J.prototype.jv=function(a){this.Ab||this.wa.wD(a);if(this.qj!==p)for(var b=this.qj.l;b.next();){var c=b.value;c(a)}};J.prototype.raiseChangedEvent=J.prototype.Uc=function(a,b,c,d,e,g,h){we(this,"",a,b,c,d,e,g,h)};J.prototype.raiseChanged=J.prototype.j=function(a,b,c,d,e){we(this,"",Td,a,this,b,c,d,e)};
J.prototype.raiseDataChanged=J.prototype.Tz=function(a,b,c,d,e,g){we(this,"",Td,b,a,c,d,e,g)};function we(a,b,c,d,e,g,h,j,k){j===f&&(j=p);k===f&&(k=p);var l=new Dd;l.da=a;l.pd=c;l.Se=b;l.propertyName=d;l.object=e;l.oldValue=g;l.Df=j;l.newValue=h;l.Cf=k;a.jv(l)}x.g(J,"undoManager",J.prototype.wa);x.defineProperty(J,{wa:"undoManager"},t("wy"),function(a){var b=this.wy;b!==a&&(x.i(a,Xd,J,"undoManager"),b!==p&&b.dI(this),this.wy=a,a!==p&&a.SF(this))});x.g(J,"skipsUndoManager",J.prototype.Ab);
x.defineProperty(J,{Ab:"skipsUndoManager"},t("wi"),function(a){x.k(a,"boolean",J,"skipsUndoManager");this.wi=a});J.prototype.Tr=function(a,b){if(a!==p&&a.da===this){var c=this.zl;try{this.zl=i,this.Oy(a,b)}finally{this.zl=c}}};
J.prototype.Oy=function(a,b){if(a.pd===Td){var c=a.object,d=a.propertyName,e=a.va(b);x.Pa(c,d,e)}else a.pd===Ud?"nodeDataArray"===a.Se?(c=a.newValue,x.sb(c)&&(d=this.rb(c),d!==f&&(b?(x.Ei(this.gf,a.Cf),this.nc.remove(d)):(x.Di(this.gf,a.Cf,c),this.nc.add(d,c))))):""===a.Se?(c=a.object,!x.isArray(c)&&a.propertyName&&(c=x.$a(a.object,a.propertyName)),x.isArray(c)&&(d=a.newValue,e=a.Cf,b?x.Ei(c,e):x.Di(c,e,d))):x.m("unknown ChangedEvent.Insert object: "+a.toString()):a.pd===Vd?"nodeDataArray"===a.Se?
(c=a.oldValue,x.sb(c)&&(d=this.rb(c),d!==f&&(b?(x.Di(this.gf,a.Df,c),this.nc.add(d,c)):(x.Ei(this.gf,a.Df),this.nc.remove(d))))):""===a.Se?(c=a.object,!x.isArray(c)&&a.propertyName&&(c=x.$a(a.object,a.propertyName)),x.isArray(c)&&(d=a.oldValue,e=a.Df,b?x.Di(c,e,d):x.Ei(c,e))):x.m("unknown ChangedEvent.Remove object: "+a.toString()):a.pd!==Gd&&x.m("unknown ChangedEvent: "+a.toString())};J.prototype.startTransaction=J.prototype.jc=function(a){return this.wa.jc(a)};
J.prototype.commitTransaction=J.prototype.qe=function(a){return this.wa.qe(a)};J.prototype.rollbackTransaction=J.prototype.Ls=function(){return this.wa.Ls()};J.prototype.updateTargetBindings=J.prototype.Bb=function(a,b){b===f&&(b="");we(this,"SourceChanged",Gd,b,a,p,p)};x.g(J,"nodeKeyProperty",J.prototype.gl);
x.defineProperty(J,{gl:"nodeKeyProperty"},t("Ml"),function(a){var b=this.Ml;b!==a&&(xe(a,J,"nodeKeyProperty"),0<this.nc.count&&x.m("Cannot set Model.nodeKeyProperty when there is existing node data"),this.Ml=a,this.j("nodeKeyProperty",b,a))});function xe(a,b,c){"string"!==typeof a&&"function"!==typeof a&&x.kc(a,"string or function",b,c)}
J.prototype.getKeyForNodeData=J.prototype.rb=function(a){if(a!==p){var b=this.Ml;if(""!==b&&(b=x.$a(a,b),b!==f)){if(ye(b))return b;u&&x.trace("Key value for node data "+a+" is not a number or a string: "+b)}}};
J.prototype.setKeyForNodeData=J.prototype.iA=function(a,b){b===p&&(b=f);b!==f&&!ye(b)&&x.kc(b,"number or string",J,"setKeyForNodeData:key");if(a!==p){var c=this.Ml;if(""!==c)if(this.se(a)){var d=x.$a(a,c);d!==b&&this.Ke(b)===p&&(x.Pa(a,c,b),this.nc.remove(d),this.nc.add(b,a),we(this,"nodeKey",Td,c,a,d,b),"string"===typeof c&&this.Bb(a,c),this.Ks(d,b))}else x.Pa(a,c,b)}};x.g(J,"makeUniqueKeyFunction",J.prototype.DH);
x.defineProperty(J,{DH:"makeUniqueKeyFunction"},t("au"),function(a){var b=this.au;b!==a&&(a!==p&&x.k(a,"function",J,"makeUniqueKeyFunction"),this.au=a,this.j("makeUniqueKeyFunction",b,a))});function ye(a){return"number"===typeof a||"string"===typeof a}J.prototype.containsNodeData=J.prototype.se=function(a){a=this.rb(a);return a===f?q:this.nc.contains(a)};J.prototype.findNodeDataForKey=J.prototype.Ke=function(a){a===p&&x.m("Model.findNodeDataForKey:key must not be null");return a===f||!ye(a)?p:this.nc.va(a)};
x.g(J,"nodeDataArray",J.prototype.mg);
x.defineProperty(J,{mg:"nodeDataArray"},t("gf"),function(a){var b=this.gf;if(b!==a){x.Ur(a,J,"nodeDataArray");this.nc.clear();this.uA();for(var c=x.Yb(a),d=0;d<c;d++){var e=x.Jb(a,d);if(!x.sb(e)){x.m("Model.nodeDataArray must only contain Objects, not: "+e);return}x.ms(e)}this.gf=a;for(var g=new H(Object),d=0;d<c;d++){var e=x.Jb(a,d),h=this.rb(e);h===f?g.add(e):this.nc.va(h)!==p?g.add(e):this.nc.add(h,e)}for(d=g.l;d.next();)e=d.value,this.WD(e),g=this.rb(e),this.nc.add(g,e);we(this,"nodeDataArray",
Td,"nodeDataArray",this,b,a);for(d=0;d<c;d++)e=x.Jb(a,d),this.Jo(e),this.Io(e);this.Cg.clear();Array.isArray(a)||(this.hb=i)}});
J.prototype.makeNodeDataKeyUnique=J.prototype.WD=function(a){if(a!==p){var b=this.Ml;if(""!==b){var c=this.rb(a);if(c===f||this.nc.contains(c)){var d=this.au;if(d!==p&&(c=d(this,a),c!==f&&c!==p&&!this.nc.contains(c))){x.Pa(a,b,c);return}if("string"===typeof c){for(d=2;this.nc.contains(c+d);)d++;x.Pa(a,b,c+d)}else if(c===f||"number"===typeof c){for(d=-this.nc.count-1;this.nc.contains(d);)d--;x.Pa(a,b,d)}else x.m("Model.getKeyForNodeData returned something other than a string or a number: "+c)}}}};
J.prototype.addNodeData=J.prototype.Mr=function(a){if(a!==p){x.ms(a);var b=this.rb(a);b!==f&&this.nc.va(b)===a||(this.WD(a),b=this.rb(a),this.nc.add(b,a),b=x.Yb(this.gf),x.Di(this.gf,b,a),we(this,"nodeDataArray",Ud,"nodeDataArray",this,p,a,p,b),this.Jo(a),this.Io(a))}};J.prototype.removeNodeData=J.prototype.uE=function(a){if(a!==p){var b=this.rb(a);b!==f&&this.nc.contains(b)&&(this.nc.remove(b),b=x.Ky(this.gf,a),0>b||(x.Ei(this.gf,b),we(this,"nodeDataArray",Vd,"nodeDataArray",this,a,p,b,p),this.Ys(a)))}};
da=J.prototype;da.Ks=function(a,b){var c=ze(this,a);c instanceof qa&&this.Cg.add(b,c)};da.uA=aa();da.Jo=aa();da.Io=aa();da.Ys=aa();function Ae(a,b,c){if(b!==f){var d=a.Cg.va(b);d===p&&(d=new qa,a.Cg.add(b,d));d.add(c)}}function Be(a,b,c){if(b!==f){var d=a.Cg.va(b);d instanceof qa&&(c===f||c===p?a.Cg.remove(b):(d.remove(c),0===d.count&&a.Cg.remove(b)))}}
J.prototype.dumpDelayedReferences=J.prototype.qK=function(){x.trace("DelayedReferences ("+this.Cg.count+")");for(var a=this.Cg.l;a.next();){for(var b="",c=a.value.l;c.next();)b+=Wd(c.value)+", ";x.trace("  "+a.key+": "+b)}};function ze(a,b){if(b===f)return p;var c=a.Cg.va(b);return c instanceof qa?c:p}x.g(J,"copyNodeDataFunction",J.prototype.yG);
x.defineProperty(J,{yG:"copyNodeDataFunction"},t("ut"),function(a){var b=this.ut;b!==a&&(a!==p&&x.k(a,"function",J,"copyNodeDataFunction"),this.ut=a,this.j("copyNodeDataFunction",b,a))});J.prototype.copyNodeData=J.prototype.Mj=function(a){if(a===p)return p;var b=p,b=this.ut;if(b!==p)b=b(a,this);else{var b=new a.constructor,c;for(c in a)x.Pa(b,c,x.$a(a,c))}b&&x.lc(b);return b};
J.prototype.setDataProperty=J.prototype.JE=function(a,b,c){u&&(x.k(a,"object",J,"setDataProperty:data"),x.k(b,"string",J,"setDataProperty:propname"),""===b&&x.m("Model.setDataProperty: property name must not be an empty string when setting "+a+" to "+c));if(this.se(a))if(b===this.gl)this.iA(a,c);else if(b===this.fl){this.cw(a,c);return}var d=x.$a(a,b);d!==c&&(x.Pa(a,b,c),this.Tz(a,b,d,c))};J.prototype.addArrayItem=J.prototype.SI=function(a,b){this.kH(a,-1,b)};
J.prototype.insertArrayItem=J.prototype.kH=function(a,b,c){u&&(x.Ur(a,J,"insertArrayItem:arr"),x.n(b,J,"insertArrayItem:idx"));a===this.gf&&x.m("Model.insertArrayItem or Model.addArrayItem should not be called on the Model.nodeDataArray");0>b&&(b=x.Yb(a));x.Di(a,b,c);we(this,"",Ud,"",a,p,c,p,b)};
J.prototype.removeArrayItem=J.prototype.YL=function(a,b){b===f&&(b=-1);u&&(x.Ur(a,J,"removeArrayItem:arr"),x.n(b,J,"removeArrayItem:idx"));a===this.gf&&x.m("Model.removeArrayItem should not be called on the Model.nodeDataArray");-1===b&&(b=x.Yb(a)-1);var c=x.Jb(a,b);x.Ei(a,b);we(this,"",Vd,"",a,c,p,b,p)};x.g(J,"nodeCategoryProperty",J.prototype.fl);
x.defineProperty(J,{fl:"nodeCategoryProperty"},t("Iq"),function(a){var b=this.Iq;b!==a&&(xe(a,J,"nodeCategoryProperty"),this.Iq=a,this.j("nodeCategoryProperty",b,a))});J.prototype.getCategoryForNodeData=J.prototype.pD=function(a){if(a===p)return"";var b=this.Iq;if(""===b)return"";b=x.$a(a,b);if(b===f)return"";if("string"===typeof b)return b;u&&x.trace("getCategoryForNodeData found a non-string category for "+a+": "+b);return""};
J.prototype.setCategoryForNodeData=J.prototype.cw=function(a,b){x.k(b,"string",J,"setCategoryForNodeData:cat");if(a!==p){var c=this.Iq;if(""!==c)if(this.se(a)){var d=x.$a(a,c);d===f&&(d="");d!==b&&(x.Pa(a,c,b),we(this,"nodeCategory",Td,c,a,d,b))}else x.Pa(a,c,b)}};
function T(a,b){J.call(this);this.Fk=[];this.gn=new qa(Object);this.nk=this.tt=p;this.nj="from";this.pj="to";this.rq=this.qq="";this.nq="category";this.uh=this.ru="";this.qu="isGroup";this.wj="group";a!==f&&(this.mg=a);b!==f&&(this.Yg=b)}x.S("GraphLinksModel",T);x.Ja(T,J);T.prototype.clear=T.prototype.clear=function(){J.prototype.clear.call(this);this.Fk=[];this.gn.clear()};
T.prototype.toString=function(a){a===f&&(a=0);if(2<=a)return this.pA();var b=(""!==this.name?this.name:"")+" GraphLinksModel";if(0<a){var b=b+"\n node data:",a=this.mg,c=x.Yb(a),d;for(d=0;d<c;d++)var e=x.Jb(a,d),b=b+(" "+this.rb(e)+":"+Wd(e));b+="\n link data:";a=this.Yg;c=x.Yb(a);for(d=0;d<c;d++)e=x.Jb(a,d),b+=" "+this.im(e)+"--\>"+this.jm(e)}return b};
T.prototype.writeJsonProtected=T.prototype.ow=function(){var a=J.prototype.ow.call(this),b="";"category"!==this.qo&&"string"===typeof this.qo&&(b+=',\n  "linkCategoryProperty": '+this.quote(this.qo));"from"!==this.ro&&"string"===typeof this.ro&&(b+=',\n "linkFromKeyProperty": '+this.quote(this.ro));"to"!==this.vo&&"string"===typeof this.vo&&(b+=',\n  "linkToKeyProperty": '+this.quote(this.vo));""!==this.so&&"string"===typeof this.so&&(b+=',\n  "linkFromPortIdProperty": '+this.quote(this.so));""!==
this.wo&&"string"===typeof this.wo&&(b+=',\n  "linkToPortIdProperty": '+this.quote(this.wo));""!==this.Eo&&"string"===typeof this.Eo&&(b+=',\n "nodeIsLinkLabelProperty": '+this.quote(this.Eo));""!==this.to&&"string"===typeof this.to&&(b+=',\n  "linkLabelKeysProperty": '+this.quote(this.to));"isGroup"!==this.Do&&"string"===typeof this.Do&&(b+=',\n "nodeIsGroupProperty": '+this.quote(this.Do));"group"!==this.Co&&"string"===typeof this.Co&&(b+=',\n  "nodeGroupKeyProperty": '+this.quote(this.Co));return a+
b};T.prototype.yA=function(){var a=J.prototype.yA.call(this),b=',\n  "linkDataArray": '+Yd(this,this.Yg,i);return a+b};
T.prototype.readJsonProtected=T.prototype.Yv=function(a){J.prototype.Yv.call(this,a);a.linkFromKeyProperty&&(this.ro=a.linkFromKeyProperty);a.linkToKeyProperty&&(this.vo=a.linkToKeyProperty);a.linkFromPortIdProperty&&(this.so=a.linkFromPortIdProperty);a.linkToPortIdProperty&&(this.wo=a.linkToPortIdProperty);a.linkCategoryProperty&&(this.qo=a.linkCategoryProperty);a.nodeIsLinkLabelProperty&&(this.Eo=a.nodeIsLinkLabelProperty);a.linkLabelKeysProperty&&(this.to=a.linkLabelKeysProperty);a.nodeIsGroupProperty&&
(this.Do=a.nodeIsGroupProperty);a.nodeGroupKeyProperty&&(this.Co=a.nodeGroupKeyProperty)};T.prototype.Uz=function(a){J.prototype.Uz.call(this,a);a.linkDataArray&&(a=a.linkDataArray,Zd(this,a),this.Yg=a)};
T.prototype.Oy=function(a,b){if(a.pd===Ud){var c=p;"linkDataArray"===a.Se?c=this.Yg:"linkLabelKeys"===a.Se&&(c=this.al(a.object));if(x.isArray(c)){b?x.Ei(c,a.Cf):x.Di(c,a.Cf,a.newValue);return}}else if(a.pd===Vd&&(c=p,"linkDataArray"===a.Se?c=this.Yg:"linkLabelKeys"===a.Se&&(c=this.al(a.object)),x.isArray(c))){b?x.Di(c,a.Df,a.oldValue):x.Ei(c,a.Df);return}J.prototype.Oy.call(this,a,b)};x.g(T,"archetypeNodeData",T.prototype.Rr);
x.defineProperty(T,{Rr:"archetypeNodeData"},t("nk"),function(a){var b=this.nk;b!==a&&(a!==p&&x.i(a,Object,T,"archetypeNodeData"),this.nk=a,this.j("archetypeNodeData",b,a))});T.prototype.rm=function(a){if(a!==f){var b=this.nk;if(b!==p){var c=this.Ke(a);c===p&&(c=this.Mj(b),x.Pa(c,this.Ml,a),this.Mr(c))}return a}};x.g(T,"linkFromKeyProperty",T.prototype.ro);
x.defineProperty(T,{ro:"linkFromKeyProperty"},t("nj"),function(a){var b=this.nj;b!==a&&(xe(a,T,"linkFromKeyProperty"),this.nj=a,this.j("linkFromKeyProperty",b,a))});T.prototype.getFromKeyForLinkData=T.prototype.im=function(a){if(a!==p){var b=this.nj;if(""!==b&&(b=x.$a(a,b),b!==f)){if(ye(b))return b;u&&x.trace("FromKey value for link data "+a+" is not a number or a string: "+b)}}};
T.prototype.setFromKeyForLinkData=T.prototype.ew=function(a,b){b===p&&(b=f);b!==f&&!ye(b)&&x.kc(b,"number or string",T,"setFromKeyForLinkData:key");if(a!==p){var c=this.nj;if(""!==c)if(b=this.rm(b),this.Gi(a)){var d=x.$a(a,c);d!==b&&(Be(this,d,a),x.Pa(a,c,b),this.Ke(b)===p&&Ae(this,b,a),we(this,"linkFromKey",Td,c,a,d,b),"string"===typeof c&&this.Bb(a,c))}else x.Pa(a,c,b)}};x.g(T,"linkToKeyProperty",T.prototype.vo);
x.defineProperty(T,{vo:"linkToKeyProperty"},t("pj"),function(a){var b=this.pj;b!==a&&(xe(a,T,"linkToKeyProperty"),this.pj=a,this.j("linkToKeyProperty",b,a))});T.prototype.getToKeyForLinkData=T.prototype.jm=function(a){if(a!==p){var b=this.pj;if(""!==b&&(b=x.$a(a,b),b!==f)){if(ye(b))return b;u&&x.trace("ToKey value for link data "+a+" is not a number or a string: "+b)}}};
T.prototype.setToKeyForLinkData=T.prototype.fw=function(a,b){b===p&&(b=f);b!==f&&!ye(b)&&x.kc(b,"number or string",T,"setToKeyForLinkData:key");if(a!==p){var c=this.pj;if(""!==c)if(b=this.rm(b),this.Gi(a)){var d=x.$a(a,c);d!==b&&(Be(this,d,a),x.Pa(a,c,b),this.Ke(b)===p&&Ae(this,b,a),we(this,"linkToKey",Td,c,a,d,b),"string"===typeof c&&this.Bb(a,c))}else x.Pa(a,c,b)}};x.g(T,"linkFromPortIdProperty",T.prototype.so);
x.defineProperty(T,{so:"linkFromPortIdProperty"},t("qq"),function(a){var b=this.qq;b!==a&&(xe(a,T,"linkFromPortIdProperty"),this.qq=a,this.j("linkFromPortIdProperty",b,a))});T.prototype.getFromPortIdForLinkData=T.prototype.ZG=function(a){if(a===p)return"";var b=this.qq;if(""===b)return"";a=x.$a(a,b);return a===f?"":a};
T.prototype.setFromPortIdForLinkData=T.prototype.Ps=function(a,b){x.k(b,"string",T,"setFromPortIdForLinkData:portname");if(a!==p){var c=this.qq;if(""!==c)if(this.Gi(a)){var d=x.$a(a,c);d===f&&(d="");d!==b&&(x.Pa(a,c,b),we(this,"linkFromPortId",Td,c,a,d,b),"string"===typeof c&&this.Bb(a,c))}else x.Pa(a,c,b)}};x.g(T,"linkToPortIdProperty",T.prototype.wo);
x.defineProperty(T,{wo:"linkToPortIdProperty"},t("rq"),function(a){var b=this.rq;b!==a&&(xe(a,T,"linkToPortIdProperty"),this.rq=a,this.j("linkToPortIdProperty",b,a))});T.prototype.getToPortIdForLinkData=T.prototype.bH=function(a){if(a===p)return"";var b=this.rq;if(""===b)return"";a=x.$a(a,b);return a===f?"":a};
T.prototype.setToPortIdForLinkData=T.prototype.Qs=function(a,b){x.k(b,"string",T,"setToPortIdForLinkData:portname");if(a!==p){var c=this.rq;if(""!==c)if(this.Gi(a)){var d=x.$a(a,c);d===f&&(d="");d!==b&&(x.Pa(a,c,b),we(this,"linkToPortId",Td,c,a,d,b),"string"===typeof c&&this.Bb(a,c))}else x.Pa(a,c,b)}};x.g(T,"nodeIsLinkLabelProperty",T.prototype.Eo);
x.defineProperty(T,{Eo:"nodeIsLinkLabelProperty"},t("ru"),function(a){var b=this.ru;b!==a&&(xe(a,T,"nodeIsLinkLabelProperty"),this.ru=a,this.j("nodeIsLinkLabelProperty",b,a))});T.prototype.isLinkLabelForNodeData=T.prototype.yz=function(a){if(a===p)return q;var b=this.ru;return""===b?q:x.$a(a,b)?i:q};x.g(T,"linkLabelKeysProperty",T.prototype.to);
x.defineProperty(T,{to:"linkLabelKeysProperty"},t("uh"),function(a){var b=this.uh;b!==a&&(xe(a,T,"linkLabelKeysProperty"),this.uh=a,this.j("linkLabelKeysProperty",b,a))});T.prototype.getLabelKeysForLinkData=T.prototype.al=function(a){if(a===p)return[];var b=this.uh;if(""===b)return[];a=x.$a(a,b);return a===f?[]:a};
T.prototype.setLabelKeysForLinkData=T.prototype.KE=function(a,b){x.Ur(b,T,"setLabelKeysForLinkData:arr");if(a!==p){var c=this.uh;if(""!==c)if(this.Gi(a)){var d=x.$a(a,c);d===f&&(d=[]);if(d!==b){for(var e=x.Yb(d),g=0;g<e;g++){var h=x.Jb(d,g);Be(this,h,a)}x.Pa(a,c,b);e=x.Yb(b);for(g=0;g<e;g++)h=x.Jb(b,g),this.Ke(h)===p&&Ae(this,h,a);we(this,"linkLabelKeys",Td,c,a,d,b);"string"===typeof c&&this.Bb(a,c)}}else x.Pa(a,c,b)}};
T.prototype.addLabelKeyForLinkData=T.prototype.oC=function(a,b){if(!(b===p||b===f))if(ye(b)||x.kc(b,"number or string",T,"addLabelKeyForLinkData:key"),a!==p){var c=this.uh;if(""!==c){var d=x.$a(a,c);d===f?this.KE(a,[b]):x.isArray(d)?0<=x.Ky(d,b)||(x.Di(d,Infinity,b),this.Gi(a)&&(this.Ke(b)===p&&Ae(this,b,a),we(this,"linkLabelKeys",Ud,c,a,p,b))):x.m(c+" property is not an Array; cannot addLabelKeyForLinkData: "+a)}}};
T.prototype.removeLabelKeyForLinkData=T.prototype.bI=function(a,b){if(!(b===p||b===f))if(ye(b)||x.kc(b,"number or string",T,"removeLabelKeyForLinkData:key"),a!==p){var c=this.uh;if(""!==c){var d=x.$a(a,c);if(x.isArray(d)){var e=x.Ky(d,b);0>e||(x.Ei(d,e),this.Gi(a)&&(Be(this,b,a),we(this,"linkLabelKeys",Vd,c,a,b,p)))}else d!==f&&x.m(c+" property is not an Array; cannot removeLabelKeyforLinkData: "+a)}}};x.g(T,"linkDataArray",T.prototype.Yg);
x.defineProperty(T,{Yg:"linkDataArray"},t("Fk"),function(a){var b=this.Fk;if(b!==a){x.Ur(a,T,"linkDataArray");for(var c=x.Yb(a),d=0;d<c;d++){var e=x.Jb(a,d);if(!x.sb(e)){x.m("GraphLinksModel.linkDataArray must only contain Objects, not: "+e);return}x.ms(e)}this.Fk=a;for(var g=new qa(Object),d=0;d<c;d++)e=x.Jb(a,d),g.add(e);this.gn=g;we(this,"linkDataArray",Td,"linkDataArray",this,b,a);for(d=0;d<c;d++)e=x.Jb(a,d),Ce(this,e)}});
T.prototype.containsLinkData=T.prototype.Gi=function(a){return a===p?q:this.gn.contains(a)};T.prototype.addLinkData=T.prototype.pC=function(a){if(a!==p){if(x.gc(a)===f)x.lc(a);else if(this.Gi(a))return;this.gn.add(a);var b=x.Yb(this.Fk);x.Di(this.Fk,b,a);we(this,"linkDataArray",Ud,"linkDataArray",this,p,a,p,b);Ce(this,a)}};
T.prototype.removeLinkData=T.prototype.cI=function(a){if(a!==p){this.gn.remove(a);var b=this.Fk.indexOf(a);if(!(0>b)){x.Ei(this.Fk,b);we(this,"linkDataArray",Vd,"linkDataArray",this,a,p,b,p);b=this.im(a);Be(this,b,a);b=this.jm(a);Be(this,b,a);for(var c=this.al(a),d=x.Yb(c),e=0;e<d;e++)b=x.Jb(c,e),Be(this,b,a)}}};function Ce(a,b){var c=a.im(b),c=a.rm(c);a.Ke(c)===p&&Ae(a,c,b);c=a.jm(b);c=a.rm(c);a.Ke(c)===p&&Ae(a,c,b);for(var d=a.al(b),e=x.Yb(d),g=0;g<e;g++)c=x.Jb(d,g),a.Ke(c)===p&&Ae(a,c,b)}
x.g(T,"copyLinkDataFunction",T.prototype.xG);x.defineProperty(T,{xG:"copyLinkDataFunction"},t("tt"),function(a){var b=this.tt;b!==a&&(a!==p&&x.k(a,"function",T,"copyLinkDataFunction"),this.tt=a,this.j("copyLinkDataFunction",b,a))});
T.prototype.copyLinkData=T.prototype.LC=function(a){if(a===p)return p;var b=p,b=this.tt;if(b!==p)b=b(a,this);else{var b=new a.constructor,c;for(c in a)x.Pa(b,c,x.$a(a,c))}b&&(x.lc(b),""!==this.nj&&x.Pa(b,this.nj,f),""!==this.pj&&x.Pa(b,this.pj,f),""!==this.uh&&x.Pa(b,this.uh,[]));return b};x.g(T,"nodeIsGroupProperty",T.prototype.Do);x.defineProperty(T,{Do:"nodeIsGroupProperty"},t("qu"),function(a){var b=this.qu;b!==a&&(xe(a,T,"nodeIsGroupProperty"),this.qu=a,this.j("nodeIsGroupProperty",b,a))});
T.prototype.isGroupForNodeData=T.prototype.vz=function(a){if(a===p)return q;var b=this.qu;return""===b?q:x.$a(a,b)?i:q};x.g(T,"nodeGroupKeyProperty",T.prototype.Co);x.defineProperty(T,{Co:"nodeGroupKeyProperty"},t("wj"),function(a){var b=this.wj;b!==a&&(xe(a,T,"nodeGroupKeyProperty"),this.wj=a,this.j("nodeGroupKeyProperty",b,a))});
T.prototype.getGroupKeyForNodeData=T.prototype.ko=function(a){if(a!==p){var b=this.wj;if(""!==b&&(b=x.$a(a,b),b!==f)){if(ye(b))return b;u&&x.trace("GroupKey value for node data "+a+" is not a number or a string: "+b)}}};
T.prototype.setGroupKeyForNodeData=T.prototype.hA=function(a,b){b===p&&(b=f);b!==f&&!ye(b)&&x.kc(b,"number or string",T,"setGroupKeyForNodeData:key");if(a!==p){var c=this.wj;if(""!==c)if(this.se(a)){var d=x.$a(a,c);d!==b&&(Be(this,d,a),x.Pa(a,c,b),this.Ke(b)===p&&Ae(this,b,a),we(this,"nodeGroupKey",Td,c,a,d,b),"string"===typeof c&&this.Bb(a,c))}else x.Pa(a,c,b)}};T.prototype.copyNodeData=T.prototype.Mj=function(a){if(a===p)return p;a=J.prototype.Mj.call(this,a);""!==this.wj&&x.Pa(a,this.wj,f);return a};
T.prototype.setDataProperty=T.prototype.JE=function(a,b,c){u&&(x.k(a,"object",T,"setDataProperty:data"),x.k(b,"string",T,"setDataProperty:propname"),""===b&&x.m("GraphLinksModel.setDataProperty: property name must not be an empty string when setting "+a+" to "+c));if(this.se(a))if(b===this.gl)this.iA(a,c);else{if(b===this.fl){this.cw(a,c);return}if(b===this.Co){this.hA(a,c);return}b===this.Do?x.m("GraphLinksModel.setDataProperty: property name must not be the nodeIsGroupProperty: "+b):b===this.Eo&&
x.m("GraphLinksModel.setDataProperty: property name must not be the nodeIsLinkLabelProperty: "+b)}else if(this.Gi(a)){if(b===this.ro){this.ew(a,c);return}if(b===this.vo){this.fw(a,c);return}if(b===this.so){this.Ps(a,c);return}if(b===this.wo){this.Qs(a,c);return}if(b===this.qo){this.IE(a,c);return}if(b===this.to){this.KE(a,c);return}}var d=x.$a(a,b);d!==c&&(x.Pa(a,b,c),this.Tz(a,b,d,c))};da=T.prototype;
da.Ks=function(a,b){J.prototype.Ks.call(this,a,b);for(var c=this.nc.l;c.next();)this.Yz(c.value,a,b);for(c=this.gn.l;c.next();){var d=c.value,e=a,g=b;if(this.im(d)===e){var h=this.nj;x.Pa(d,h,g);we(this,"linkFromKey",Td,h,d,e,g);"string"===typeof h&&this.Bb(d,h)}this.jm(d)===e&&(h=this.pj,x.Pa(d,h,g),we(this,"linkToKey",Td,h,d,e,g),"string"===typeof h&&this.Bb(d,h));for(var j=this.al(d),k=x.Yb(j),h=this.uh,l=0;l<k;l++)x.Jb(j,l)===e&&(x.wC(j,l,g),we(this,"linkLabelKeys",Ud,h,d,e,g))}};
da.Yz=function(a,b,c){if(this.ko(a)===b){var d=this.wj;x.Pa(a,d,c);we(this,"nodeGroupKey",Td,d,a,b,c);"string"===typeof d&&this.Bb(a,d)}};da.uA=function(){J.prototype.uA.call(this);for(var a=this.Yg,b=x.Yb(a),c=0;c<b;c++)Ce(this,x.Jb(a,c))};
da.Jo=function(a){J.prototype.Jo.call(this,a);var a=this.rb(a),b=ze(this,a);if(b!==p){for(var c=new H(Object),b=b.l;b.next();){var d=b.value;if(this.se(d)){if(this.ko(d)===a){var e=this.wj;we(this,"nodeGroupKey",Td,e,d,a,a);"string"===typeof e&&this.Bb(d,e);c.add(d)}}else{this.im(d)===a&&(e=this.nj,we(this,"linkFromKey",Td,e,d,a,a),"string"===typeof e&&this.Bb(d,e),c.add(d));this.jm(d)===a&&(e=this.pj,we(this,"linkToKey",Td,e,d,a,a),"string"===typeof e&&this.Bb(d,e),c.add(d));for(var g=this.al(d),
h=x.Yb(g),e=this.uh,j=0;j<h;j++)x.Jb(g,j)===a&&(we(this,"linkLabelKeys",Ud,e,d,a,a),c.add(d))}}for(c=c.l;c.next();)Be(this,a,c.value)}};da.Io=function(a){J.prototype.Io.call(this,a);var b=this.ko(a);this.Ke(b)===p&&Ae(this,b,a)};da.Ys=function(a){J.prototype.Ys.call(this,a);var b=this.ko(a);Be(this,b,a)};x.g(T,"linkCategoryProperty",T.prototype.qo);
x.defineProperty(T,{qo:"linkCategoryProperty"},t("nq"),function(a){var b=this.nq;b!==a&&(xe(a,T,"linkCategoryProperty"),this.nq=a,this.j("linkCategoryProperty",b,a))});T.prototype.getCategoryForLinkData=T.prototype.oD=function(a){if(a===p)return"";var b=this.nq;if(""===b)return"";b=x.$a(a,b);if(b===f)return"";if("string"===typeof b)return b;u&&x.trace("getCategoryForLinkData found a non-string category for "+a+": "+b);return b};
T.prototype.setCategoryForLinkData=T.prototype.IE=function(a,b){x.k(b,"string",T,"setCategoryForLinkData:cat");if(a!==p){var c=this.nq;if(""===c)return"";if(this.Gi(a)){var d=x.$a(a,c);d===f&&(d="");d!==b&&(x.Pa(a,c,b),we(this,"linkCategory",Td,c,a,d,b),"string"===typeof c&&this.Bb(a,c))}else x.Pa(a,c,b)}};function $d(a){J.call(this);this.xj="parent";this.Mq="parentLinkCategory";a!==f&&(this.mg=a)}x.S("TreeModel",$d);x.Ja($d,J);
$d.prototype.toString=function(a){a===f&&(a=0);if(2<=a)return this.pA();var b=(""!==this.name?this.name:"")+" TreeModel";if(0<a){var b=b+"\n node data:",a=this.mg,c=x.Yb(a),d;for(d=0;d<c;d++)var e=x.Jb(a,d),b=b+(" "+this.rb(e)+":"+Wd(e))}return b};$d.prototype.writeJsonProtected=$d.prototype.ow=function(){var a=J.prototype.ow.call(this),b="";"parent"!==this.Fo&&"string"===typeof this.Fo&&(b+=',\n  "nodeParentKeyProperty": '+this.quote(this.Fo));return a+b};
$d.prototype.readJsonProtected=$d.prototype.Yv=function(a){J.prototype.Yv.call(this,a);a.nodeParentKeyProperty&&(this.Fo=a.nodeParentKeyProperty)};$d.prototype.rm=function(a){return a};x.g($d,"nodeParentKeyProperty",$d.prototype.Fo);x.defineProperty($d,{Fo:"nodeParentKeyProperty"},t("xj"),function(a){var b=this.xj;b!==a&&(xe(a,$d,"nodeParentKeyProperty"),this.xj=a,this.j("nodeParentKeyProperty",b,a))});
$d.prototype.getParentKeyForNodeData=$d.prototype.lo=function(a){if(a!==p){var b=this.xj;if(""!==b&&(b=x.$a(a,b),b!==f)){if(ye(b))return b;u&&x.trace("ParentKey value for node data "+a+" is not a number or a string: "+b)}}};
$d.prototype.setParentKeyForNodeData=$d.prototype.Ff=function(a,b){b===p&&(b=f);b!==f&&!ye(b)&&x.kc(b,"number or string",$d,"setParentKeyForNodeData:key");if(a!==p){var c=this.xj;if(""!==c)if(b=this.rm(b),this.se(a)){var d=x.$a(a,c);d!==b&&(Be(this,d,a),x.Pa(a,c,b),this.Ke(b)===p&&Ae(this,b,a),we(this,"nodeParentKey",Td,c,a,d,b),"string"===typeof c&&this.Bb(a,c))}else x.Pa(a,c,b)}};x.g($d,"parentLinkCategoryProperty",$d.prototype.UH);
x.defineProperty($d,{UH:"parentLinkCategoryProperty"},t("Mq"),function(a){var b=this.Mq;b!==a&&(xe(a,$d,"parentLinkCategoryProperty"),this.Mq=a,this.j("parentLinkCategoryProperty",b,a))});$d.prototype.getParentLinkCategoryForNodeData=$d.prototype.aH=function(a){if(a===p)return"";var b=this.Mq;if(""===b)return"";b=x.$a(a,b);if(b===f)return"";if("string"===typeof b)return b;u&&x.trace("getParentLinkCategoryForNodeData found a non-string category for "+a+": "+b);return b};
$d.prototype.setParentLinkCategoryForNodeData=$d.prototype.nI=function(a,b){x.k(b,"string",$d,"setParentLinkCategoryForNodeData:cat");if(a!==p){var c=this.Mq;if(""===c)return"";if(this.se(a)){var d=x.$a(a,c);d===f&&(d="");d!==b&&(x.Pa(a,c,b),we(this,"parentLinkCategory",Td,c,a,d,b),"string"===typeof c&&this.Bb(a,c))}else x.Pa(a,c,b)}};$d.prototype.copyNodeData=$d.prototype.Mj=function(a){if(a===p)return p;a=J.prototype.Mj.call(this,a);""!==this.xj&&x.Pa(a,this.xj,f);return a};
$d.prototype.setDataProperty=$d.prototype.JE=function(a,b,c){u&&(x.k(a,"object",J,"setDataProperty:data"),x.k(b,"string",J,"setDataProperty:propname"),""===b&&x.m("Model.setDataProperty: property name must not be an empty string when setting "+a+" to "+c));if(this.se(a))if(b===this.gl)this.iA(a,c);else{if(b===this.fl){this.cw(a,c);return}if(b===this.Fo){this.Ff(a,c);return}}var d=x.$a(a,b);d!==c&&(x.Pa(a,b,c),this.Tz(a,b,d,c))};da=$d.prototype;
da.Ks=function(a,b){J.prototype.Ks.call(this,a,b);for(var c=this.nc.l;c.next();)this.Yz(c.value,a,b)};da.Yz=function(a,b,c){if(this.lo(a)===b){var d=this.xj;x.Pa(a,d,c);we(this,"nodeParentKey",Td,d,a,b,c);"string"===typeof d&&this.Bb(a,d)}};
da.Jo=function(a){J.prototype.Jo.call(this,a);var a=this.rb(a),b=ze(this,a);if(b!==p){for(var c=new H(Object),b=b.l;b.next();){var d=b.value;if(this.se(d)&&this.lo(d)===a){var e=this.xj;we(this,"nodeParentKey",Td,e,d,a,a);"string"===typeof e&&this.Bb(d,e);c.add(d)}}for(c=c.l;c.next();)Be(this,a,c.value)}};da.Io=function(a){J.prototype.Io.call(this,a);var b=this.lo(a),b=this.rm(b);this.Ke(b)===p&&Ae(this,b,a)};da.Ys=function(a){J.prototype.Ys.call(this,a);var b=this.lo(a);Be(this,b,a)};
function De(a,b,c){x.lc(this);a===f?a="":x.k(a,"string",De,"constructor:targetprop");b===f?b=a:x.k(b,"string",De,"constructor:sourceprop");c===f?c=p:c!==p&&x.k(c,"function",De,"constructor:conv");this.$B="";this.Yf=p;this.Wu=a;this.Uu=this.my=0;this.SB=p;this.Ou=b;this.Vw=c;this.Ix=Ee;this.Rw=p}x.S("Binding",De);var Ee;De.OneWay=Ee=x.s(De,"OneWay",1);var Fe;De.TwoWay=Fe=x.s(De,"TwoWay",2);
De.parseEnum=function(a,b){x.k(a,"function",De,"parseEnum:ctor");x.pb(b,a,De,"parseEnum:defval");return function(c){return x.fm(a,c)||b}};var Wd;De.toString=Wd=function(a){var b=a;x.sb(a)&&(a.text?b=a.text:a.Text?b=a.Text:a.name?b=a.name:a.Name?b=a.Name:a.key!==f?b=a.key:a.Key!==f?b=a.Key:a.id!==f?b=a.id:a.Id!==f?b=a.Id:a.ID!==f&&(b=a.ID));return b===f?"undefined":b===p?"null":b.toString()};De.prototype.toString=function(){return"Binding("+this.ym+" "+this.mA+":"+this.kA+")"};
De.prototype.freeze=function(){this.fb=i;return this};De.prototype.Oa=function(){this.fb=q;return this};x.g(De,"targetId",De.prototype.ym);x.defineProperty(De,{ym:p},t("$B"),function(a){x.C(this);x.k(a,"string",De,"targetId");this.$B=a});x.g(De,"targetProperty",De.prototype.mA);x.defineProperty(De,{mA:"targetProperty"},t("Wu"),function(a){x.C(this);x.k(a,"string",De,"targetProperty");this.Wu=a});x.g(De,"sourceName",De.prototype.Po);
x.defineProperty(De,{Po:"sourceName"},t("SB"),function(a){x.C(this);x.k(a,"string",De,"sourceName");this.SB=a});x.g(De,"sourceProperty",De.prototype.kA);x.defineProperty(De,{kA:"sourceProperty"},t("Ou"),function(a){x.C(this);x.k(a,"string",De,"sourceProperty");this.Ou=a});x.g(De,"converter",De.prototype.IC);x.defineProperty(De,{IC:"converter"},t("Vw"),function(a){x.C(this);a!==p&&x.k(a,"function",De,"converter");this.Vw=a});x.g(De,"backConverter",De.prototype.BC);
x.defineProperty(De,{BC:"backConverter"},t("Rw"),function(a){x.C(this);a!==p&&x.k(a,"function",De,"backConverter");this.Rw=a});x.g(De,"mode",De.prototype.mode);x.defineProperty(De,{mode:"mode"},t("Ix"),function(a){x.C(this);x.pb(a,De,De,"mode");this.Ix=a});De.prototype.makeTwoWay=De.prototype.zL=function(a){a===f&&(a=p);this.mode=Fe;this.BC=a;return this};De.prototype.ofObject=De.prototype.Qz=function(a){a===f&&(a="");u&&x.k(a,"string",De,"ofObject:srcname");this.Po=a;return this};
De.prototype.updateTarget=De.prototype.fF=function(a,b,c){var d=this.Ou;if(!(c&&d!==c)){var c=this.Wu,e=this.Vw;if(!(e===p&&""===c)){u&&("string"===typeof c&&"function"!==typeof a.setAttribute&&!x.rz(a,c))&&x.trace("Binding error: undefined target property: "+c+" on "+a.toString());var g=b;""!==d&&(g=x.$a(b,d));if(g!==f)if(e===p)""!==c&&x.Pa(a,c,g);else try{if(""!==c){var h=e(g,a);x.Pa(a,c,h)}else e(g,a)}catch(j){u&&x.trace("Binding error: "+j.toString())}}}};
De.prototype.updateSource=De.prototype.eF=function(a,b,c){if(this.Ix===Fe){var d=this.Wu;if(!(c&&d!==c)){var c=this.Ou,e=this.Rw;if(!(e===p&&""===c)){var g=a;""!==d&&(g=x.$a(a,d));if(g!==f)if(e===p)x.Pa(b,c,g);else try{if(""!==c){var h=e(g,b);x.Pa(b,c,h)}else e(g,b)}catch(j){u&&x.trace("Binding error: "+j.toString())}}}}};function Ge(){this.pF=(new H(Dd)).freeze();this.Gb="";this.pB=q}x.S("Transaction",Ge);
Ge.prototype.toString=function(a){var b="Transaction: "+this.name+" "+this.Gh.count.toString()+(this.mo?"":", incomplete");if(a!==f&&0<a)for(var c=this.Gh.count,d=0;d<c;d++){var e=this.Gh.ia(d);e!==p&&(b+="\n  "+e.toString(a-1))}return b};Ge.prototype.clear=Ge.prototype.clear=function(){var a=this.Gh;a.Oa();for(var b=a.count-1;0<=b;b--){var c=a.ia(b);c!==p&&c.clear()}a.clear();a.freeze()};Ge.prototype.canUndo=Ge.prototype.Uk=t("mo");
Ge.prototype.undo=Ge.prototype.ml=function(){if(this.Uk())for(var a=this.Gh.count-1;0<=a;a--){var b=this.Gh.ia(a);b!==p&&b.ml()}};Ge.prototype.canRedo=Ge.prototype.Sk=t("mo");Ge.prototype.redo=Ge.prototype.Go=function(){if(this.Sk())for(var a=this.Gh.count,b=0;b<a;b++){var c=this.Gh.ia(b);c!==p&&c.Go()}};x.u(Ge,{Gh:"changes"},t("pF"));x.g(Ge,"name",Ge.prototype.name);x.defineProperty(Ge,{name:"name"},t("Gb"),ba("Gb"));x.g(Ge,"isComplete",Ge.prototype.mo);
x.defineProperty(Ge,{mo:"isComplete"},t("pB"),ba("pB"));function Xd(){this.Jx=new qa(J);this.hi=q;this.sF=(new H(Ge)).freeze();this.yk=-1;this.yB=999;this.ii=q;this.yt=p;this.Ok=0;this.Sw=q;u&&(this.Sw=i);this.Ng=(new H("string")).freeze();this.kn=new H("number");this.mx=i}x.S("UndoManager",Xd);
Xd.prototype.toString=function(a){for(var b="UndoManager "+this.Uj+"<"+this.history.count+"<="+this.Gz,b=b+"[",c=this.gE.count,d=0;d<c;d++)0<d&&(b+=" "),b+=this.gE.ia(d);b+="]";if(a!==f&&0<a){c=this.history.count;for(d=0;d<c;d++)b+="\n "+this.history.ia(d).toString(a-1)}return b};
Xd.prototype.clear=Xd.prototype.clear=function(){var a=this.history;a.Oa();for(var b=a.count-1;0<=b;b--){var c=a.ia(b);c!==p&&c.clear()}a.clear();this.yk=-1;a.freeze();this.ii=q;this.yt=p;this.Ok=0;this.Ng.Oa();this.Ng.clear();this.Ng.freeze();this.kn.clear()};Xd.prototype.addModel=Xd.prototype.SF=function(a){this.Jx.add(a)};Xd.prototype.removeModel=Xd.prototype.dI=function(a){this.Jx.remove(a)};
Xd.prototype.startTransaction=Xd.prototype.jc=function(a){a===p&&(a="");if(this.zb)return q;this.mx===i&&(this.mx=q,this.Ok++,this.Xd("StartingFirstTransaction",a,this.$l),0<this.Ok&&this.Ok--);this.isEnabled&&(this.Ng.Oa(),this.Ng.add(a),this.Ng.freeze(),this.$l===p?this.kn.add(0):this.kn.add(this.$l.Gh.count));this.Ok++;var b=1===this.ll;b&&this.Xd("StartedTransaction",a);return b};Xd.prototype.commitTransaction=Xd.prototype.qe=function(a){return He(this,i,a)};
Xd.prototype.rollbackTransaction=Xd.prototype.Ls=function(){return He(this,q,"")};
function He(a,b,c){if(a.zb)return q;a.Py&&1>a.ll&&x.trace("Ending transaction without having started a transaction: "+c);var d=1===a.ll;d&&(b&&a.isEnabled)&&a.Xd("CommittingTransaction",c,a.$l);var e=0;if(0<a.ll&&(a.Ok--,a.isEnabled)){var g=a.Ng.count;0<g&&(""===c&&(c=a.Ng.ia(0)),a.Ng.Oa(),a.Ng.Ve(g-1),a.Ng.freeze());g=a.kn.count;0<g&&(e=a.kn.ia(g-1),a.kn.Ve(g-1))}g=a.$l;if(d){if(b){if(a.isEnabled&&g!==p){b=g;b.mo=i;b.name=c;d=a.history;d.Oa();for(e=d.count-1;e>a.Uj;e--)g=d.ia(e),g!==p&&g.clear(),
d.Ve(e);e=a.Gz;0===e&&(e=1);0<e&&d.count>=e&&(g=d.ia(0),g!==p&&g.clear(),d.Ve(0),a.yk--);d.add(b);a.yk++;d.freeze();g=b}a.Xd("CommittedTransaction",c,g)}else{a.ii=i;try{a.isEnabled&&g!==p&&(g.mo=i,g.ml())}finally{a.Xd("RolledBackTransaction",c,g),a.ii=q}g!==p&&g.clear()}a.yt=p;return i}if(a.isEnabled&&!b&&g!==p){a=e;c=g.Gh;for(b=c.count-1;b>=a;b--)d=c.ia(b),d!==p&&d.ml(),c.Oa(),c.Ve(b);c.freeze()}return q}
Xd.prototype.canUndo=Xd.prototype.Uk=function(){if(!this.isEnabled||0<this.ll||this.zb)return q;var a=this.$E;return a!==p&&a.Uk()?i:q};Xd.prototype.undo=Xd.prototype.ml=function(){if(this.Uk()){var a=this.$E;try{this.Xd("StartingUndo","Undo",a),this.ii=i,this.yk--,a.ml()}catch(b){x.trace("undo error: "+b.toString())}finally{this.ii=q,this.Xd("FinishedUndo","Undo",a)}}};
Xd.prototype.canRedo=Xd.prototype.Sk=function(){if(!this.isEnabled||0<this.ll||this.zb)return q;var a=this.ZE;return a!==p&&a.Sk()?i:q};Xd.prototype.redo=Xd.prototype.Go=function(){if(this.Sk()){var a=this.ZE;try{this.Xd("StartingRedo","Redo",a),this.ii=i,this.yk++,a.Go()}catch(b){x.trace("redo error: "+b.toString())}finally{this.ii=q,this.Xd("FinishedRedo","Redo",a)}}};
Xd.prototype.Xd=function(a,b,c){c===f&&(c=p);var d=new Dd;d.pd=Gd;d.propertyName=a;d.object=c;d.oldValue=b;for(a=this.HH;a.next();)b=a.value,d.da=b,b.jv(d)};Xd.prototype.handleChanged=Xd.prototype.wD=function(a){if(this.isEnabled&&!this.zb&&!this.skipsEvent(a)){var b=this.$l;b===p&&(this.yt=b=new Ge);var c=a.copy(),b=b.Gh;b.Oa();b.add(c);b.freeze();this.Py&&(0>=this.ll&&!this.mx)&&(a=a.h,a!==p&&a.Gg===q||x.trace("Change not within a transaction: "+c.toString()))}};
Xd.prototype.skipsEvent=Xd.prototype.lM=function(a){if(a===p||0>a.pd.value)return i;a=a.object;if(a instanceof U){if(a=a.Ka,a!==p&&a.Cc)return i}else if(a instanceof Ie&&a.Cc)return i;return q};x.u(Xd,{HH:"models"},function(){return this.Jx.l});x.g(Xd,"isEnabled",Xd.prototype.isEnabled);x.defineProperty(Xd,{isEnabled:"isEnabled"},t("hi"),ba("hi"));x.u(Xd,{$E:"transactionToUndo"},function(){return 0<=this.Uj&&this.Uj<=this.history.count-1?this.history.ia(this.Uj):p});
x.u(Xd,{ZE:"transactionToRedo"},function(){return this.Uj<this.history.count-1?this.history.ia(this.Uj+1):p});x.u(Xd,{zb:"isUndoingRedoing"},t("ii"));x.u(Xd,{history:"history"},t("sF"));x.g(Xd,"maxHistoryLength",Xd.prototype.Gz);x.defineProperty(Xd,{Gz:"maxHistoryLength"},t("yB"),ba("yB"));x.u(Xd,{Uj:"historyIndex"},t("yk"));x.u(Xd,{$l:"currentTransaction"},t("yt"));x.u(Xd,{ll:"transactionLevel"},t("Ok"));x.u(Xd,{nH:"isInTransaction"},function(){return 0<this.Ok});
x.defineProperty(Xd,{Py:"checksTransactionLevel"},t("Sw"),ba("Sw"));x.u(Xd,{gE:"nestedTransactionNames"},t("Ng"));function wa(){this.ca=p;this.ZA=this.RA=q;this.Hk=this.JA=p;this.iC=1.05;this.Dx=NaN;this.tB=p;this.jC=NaN;this.MF=p}x.S("CommandHandler",wa);var Ue=p,Ve="";wa.prototype.toString=ca("CommandHandler");x.u(wa,{h:"diagram"},t("ca"));wa.prototype.Ef=function(a){u&&a!==p&&x.i(a,w,wa,"setDiagram");this.ca=a};
wa.prototype.doKeyDown=wa.prototype.dz=function(){var a=this.h;if(a!==p){var b=a.P,c=b.Wk,d=b.shift,e=b.alt,g=b.key;c&&("C"===g||"Insert"===g)?this.canCopySelection()&&this.copySelection():c&&"X"===g||d&&"Del"===g?this.canCutSelection()&&this.cutSelection():"Del"===g?this.canDeleteSelection()&&this.deleteSelection():c&&"V"===g||d&&"Insert"===g?this.canPasteSelection()&&this.pasteSelection():c&&"Y"===g||e&&d&&"Backspace"===g?this.canRedo()&&this.redo():c&&"Z"===g||e&&"Backspace"===g?this.canUndo()&&
this.undo():c&&"A"===g?this.canSelectAll()&&this.selectAll():"Esc"===g?this.canStopCommand()&&this.stopCommand():"Up"===g?a.vf&&(c?a.scroll("pixel","up"):a.scroll("line","up")):"Down"===g?a.vf&&(c?a.scroll("pixel","down"):a.scroll("line","down")):"Left"===g?a.uf&&(c?a.scroll("pixel","left"):a.scroll("line","left")):"Right"===g?a.uf&&(c?a.scroll("pixel","right"):a.scroll("line","right")):"PageUp"===g?d&&a.uf?a.scroll("page","left"):a.vf&&a.scroll("page","up"):"PageDown"===g?d&&a.uf?a.scroll("page",
"right"):a.vf&&a.scroll("page","down"):"Home"===g?(b=a.pc,c&&a.vf?a.position=new K(a.position.x,b.y):!c&&a.uf&&(a.position=new K(b.x,a.position.y))):"End"===g?(b=a.pc,d=a.Ya,c&&a.vf?a.position=new K(d.x,b.bottom-d.height):!c&&a.uf&&(a.position=new K(b.right-d.width,d.y))):"Subtract"===g?this.canDecreaseZoom()&&this.decreaseZoom():"Add"===g?this.canIncreaseZoom()&&this.increaseZoom():c&&"0"===g?this.canResetZoom()&&this.resetZoom():d&&"Z"===g?this.canZoomToFit()&&this.zoomToFit():c&&!d&&"G"===g?this.canGroupSelection()&&
this.groupSelection():c&&d&&"G"===g?this.canUngroupSelection()&&this.ungroupSelection():b.event&&113===b.event.which?this.canEditTextBlock()&&this.editTextBlock():b.bubbles=i}};wa.prototype.doKeyUp=wa.prototype.ez=function(){var a=this.h;a!==p&&(a.P.bubbles=i)};wa.prototype.stopCommand=wa.prototype.sM=function(){var a=this.h;if(a!==p){var b=a.Ma;b instanceof We&&a.me&&a.Ry();b!==p&&b.doCancel()}};wa.prototype.canStopCommand=wa.prototype.AJ=ca(i);
wa.prototype.selectAll=wa.prototype.fM=function(){var a=this.h;if(a!==p)try{a.zc="wait";a.Ea("ChangingSelection");for(var b=a.Ui;b.next();)b.value.Va=i;for(b=a.hl;b.next();)b.value.Va=i;for(b=a.links;b.next();)b.value.Va=i}finally{a.Ea("ChangedSelection"),a.zc=""}};wa.prototype.canSelectAll=wa.prototype.zJ=function(){var a=this.h;return a!==p&&a.me};
wa.prototype.deleteSelection=wa.prototype.dK=function(){var a=this.h;if(a!==p&&!a.Ea("SelectionDeleting",a.selection))try{a.zc="wait";a.jc("Delete");a.Ea("ChangingSelection");for(var b=new qa(z),c=a.selection.l;c.next();)Xe(b,c.value,i,this.YC,function(a){return a.canDelete()});a.Xz(b,i);a.Ea("SelectionDeleted",b)}finally{a.Ea("ChangedSelection"),a.qe("Delete"),a.zc=""}};
wa.prototype.canDeleteSelection=wa.prototype.iJ=function(){var a=this.h;return a===p||(a.hb||a.we)||!a.Qk||0===a.selection.count?q:i};
function Xe(a,b,c,d,e){if(!a.contains(b)&&(e===f&&(e=p),(e===p||e(b))&&!(b instanceof Ye)))if(a.add(b),b instanceof A){if(c&&b instanceof B)for(var g=b.Ic;g.next();){var h=g.value;Xe(a,h,c,d,e)}for(h=b.Rd;h.next();)if(g=h.value,!a.contains(g)){var j=g.ja,k=g.na;j!==p&&a.contains(j)&&k!==p&&a.contains(k)?Xe(a,g,c,d,e):(j===p||k===p)&&Xe(a,g,c,d,e)}if(d){h=i;g=b.h;g!==p&&(h=g.rd);for(b=h?b.hD():b.gD();b.next();)h=b.value,Xe(a,h,c,d,e)}}else if(b instanceof F)for(h=b.Si;h.next();)Xe(a,h.value,c,d,e)}
wa.prototype.copyParts=wa.prototype.Zn=function(a,b,c){for(var d=new pa(z,z),a=a.l;a.next();){var e=a.value;Ze(this,e,b,d,c)}if(b!==p){for(var c=b.da,a=new qa(F),g=new pa(F,F),h=d.l;h.next();)if(e=h.value,e instanceof F)(e.ja===p||e.na===p)&&a.add(e);else if(c instanceof $d&&e instanceof A&&e.data!==p){var j=e,e=h.key,k=e.jD();k!==p&&((k=d.va(k))?(c.Ff(j.data,c.rb(k.data)),j=b.Af(j.data),e=e.Gv(),e!==p&&j!==p&&g.add(e,j)):c.Ff(j.data,f))}0<a.count&&b.Xz(a,q);if(0<g.count)for(b=g.l;b.next();)d.add(b.key,
b.value)}for(b=d.l;b.next();)b.value.Bb();return d};
function Ze(a,b,c,d,e){if(b===p||e&&!b.canCopy())return p;if(d.contains(b))return a=d.va(b),a instanceof z?a:p;var g=p,h=b.data;if(h!==p&&c!==p){var j=c.da;b instanceof F?j instanceof T&&(h=j.LC(h),x.sb(h)&&(j.pC(h),g=c.Af(h))):(h=j.Mj(h),x.sb(h)&&(j.Mr(h),g=c.Tj(h)))}else $e(b),g=b.copy(),c!==p&&g instanceof z&&c.add(g);if(!(g instanceof z))return p;g.Va=q;d.add(b,g);if(b instanceof A){for(j=b.Rd;j.next();){h=j.value;if(h.ja===b){var k=d.va(h);k!==p&&(k.ja=g)}h.na===b&&(k=d.va(h),k!==p&&(k.na=g))}if(b instanceof
B&&g instanceof B)for(b=b.Ic;b.next();)j=Ze(a,b.value,c,d,e),!(j instanceof F)&&j!==p&&(j.Za=g)}else if(b instanceof F){j=b.ja;j!==p&&(j=d.va(j),j!==p&&(g.ja=j));j=b.na;j!==p&&(j=d.va(j),j!==p&&(g.na=j));for(b=b.Si;b.next();)j=Ze(a,b.value,c,d,e),j!==p&&(j.ad=g)}return g}wa.prototype.copySelection=wa.prototype.VJ=function(){var a=this.h;if(a!==p){for(var b=new qa(z),a=a.selection.l;a.next();)Xe(b,a.value,i,this.KC,function(a){return a.canCopy()});this.copyToClipboard(b)}};
wa.prototype.canCopySelection=wa.prototype.eJ=function(){var a=this.h;return a===p||(!a.Gj||!a.gv)||0===a.selection.count?q:i};wa.prototype.cutSelection=wa.prototype.ZJ=function(){this.copySelection();this.deleteSelection()};wa.prototype.canCutSelection=wa.prototype.fJ=function(){var a=this.h;return a===p||(a.hb||a.we)||(!a.Gj||!a.Qk||!a.gv)||0===a.selection.count?q:i};
wa.prototype.copyToClipboard=wa.prototype.WJ=function(a){var b=this.h;if(b!==p){var c=p;a===p?(Ue=p,Ve=""):(a=b.Zn(a,p,i),c=new H(z),c.cg(a),Ue=c,Ve=b.da.am);b.Ea("ClipboardChanged",c)}};wa.prototype.pasteFromClipboard=wa.prototype.PL=function(){var a=Ue;if(a===p)return x.If;var b=this.h;if(b===p||Ve!==b.da.am)return x.If;b=b.Zn(a,b,q);a=new qa(z);for(b=b.l;b.next();){var c=b.value;c.location.R()||(c.location=b.key.location.copy());c.position.R()||(c.position=b.key.position.copy());a.add(c)}return a};
wa.prototype.pasteSelection=wa.prototype.QL=function(a){var b=this.h;if(b!==p)try{b.zc="wait";b.jc("Paste");b.Ea("ChangingSelection");var c=this.pasteFromClipboard();0<c.count&&af(b);for(var d=c.l;d.next();)d.value.Va=i;b.Ea("ChangedSelection");if(a instanceof K){var e=b.computePartsBounds(b.selection);if(e){var g=b.Xb.ue,h=g.computeEffectiveCollection(b.selection);g.moveParts(h,new K(a.x-e.ua,a.y-e.Da),q)}}b.Ea("ClipboardPasted",c)}finally{b.qe("Paste"),b.zc=""}};
wa.prototype.canPasteSelection=wa.prototype.rJ=function(){var a=this.h;return a===p||(a.hb||a.we)||(!a.On||!a.gv)||Ue===p||Ve!==a.da.am?q:i};wa.prototype.undo=wa.prototype.ml=function(){var a=this.h;a!==p&&a.wa.ml()};wa.prototype.canUndo=wa.prototype.Uk=function(){var a=this.h;return a===p||a.hb||a.we?q:a.Iy&&a.wa.Uk()};wa.prototype.redo=wa.prototype.Go=function(){var a=this.h;a!==p&&a.wa.Go()};wa.prototype.canRedo=wa.prototype.Sk=function(){var a=this.h;return a===p||a.hb||a.we?q:a.Iy&&a.wa.Sk()};
wa.prototype.decreaseZoom=wa.prototype.$J=function(a){a===f&&(a=1/this.$s);var b=this.h;b!==p&&(a*=b.scale,a<b.Wj||a>b.Oh||(b.scale=a,b.Eb()))};wa.prototype.canDecreaseZoom=wa.prototype.gJ=function(a){a===f&&(a=1/this.$s);var b=this.h;if(b===p)return q;a*=b.scale;return a<b.Wj||a>b.Oh?q:b.Un};wa.prototype.increaseZoom=wa.prototype.cL=function(a){a===f&&(a=this.$s);var b=this.h;b!==p&&(a*=b.scale,a<b.Wj||a>b.Oh||(b.scale=a,b.Eb()))};
wa.prototype.canIncreaseZoom=wa.prototype.pJ=function(a){a===f&&(a=this.$s);var b=this.h;if(b===p)return q;a*=b.scale;return a<b.Wj||a>b.Oh?q:b.Un};wa.prototype.resetZoom=wa.prototype.aM=function(a){a===f&&(a=1);var b=this.h;if(b!==p&&!(a<b.Wj||a>b.Oh))b.scale=a,b.Eb()};wa.prototype.canResetZoom=wa.prototype.vJ=function(a){a===f&&(a=1);var b=this.h;return b===p||a<b.Wj||a>b.Oh?q:b.Un};
wa.prototype.zoomToFit=wa.prototype.jF=function(){var a=this.h;if(a!==p){var b=a.scale,c=a.position;b===this.jC&&!isNaN(this.Dx)?(a.scale=this.Dx,a.position=this.tB,a.Eb()):(this.Dx=b,this.tB=c.copy(),a.jF(),a.Zg(),this.jC=a.scale,this.MF=a.position.copy())}};wa.prototype.canZoomToFit=wa.prototype.DJ=function(){var a=this.h;return a===p?q:a.Un};
wa.prototype.collapseTree=wa.prototype.nv=function(a){a===f&&(a=p);var b=this.h;if(b===p)return q;b.jc("Collapse Tree");var c=new H(A);if(a instanceof A&&a.Qe)a.nv(),c.add(a);else for(a=b.selection.l;a.next();){var d=a.value;d instanceof A&&d.Qe&&(d.nv(),c.add(d))}b.Ea("TreeCollapsed",c);b.qe("Collapse Tree")};
wa.prototype.canCollapseTree=wa.prototype.cJ=function(a){a===f&&(a=p);var b=this.h;if(b===p||b.hb)return q;if(a instanceof A){if(!a.Qe)return q;if(0<a.Fv().count)return i}else for(a=b.selection.l;a.next();)if(b=a.value,b instanceof A&&b.Qe&&0<b.Fv().count)return i;return q};
wa.prototype.expandTree=wa.prototype.Bv=function(a){a===f&&(a=p);var b=this.h;if(b===p)return q;b.jc("Expand Tree");var c=new H(A);if(a instanceof A&&!a.Qe)a.Bv(),c.add(a);else for(a=b.selection.l;a.next();){var d=a.value;d instanceof A&&!d.Qe&&(d.Bv(),c.add(d))}b.Ea("TreeExpanded",c);b.qe("Expand Tree")};
wa.prototype.canExpandTree=wa.prototype.mJ=function(a){a===f&&(a=p);var b=this.h;if(b===p||b.hb)return q;if(a instanceof A){if(a.Qe)return q;if(0<a.Fv().count)return i}else for(a=b.selection.l;a.next();)if(b=a.value,b instanceof A&&!b.Qe&&0<b.Fv().count)return i;return q};
wa.prototype.groupSelection=wa.prototype.WK=function(){var a=this.h;if(a!==p){var b=a.da;if(b!==p&&b instanceof T){var c=this.Jy;if(c!==p)try{a.zc="wait";a.jc("Group");a.Ea("ChangingSelection");for(var d=new H(z),e=a.selection.l;e.next();){var g=e.value;g.ee()&&g.canGroup()&&d.add(g)}for(var h=new H(z),j=d.l;j.next();){for(var k=j.value,g=q,e=d.l;e.next();)if(k.ss(e.value)){g=i;break}g||h.add(k)}if(0<h.count){e=h.l;e.next();var l=e.value.Za;if(l!==p)for(;l!==p;){e=h.l;e.next();for(d=q;e.next();)if(k=
e.value,!k.ss(l)){d=i;break}if(d)l=l.Za;else break}var m=p;if(c instanceof B)$e(c),m=c.copy(),m instanceof B&&a.add(m);else if(b.vz(c)){var n=b.Mj(c);x.sb(n)&&(b.Mr(n),m=a.cs(n))}if(m instanceof B){l!==p&&this.isValidMember(l,m)&&(m.Za=l);for(e=h.l;e.next();)k=e.value,this.isValidMember(m,k)&&(k.Za=m);a.select(m)}}a.Ea("ChangedSelection");a.Ea("SelectionGrouped",m)}finally{a.qe("Group"),a.zc=""}}}};
wa.prototype.canGroupSelection=wa.prototype.oJ=function(){var a=this.h;if(a===p||a.hb||a.we||!a.On||!a.Nn)return q;var b=a.da;if(b===p||!(b instanceof T)||this.Jy===p)return q;for(a=a.selection.l;a.next();)if(b=a.value,b.ee()&&b.canGroup())return i;return q};wa.prototype.findUnnestedNodes=wa.prototype.JK=function(a){for(var b=[],a=a.l;a.next();){var c=a.value;c instanceof F||b.push(c)}for(var a=new qa(z),c=b.length,d=0;d<c;d++){for(var e=b[d],g=i,h=0;h<c;h++)if(e.ss(b[h])){g=q;break}g&&a.add(e)}return a};
wa.prototype.isValidMember=wa.prototype.rH=function(a,b){if(b===p||a===b||b instanceof F)return q;if(a!==p){if(a===b||a.ss(b))return q;var c=a.zs;if(c!==p&&!c(a,b)||a.data===p&&b.data!==p||a.data!==p&&b.data===p)return q}c=this.zs;return c!==p?c(a,b):i};
wa.prototype.ungroupSelection=wa.prototype.xM=function(a){a===f&&(a=p);var b=this.h;if(b!==p){var c=b.da;if(c!==p&&c instanceof T)try{b.zc="wait";b.jc("Ungroup");b.Ea("ChangingSelection");var d=new H(B);if(a instanceof B)d.add(a);else for(var e=b.selection.l;e.next();){var g=e.value;g instanceof B&&g.canUngroup()&&d.add(g)}if(0<d.count){b.Ry();for(e=d.l;e.next();){var h=e.value,j=h.data,k=h.Za,l=k!==p&&k.data!==p?c.rb(k.data):f,m=new H(z);m.cg(h.Ic);for(var n=m.l;n.next();){var r=n.value;if(!(r instanceof
F)){var s=r.data;s!==p?c.hA(s,l):r.Za=k;r.Va=i}}j!==p?c.uE(j):b.remove(h)}}b.Ea("ChangedSelection");b.Ea("SelectionUngrouped",d)}finally{b.qe("Ungroup"),b.zc=""}}};wa.prototype.canUngroupSelection=wa.prototype.CJ=function(a){a===f&&(a=p);var b=this.h;if(b===p||b.hb||b.we||!b.Qk||!b.Tn)return q;var c=b.da;if(c===p||!(c instanceof T))return q;if(a instanceof B){if(a.canUngroup())return i}else for(a=b.selection.l;a.next();)if(b=a.value,b instanceof B&&b.canUngroup())return i;return q};
wa.prototype.addTopLevelParts=wa.prototype.WI=function(a,b){for(var c=i,d=this.findUnnestedNodes(a).l;d.next();){var e=d.value;e.Za!==p&&(!b||this.isValidMember(p,e)?e.Za=p:c=q)}return c};wa.prototype.collapseSubGraph=wa.prototype.mv=function(a){a===f&&(a=p);var b=this.h;if(b===p)return q;b.jc("Collapse SubGraph");var c=new H(B);if(a instanceof B&&a.Pe)a.mv(),c.add(a);else for(a=b.selection.l;a.next();){var d=a.value;d instanceof B&&d.Pe&&(d.mv(),c.add(d))}b.Ea("SubGraphCollapsed",c);b.qe("Collapse SubGraph")};
wa.prototype.canCollapseSubGraph=wa.prototype.bJ=function(a){a===f&&(a=p);var b=this.h;if(b===p||b.hb)return q;if(a instanceof B)return!a.Pe?q:i;for(a=b.selection.l;a.next();)if(b=a.value,b instanceof B&&b.Pe)return i;return q};
wa.prototype.expandSubGraph=wa.prototype.Av=function(a){a===f&&(a=p);var b=this.h;if(b===p)return q;b.jc("Expand SubGraph");var c=new H(B);if(a instanceof B&&!a.Pe)a.Av(),c.add(a);else for(a=b.selection.l;a.next();){var d=a.value;d instanceof B&&!d.Pe&&(d.Av(),c.add(d))}b.Ea("SubGraphExpanded",c);b.qe("Expand SubGraph")};
wa.prototype.canExpandSubGraph=wa.prototype.lJ=function(a){a===f&&(a=p);var b=this.h;if(b===p||b.hb)return q;if(a instanceof B)return a.Pe?q:i;for(a=b.selection.l;a.next();)if(b=a.value,b instanceof B&&!b.Pe)return i;return q};
wa.prototype.editTextBlock=wa.prototype.rK=function(a){a===f&&(a=p);var b=this.h;if(b!==p&&b.Xb!==p){var c=b.Xb.jw;if(c!==p){if(a===p){for(var a=b.selection.l,d=p;a.next();){var e=a.value;if(e.canEdit()){d=e;break}}if(d===p)return;a=d;d=function(a){return a instanceof ra&&a.yv};a=d(a)?a:bf(a,d)}a!==p&&a instanceof ra&&(c.ug=a,b.Ma=c)}}};
wa.prototype.canEditTextBlock=wa.prototype.kJ=function(a){a===f&&(a=p);var b=this.h;if(b===p||(b.hb||b.we)||!b.Sn||b.Xb===p||b.Xb.jw===p)return q;if(a instanceof ra){if(a=a.fa,a!==p&&a.canEdit())return i}else for(b=b.selection.l;b.next();)if(a=b.value,a.canEdit()){var c=function(a){return a instanceof ra&&a.yv},a=c(a)?a:bf(a,c);if(a!==p)return i}return q};x.g(wa,"copiesTree",wa.prototype.KC);x.defineProperty(wa,{KC:"copiesTree"},t("RA"),ba("RA"));x.g(wa,"deletesTree",wa.prototype.YC);
x.defineProperty(wa,{YC:"deletesTree"},t("ZA"),ba("ZA"));x.g(wa,"archetypeGroupData",wa.prototype.Jy);x.defineProperty(wa,{Jy:"archetypeGroupData"},t("JA"),function(a){a!==p&&x.i(a,Object,wa,"archetypeGroupData");var b=this.h;b!==p&&(b=b.da,b instanceof T&&!(a instanceof B)&&!b.vz(a)&&x.m("CommandHandler.archetypeGroupData must be either a Group or a data object for which GraphLinksModel.isGroupForNodeData is true: "+a));this.JA=a});x.g(wa,"memberValidation",wa.prototype.zs);
x.defineProperty(wa,{zs:"memberValidation"},t("Hk"),function(a){a!==p&&x.k(a,"function",wa,"memberValidation");this.Hk=a});x.g(wa,"zoomFactor",wa.prototype.$s);x.defineProperty(wa,{$s:"zoomFactor"},t("iC"),function(a){x.k(a,"number",wa,"zoomFactor");1<a||x.m("zoomFactor must be larger than 1.0, not: "+a);this.iC=a});function cf(){x.lc(this);this.ca=p;this.Gb="";this.hi=i;this.nB=q;this.gC=p;this.cv=-1}x.S("Tool",cf);cf.prototype.Ef=function(a){u&&a!==p&&x.i(a,w,cf,"setDiagram");this.ca=a};
cf.prototype.toString=function(){return""!==this.name?this.name+" Tool":x.$k(Object.getPrototypeOf(this))};cf.prototype.updateAdornments=cf.prototype.$i=aa();cf.prototype.canStart=cf.prototype.wf=t("isEnabled");cf.prototype.doStart=cf.prototype.fz=aa();cf.prototype.doActivate=cf.prototype.Kh=function(){this.Z=i};cf.prototype.doDeactivate=cf.prototype.Ji=function(){this.Z=q};cf.prototype.doStop=cf.prototype.Yk=aa();cf.prototype.doCancel=cf.prototype.Qj=function(){this.stopTool()};
cf.prototype.stopTool=cf.prototype.tM=function(){var a=this.h;a!==p&&a.Ma===this&&(a.Ma=p,a.zc="")};cf.prototype.doMouseDown=cf.prototype.Zr=function(){!this.Z&&this.canStart()&&this.doActivate()};cf.prototype.doMouseMove=cf.prototype.Vg=aa();cf.prototype.doMouseUp=cf.prototype.te=function(){this.stopTool()};cf.prototype.doMouseWheel=cf.prototype.GG=aa();cf.prototype.doKeyDown=cf.prototype.dz=function(){var a=this.h;a!==p&&"Esc"===a.P.key&&this.doCancel()};cf.prototype.doKeyUp=cf.prototype.ez=aa();
cf.prototype.startTransaction=cf.prototype.jc=function(a){this.Ze=p;var b=this.h;return b===p?q:b.jc(a)};cf.prototype.stopTransaction=cf.prototype.Zj=function(){var a=this.h;return a===p?q:this.Ze===p?a.Ls():a.qe(this.Ze)};
cf.prototype.standardMouseSelect=cf.prototype.sI=function(){var a=this.h;if(a!==p&&a.me){var b=a.P,c=a.ds(b.O,q);if(c!==p)if(b.Wk){a.Ea("ChangingSelection");for(b=c;b!==p&&!b.Tk();)b=b.Za;b.Va=!b.Va;a.Ea("ChangedSelection")}else if(b.shift){if(!c.Va){a.Ea("ChangingSelection");for(b=c;b!==p&&!b.Tk();)b=b.Za;b.Va=i;a.Ea("ChangedSelection")}}else{if(!c.Va){for(b=c;b!==p&&!b.Tk();)b=b.Za;a.select(b)}}else b.left&&(!b.Wk&&!b.shift)&&a.Ry()}};
cf.prototype.standardMouseClick=cf.prototype.oM=function(a,b){a===f&&(a=p);b===f&&(b=function(a){return!a.Ka.Cc});var c=this.h;if(c!==p){var d=c.P,e=c.qd(d.O,a,b);d.Gd=e;df(e,d,c)}};
function df(a,b,c){var d=0;b.left?d=1===b.pe?1:2===b.pe?2:1:b.right&&1===b.pe&&(d=3);var e="";if(a!==p){switch(d){case 1:e="ObjectSingleClicked";break;case 2:e="ObjectDoubleClicked";break;case 3:e="ObjectContextClicked"}0!==d&&c.Ea(e,a)}else{switch(d){case 1:e="BackgroundSingleClicked";break;case 2:e="BackgroundDoubleClicked";break;case 3:e="BackgroundContextClicked"}0!==d&&c.Ea(e)}if(a!==p)for(;a!==p;){e=p;switch(d){case 1:e=a.click;break;case 2:e=a.dm?a.dm:a.click;break;case 3:e=a.Vr}if(e!==p&&
(e(b,a),b.de))break;a=a.ea}else{e=p;switch(d){case 1:e=c.click;break;case 2:e=c.dm?c.dm:c.click;break;case 3:e=c.Vr}e!==p&&e(b)}}
cf.prototype.standardMouseOver=cf.prototype.pM=function(){var a=this.h;if(a!==p){var b=a.P,c=a.qd(b.O,p,p);b.Gd=c;var d=a.Ab;a.Ab=i;var e=q;if(c!==a.Km){var g=a.Km;a.Xx=g;a.Km=c;for(this.doCurrentObjectChanged(g,c);g!==p;){var h=g.Kz;if(h!==p){if(c===g)break;if(c!==p&&c.Qi(g))break;h(b,g,c);e=i;if(b.de)break}g=g.ea}for(g=a.Xx;c!==p;){h=c.Jz;if(h!==p){if(g===c)break;if(g!==p&&g.Qi(c))break;h(b,c,g);e=i;if(b.de)break}c=c.ea}c=a.Km}if(c!==p){g=c;for(h="";g!==p;){h=g.cursor;if(""!==h)break;g=g.ea}a.zc=
h;for(g=c;g!==p;){h=g.Ds;if(h!==p&&(h(b,g),e=i,b.de))break;g=g.ea}}else a.zc="",h=a.Ds,h!==p&&(h(b),e=i);e&&a.Zg();a.Ab=d}};cf.prototype.doCurrentObjectChanged=cf.prototype.FG=aa();
cf.prototype.standardMouseWheel=cf.prototype.qM=function(){var a=this.h;if(a!==p){var b=a.P,c=b.Pj;if(0!==c){var d=a.Xb.sm;if(a.Un&&(d===ef&&!b.shift||d===ff&&b.Wk)){d=a.nl;a.nl=b.Jc;var e=a.dg;e!==p?0<c?e.increaseZoom():e.decreaseZoom():a.scale=0<c?1.05*a.scale:a.scale/1.05;a.nl=d;b.bubbles=q}else if(d===ef&&b.shift||d===ff&&!b.Wk)d=a.position.copy(),!b.shift&&a.vf?0<c?a.scroll("line","up",3):a.scroll("line","down",3):b.shift&&a.uf&&(0<c?a.scroll("line","left",3):a.scroll("line","right",3)),a.position.K(d)||
(b.bubbles=q)}}};cf.prototype.standardWaitAfter=cf.prototype.rM=function(a){x.k(a,"number",cf,"standardWaitAfter:delay");this.cancelWaitAfter();var b=this;this.cv=window.setTimeout(function(){b.doWaitAfter()},a)};cf.prototype.cancelWaitAfter=cf.prototype.EJ=function(){-1!==this.cv&&window.clearTimeout(this.cv);this.cv=-1};cf.prototype.doWaitAfter=cf.prototype.HG=aa();
cf.prototype.findToolHandleAt=cf.prototype.FK=function(a,b){var c=this.h;if(c===p)return p;c=c.qd(a,p,function(a){a=a.fa;return a===p?q:a.Ec!==p});if(c===p)return p;var d=c.fa;return d===p||d.Cd!==b?p:c};cf.prototype.isBeyondDragSize=cf.prototype.kL=function(a,b){var c=this.h;if(c===p)return q;a===f&&(a=c.Ac.Jc);b===f&&(b=c.P.Jc);c=2;x.ky&&(c+=4);return Math.abs(b.x-a.x)>c||Math.abs(b.y-a.y)>c};x.u(cf,{h:"diagram"},t("ca"));x.g(cf,"name",cf.prototype.name);
x.defineProperty(cf,{name:"name"},t("Gb"),ba("Gb"));x.g(cf,"isEnabled",cf.prototype.isEnabled);x.defineProperty(cf,{isEnabled:"isEnabled"},t("hi"),ba("hi"));x.g(cf,"isActive",cf.prototype.Z);x.defineProperty(cf,{Z:"isActive"},t("nB"),ba("nB"));x.g(cf,"transactionResult",cf.prototype.Ze);x.defineProperty(cf,{Ze:"transactionResult"},t("gC"),ba("gC"));
function gf(){cf.call(this);this.name="Dragging";this.QA=i;this.Bl=this.fB=q;this.yx=i;this.px=(new cb(NaN,NaN)).freeze();this.qx=Db;this.sx=(new K(NaN,NaN)).freeze();this.cB=q;this.dB=this.PA=this.eB=this.TA=p;this.Bp=this.bB=q;this.vn=new K(NaN,NaN);this.zi=new K;this.Ru=q;this.Nu=i;this.Om=100;this.wl=this.Du=p}x.S("DraggingTool",gf);x.Ja(gf,cf);x.g(gf,"copiesEffectiveCollection",gf.prototype.JC);x.defineProperty(gf,{JC:"copiesEffectiveCollection"},t("QA"),ba("QA"));x.g(gf,"dragsTree",gf.prototype.$C);
x.defineProperty(gf,{$C:"dragsTree"},t("fB"),ba("fB"));x.g(gf,"isGridSnapEnabled",gf.prototype.no);x.defineProperty(gf,{no:"isGridSnapEnabled"},t("Bl"),function(a){this.Bl!==a&&(x.k(a,"boolean",gf,"isGridSnapEnabled"),this.Bl=a)});x.g(gf,"isGridSnapRealtime",gf.prototype.KD);x.defineProperty(gf,{KD:"isGridSnapRealtime"},t("yx"),function(a){this.yx!==a&&(x.k(a,"boolean",gf,"isGridSnapRealtime"),this.yx=a)});x.g(gf,"gridSnapCellSize",gf.prototype.oz);
x.defineProperty(gf,{oz:"gridSnapCellSize"},t("px"),function(a){this.px.K(a)||(x.i(a,cb,gf,"gridSnapCellSize"),this.px=a=a.Q())});x.g(gf,"gridSnapCellSpot",gf.prototype.tD);x.defineProperty(gf,{tD:"gridSnapCellSpot"},t("qx"),function(a){this.qx.K(a)||(x.i(a,N,gf,"gridSnapCellSpot"),this.qx=a=a.Q())});x.g(gf,"gridSnapOrigin",gf.prototype.uD);x.defineProperty(gf,{uD:"gridSnapOrigin"},t("sx"),function(a){this.sx.K(a)||(x.i(a,K,gf,"gridSnapOrigin"),this.sx=a=a.Q())});x.g(gf,"draggableLinks",gf.prototype.em);
x.defineProperty(gf,{em:"draggableLinks"},t("cB"),ba("cB"));x.g(gf,"currentPart",gf.prototype.ao);x.defineProperty(gf,{ao:"currentPart"},t("TA"),ba("TA"));x.g(gf,"copiedParts",gf.prototype.Rc);x.defineProperty(gf,{Rc:"copiedParts"},t("PA"),ba("PA"));x.g(gf,"draggedParts",gf.prototype.fc);x.defineProperty(gf,{fc:"draggedParts"},t("eB"),ba("eB"));x.g(gf,"draggedLink",gf.prototype.ec);x.defineProperty(gf,{ec:"draggedLink"},t("dB"),ba("dB"));x.g(gf,"dragOutStarted",gf.prototype.hz);
x.defineProperty(gf,{hz:"dragOutStarted"},t("bB"),ba("bB"));x.g(gf,"delay",gf.prototype.wv);x.defineProperty(gf,{wv:"delay"},t("Om"),ba("Om"));gf.prototype.canStart=gf.prototype.wf=function(){if(!this.isEnabled)return q;var a=this.h;if(a===p||!a.Rk&&!a.Gj&&!a.hv||!a.me)return q;var b=a.P;return!b.left||a.Ma!==this&&(!this.isBeyondDragSize()||window.TouchEvent&&(b.kj!==p&&b.kj instanceof window.TouchEvent)&&b.timestamp-a.Ac.timestamp<this.Om)?q:this.findDraggablePart()!==p};
gf.prototype.findDraggablePart=gf.prototype.xK=function(){var a=this.h;if(a===p)return p;a=a.ds(a.Ac.O,q);if(a===p)return p;for(;a!==p&&!a.Tk();)a=a.Za;return a!==p&&(a.canMove()||a.canCopy())?a:p};gf.prototype.standardMouseSelect=gf.prototype.sI=function(){var a=this.h;if(a!==p&&a.me){var b=a.ds(a.Ac.O,q);if(b!==p){for(;b!==p&&!b.Tk();)b=b.Za;this.ao=b;this.ao.Va||(a.Ea("ChangingSelection"),b=a.P,!b.Wk&&!b.shift&&af(a),this.ao.Va=i,a.Ea("ChangedSelection"))}}};
gf.prototype.doActivate=gf.prototype.Kh=function(){var a=this.h;if(a!==p){this.standardMouseSelect();var b=this.ao;b===p||!b.canMove()&&!b.canCopy()||(this.Z=i,this.vn.set(a.position),kf(this,a.selection),this.wl=this.Du=p,this.fc=this.computeEffectiveCollection(a.selection),lf(this,this.fc),this.jc("Drag"),this.zi.set(a.Ac.O),a.hv?(this.hz=i,this.Bp=q,mf=this,this.h.Hc=i):a.Hc=i)}};
function kf(a,b){if(a.em){var c=a.h;c!==p&&c.Hj&&(1===b.count?(c=b.l,c.next(),a.ec=c.value,a.ec!==p&&(a.ec.canRelinkFrom()&&a.ec.canRelinkTo())&&a.ec.Hh()):a.ec=p)}}
gf.prototype.computeEffectiveCollection=gf.prototype.JJ=function(a){var b=this.h!==p&&this.h.Ma===this,c=new pa(z,Object);if(a===p)return c;for(var d=a.l;d.next();){var e=d.value;nf(this,c,e,b)}if(this.ec!==p&&this.em)return c;for(d=a.l;d.next();)e=d.value,e instanceof F&&(a=e,b=a.ja,b!==p&&!c.contains(b)?c.remove(a):(b=a.na,b!==p&&!c.contains(b)&&c.remove(a)));return c};function of(a){return a===f?{point:new K}:{point:a}}
function nf(a,b,c,d){if(!b.contains(c)&&(!d||c.canMove()||c.canCopy()))if(c instanceof A){b.add(c,of(c.location));if(c instanceof B)for(var e=c.Ic;e.next();){var g=e.value;nf(a,b,g,d)}for(g=c.Rd;g.next();)if(e=g.value,!b.contains(e)){var h=e.ja,j=e.na;h!==p&&(b.contains(h)&&j!==p&&b.contains(j))&&nf(a,b,e,d)}if(a.$C){g=i;e=c.h;e!==p&&(g=e.rd);for(c=g?c.hD():c.gD();c.next();)g=c.value,nf(a,b,g,d)}}else if(c instanceof F){e=c;b.add(e,of());for(g=e.Si;g.next();)nf(a,b,g.value,d)}else c instanceof Ye||
b.add(c,of(c.location))}gf.prototype.doDeactivate=gf.prototype.Ji=function(){this.Z=q;var a=this.h;a!==p&&pf(a);qf(this);rf(this,this.fc);this.fc=p;this.Bp=this.hz=q;if(0<Af.count){for(var b=Af.length,c=0;c<b;c++){var d=Af.o[c];d.ec!==p&&(d.ec=p);Bf(d);qf(d);d.h!==p&&pf(d.h)}Af.clear()}this.ec!==p&&(this.ec=p);this.vn.No(NaN,NaN);mf=Cf=p;Bf(this);a.Hc=q;this.Zj()};
function qf(a){var b=a.h;if(b!==p){var c=b.Ab;b.Ab=i;for(var d=b.P,e=a.wl;e!==p;){var g=e.Iz;if(g!==p&&(g(d,e,p),d.de))break;e=e.ea}b.Ab=c}a.Du=p;a.wl=p}gf.prototype.doCancel=gf.prototype.Qj=function(){Bf(this);Df(this);var a=this.h;a!==p&&this.vn.R()&&(a.position=this.vn);this.stopTool()};function lf(a,b){if(b!==p){a.Ru=i;for(var c=b.l;c.next();){var d=c.key;d instanceof F&&(d.zn=i)}}}
function rf(a,b){if(b!==p&&a.Ru){for(var c=b.l;c.next();){var d=c.key;d instanceof F&&(d.zn=q,d.Qh===Ef?d.Zb():d.U())}a.Ru=q}}gf.prototype.doKeyDown=gf.prototype.dz=function(){var a=this.h;a!==p&&(a=a.P,a!==p&&this.Z&&("Esc"===a.key?this.doCancel():this.doMouseMove()))};gf.prototype.doKeyUp=gf.prototype.ez=function(){var a=this.h;a!==p&&(a.P!==p&&this.Z)&&this.doMouseMove()};
function Ff(a){for(var b=Infinity,c=Infinity,d=-Infinity,e=-Infinity,a=a.l;a.next();){var g=a.value;if(g.ee()){var h=g.location,g=h.x,h=h.y;!isNaN(g)&&!isNaN(h)&&(g<b&&(b=g),h<c&&(c=h),g>d&&(d=g),h>e&&(e=h))}}return Infinity===b?new L(0,0,0,0):new L(b,c,d-b,e-c)}
function Gf(a,b){if(a.Rc===p){var c=a.h;if(!(c===p||c.hb||c.we)&&a.fc!==p){c.Ab=!b;c.Pr=!b;Df(a);a.zi.set(c.Ac.O);for(var c=a.JC?c.Zn(a.fc.$j(),c,i):c.Zn(c.selection,c,i),d=c.l;d.next();)d.value.location=d.key.location.copy();d=Ff(c);new K(d.x+d.width/2,d.y+d.height/2);for(var d=new pa(z,Object),e=a.fc.l;e.next();){var g=e.key;g.ee()&&g.canCopy()&&(g=c.va(g),g!==p&&(g.Ki(),d.add(g,of(g.location))))}for(c=c.l;c.next();)e=c.value,e instanceof F&&e.canCopy()&&d.add(e,of());a.Rc=d;kf(a,d.$j());a.ec!==
p&&(c=a.ec,d=c.ei(),c.el(a.zi.x-(d.x+d.width/2),a.zi.y-(d.y+d.height/2)))}}}function Bf(a){var b=a.h;b!==p&&(a.Rc!==p&&(b.Xz(a.Rc.$j(),q),a.Rc=p),b.Ab=q,b.Pr=q,a.zi.set(b.Ac.O))}function Hf(a,b){var c=a.h;if(c!==p){var d=a.zi;a.moveParts(b,c.P.O.copy().Ts(d),i)}}
gf.prototype.moveParts=gf.prototype.IH=function(a,b,c){if(!(a===p||0===a.count)){var d=b.copy();isNaN(d.x)&&(d.x=0);isNaN(d.y)&&(d.y=0);var e=this.Ru;e||lf(this,a);for(var g=new H,h=new H(Oa),j=a.l;j.next();){var k=j.key;if(k.ee()){var l=If(this,k,a);if(l!==p)g.add({bh:k,info:j.value,cH:l});else if(!c||k.canMove()){var l=j.value.point,m=this.computeMove(k,l.copy().add(d),a);k.location=m;j.value.zF=m.copy().Ts(l)}}else j.key instanceof F&&h.add(j.Ld)}for(c=g.l;c.next();)g=c.value,l=g.info.point,m=
l.copy().add(g.cH.zF),g.bh.location=m;for(h=h.l;h.next();)if(j=h.value,l=j.key,l instanceof F)if(l.zn)if(c=l.ja,g=l.na,this.ec!==p&&this.em)j=j.value.point,a.add(l,of(d)),m=b.x-j.x,c=b.y-j.y,l.el(m,c);else{m=new K(0,0);if(c!==p){m.set(c.location);var n=a.va(c);n!==p&&m.Ts(n.point)}k=new K(0,0);g!==p&&(k.set(g.location),n=a.va(g),n!==p&&k.Ts(n.point));c!==p&&g!==p?m.Li(k)?(j=j.value.point,c=m.copy(),c.Ts(j),a.add(l,of(m)),l.el(c.x,c.y)):(l.zn=q,l.Zb()):(j=j.value.point,a.add(l,of(c!==p?m:g!==p?k:b)),
m=d.x-j.x,c=d.y-j.y,l.el(m,c))}else if(l.ja===p||l.na===p)j=j.value.point,a.add(l,of(b)),m=d.x-j.x,c=d.y-j.y,l.el(m,c);e||rf(this,a)}};function If(a,b,c){b=b.Za;if(b!==p){a=If(a,b,c);if(a!==p)return a;a=c.va(b);if(a!==p)return a}return p}
function Df(a){if(a.fc!==p){var b=a.h,c=q;b!==p&&(c=b.Ab,b.Ab=i);for(var d=a.fc.l;d.next();){var e=d.key;e.ee()&&(e.location=d.value.point)}for(d=a.fc.l;d.next();)if(e=d.key,e instanceof F&&e.zn){var g=d.value.point;a.fc.add(e,of());e.el(-g.x,-g.y)}b!==p&&(b.Ab=c,b.Oi())}}
gf.prototype.computeMove=gf.prototype.MJ=function(a,b,c){if(a===p)return b;c===f&&(c=p);var d=b,d=b;if(this.no&&(this.KD||c===p||this.h.P.Zi))if(d=b.copy(),a!==p&&(c=this.h,c!==p)){var e=c.Kv,g=this.oz,c=g.width,g=g.height,h=this.uD,j=h.x,h=h.y,k=this.tD;if(e!==p){var l=e.ks;isNaN(c)&&(c=l.width);isNaN(g)&&(g=l.height);e=e.nz;isNaN(j)&&(j=e.x);isNaN(h)&&(h=e.y)}e=(new K).wm(0,0,c,g,k);d=Rc(d.x,d.y,j+e.x,h+e.y,c,g)}d=a.gz!==p?a.gz(a,b,d):d;c=a.cE;b=c.x;isNaN(b)&&(b=a.location.x);c=c.y;isNaN(c)&&(c=
a.location.y);j=a.XD;g=j.x;isNaN(g)&&(g=a.location.x);j=j.y;isNaN(j)&&(j=a.location.y);return new K(Math.max(b,Math.min(d.x,g)),Math.max(c,Math.min(d.y,j)))};function Jf(a,b){if(b===p)return i;var c=b.fa;return c===p||c.Va||c instanceof Ye||c.Ka.Cc||a.fc&&a.fc.contains(c)||a.Rc&&a.Rc.contains(c)?i:q}
function Kf(a,b,c,d){var e=a.h;if(e!==p){if(a.em&&a.ec!==p){var g=a.h.da;g instanceof T&&(a.ec.ja!==p&&g.Ps(a.ec.data,""),a.ec.na!==p&&g.Qs(a.ec.data,""))}g=q;a.Nu===q&&(g=e.Ab,e.Ab=i);var h=q,j=Lf(e,b,p,function(b){return!Jf(a,b)}),k=e.P;k.Gd=j;var l=e.Ab;e.Ab=i;if(j!==a.wl){var m=a.wl;a.Du=m;for(a.wl=j;m!==p;){var n=m.Iz;if(n!==p){if(j===m)break;if(j!==p&&j.Qi(m))break;n(k,m,j);h=i;if(k.de)break}m=m.ea}for(m=a.Du;j!==p;){n=j.dE;if(n!==p){if(m===j)break;if(m!==p&&m.Qi(j))break;n(k,j,m);h=i;if(k.de)break}j=
j.ea}j=a.wl}j===p&&(n=e.eE,n!==p&&(n(k),h=i));a.doDragOver(b,j);e.Ab=l;h&&e.Zg();a.Nu===q&&(e.Ab=g);if((e.uf||e.vf)&&(c||d))e.Qw=e.Ro(b),Mf(e,e.Qw).Li(e.position)?pf(e):Nf(e)}}gf.prototype.doDragOver=gf.prototype.gK=aa();
function Xf(a,b){var c=a.h;if(c!==p&&c.da!==p){qf(a);var d=Lf(c,b,p,function(b){return!Jf(a,b)}),e=c.P;e.Gd=d;if(d!==p)for(var g=d;g!==p;){var h=g.As;if(h!==p&&(h(e,g),e.de))break;g=g.ea}else h=c.As,h!==p&&h(e);a.doDropOnto(b,d);for(d=c.selection.l;d.next();)e=d.value,e instanceof A&&Yf(c,e.ya)}}gf.prototype.doDropOnto=gf.prototype.hK=aa();
gf.prototype.doMouseMove=gf.prototype.Vg=function(){if(this.Z){var a=this.h;if(a!==p&&this.ao!==p&&this.fc!==p){var b=q,c=q;this.mayCopy()?(b=i,Gf(this,q),Hf(this,this.Rc)):this.mayMove()?(c=i,Bf(this),Hf(this,this.fc)):Bf(this);Kf(this,a.P.O,c,b);a.Eb()}}};
gf.prototype.doMouseUp=gf.prototype.te=function(){if(this.Z){this.Bp=i;var a=this.h;if(a!==p){var b=q,c=this.mayCopy();c&&this.Rc!==p?(Df(this),Bf(this),Gf(this,i),Hf(this,this.Rc),this.Rc!==p&&a.eA(this.Rc.$j())):(b=i,Bf(this),this.mayMove()&&(Hf(this,this.fc),this.Nu=q,Kf(this,a.P.O,i,q),this.Nu=i));Xf(this,a.P.O);if(this.Z){this.Rc=p;if(b&&this.fc!==p)for(b=this.fc.l;b.next();){var d=b.key;d instanceof A&&(d=d.Za,d!==p&&d.placeholder!==p&&!this.fc.contains(d)&&d.Xy&&d.U())}a.Oi();rf(this,this.fc);
this.Ze=c?"Copy":"Move";a.Ea(c?"SelectionCopied":"SelectionMoved",a.selection)}this.stopTool()}}};gf.prototype.mayCopy=gf.prototype.EL=function(){var a=this.h;if(a===p||(a.hb||a.we||!a.On||!a.Gj)||!a.P.Wk)return q;for(a=a.selection.l;a.next();){var b=a.value;if(b.ee()&&b.canCopy())return i}return this.ec!==p&&this.em&&this.ec.canCopy()?i:q};
gf.prototype.mayMove=gf.prototype.GL=function(){var a=this.h;if(a===p||a.hb||!a.Rk)return q;for(a=a.selection.l;a.next();){var b=a.value;if(b.ee()&&b.canMove())return i}return this.ec!==p&&this.em&&this.ec.canMove()?i:q};var Af=new H(gf),mf=p,Cf=p;gf.prototype.mayCopyExternal=gf.prototype.FL=function(){var a=this.h;return a===p||(!a.sC||a.hb||a.we||!a.On)||a.da===p?q:i};gf.prototype.doSimulatedDragEnter=gf.prototype.jK=function(){this.mayCopyExternal()&&(Af.contains(this)||Af.add(this))};
gf.prototype.doSimulatedDragLeave=gf.prototype.kK=function(){Bf(this);var a=this.h;a!==p&&(a.Ma!==this&&this.vn.R())&&(a.position=this.vn)};gf.prototype.doSimulatedDragOver=gf.prototype.lK=function(){if(this.mayCopyExternal()){var a=this.h;if(a!==p){var b=mf;b!==p&&b.fc!==p&&(Zf(this,b.fc.$j(),q),Hf(this,this.Rc),a.eA(this.Rc.$j()),Kf(this,a.P.O,q,i),a.Eb())}}};
gf.prototype.doSimulatedDrop=gf.prototype.mK=function(){var a=mf;if(a!==p&&(a.Bp=i,Bf(this),this.mayCopyExternal())){var b=this.h;b!==p&&(this.jc("Drop"),Zf(this,a.fc.$j(),i),Hf(this,this.Rc),this.Rc!==p&&b.eA(this.Rc.$j()),this.Ze="ExternalCopy",Xf(this,b.P.O),this.Rc=p,b.Ea("ExternalObjectsDropped",b.selection),this.Zj(),b.Oi())}};
function Zf(a,b,c){if(a.Rc===p){var d=a.h;if(!(d===p||d.hb||d.we)&&d.da!==p){d.Ab=!c;d.Pr=!c;a.zi.set(d.P.O);for(var d=d.Zn(b,d,i),c=Ff(b),e=new K(c.x+c.width/2,c.y+c.height/2),g=a.zi,c=new pa(z,Object),b=b.l;b.next();){var h=b.value;if(h.ee()&&h.canCopy()){var j=h.location,h=d.va(h);h.location=new K(g.x-(e.x-j.x),g.y-(e.y-j.y));h.Ki();c.add(h,of(h.location))}}for(d=d.l;d.next();)e=d.value,e instanceof F&&e.canCopy()&&c.add(e,of());a.Rc=c;kf(a,c.$j());a.ec!==p&&(c=a.ec,d=c.ei(),c.el(a.zi.x-(d.x+d.width/
2),a.zi.y-(d.y+d.height/2)))}}}
function $f(){cf.call(this);this.Vx=100;this.zy=q;var a=new F;a.Lo="PATH";var b=new V;b.Nh=i;b.name="PATH";b.stroke="blue";a.add(b);b=new V;b.Bm="Standard";b.fill="blue";a.add(b);a.Fd="Tool";this.sy=a;a=new A;b=new V;b.Ue="";b.lb="Rectangle";b.fill=p;b.stroke="magenta";b.ib=2;b.za=new cb(1,1);a.add(b);a.Vi=q;a.Fd="Tool";this.py=a;this.qy=b;a=new A;b=new V;b.Ue="";b.lb="Rectangle";b.fill=p;b.stroke="magenta";b.ib=2;b.za=new cb(1,1);a.add(b);a.Vi=q;a.Fd="Tool";this.ty=a;this.uy=b;this.Ux=this.Tx=this.Ox=
this.Nx=this.Px=p;this.Wp=i;this.GF=new pa(U,"boolean");this.OB=this.xB=this.ny=p}x.S("LinkingBaseTool",$f);x.Ja($f,cf);$f.prototype.doStop=$f.prototype.Yk=function(){this.qg=this.pg=this.og=this.ng=this.Wb=p;this.lw.clear();this.We=p};x.g($f,"portGravity",$f.prototype.mE);x.defineProperty($f,{mE:"portGravity"},t("Vx"),function(a){this.Vx!==a&&(u&&x.k(a,"number",$f,"portGravity"),this.Vx=a)});x.g($f,"validUnconnectedLinks",$f.prototype.So);
x.defineProperty($f,{So:"validUnconnectedLinks"},t("zy"),function(a){this.zy!==a&&(u&&x.k(a,"boolean",$f,"validUnconnectedLinks"),this.zy=a)});x.g($f,"temporaryLink",$f.prototype.tg);x.defineProperty($f,{tg:"temporaryLink"},t("sy"),function(a){this.sy!==a&&(u&&x.i(a,F,$f,"temporaryLink"),this.sy=a)});x.g($f,"temporaryFromNode",$f.prototype.Xe);x.defineProperty($f,{Xe:"temporaryFromNode"},t("py"),function(a){this.py!==a&&(u&&x.i(a,A,$f,"temporaryFromNode"),this.py=a)});x.g($f,"temporaryFromPort",$f.prototype.zm);
x.defineProperty($f,{zm:"temporaryFromPort"},t("qy"),function(a){this.qy!==a&&(u&&x.i(a,U,$f,"temporaryFromPort"),this.qy=a)});x.g($f,"temporaryToNode",$f.prototype.Ye);x.defineProperty($f,{Ye:"temporaryToNode"},t("ty"),function(a){this.ty!==a&&(u&&x.i(a,A,$f,"temporaryToNode"),this.ty=a)});x.g($f,"temporaryToPort",$f.prototype.Am);x.defineProperty($f,{Am:"temporaryToPort"},t("uy"),function(a){this.uy!==a&&(u&&x.i(a,U,$f,"temporaryToPort"),this.uy=a)});x.g($f,"originalLink",$f.prototype.Wb);
x.defineProperty($f,{Wb:"originalLink"},t("Px"),function(a){this.Px!==a&&(u&&a!==p&&x.i(a,F,$f,"originalLink"),this.Px=a)});x.g($f,"originalFromNode",$f.prototype.ng);x.defineProperty($f,{ng:"originalFromNode"},t("Nx"),function(a){this.Nx!==a&&(u&&a!==p&&x.i(a,A,$f,"originalFromNode"),this.Nx=a)});x.g($f,"originalFromPort",$f.prototype.og);x.defineProperty($f,{og:"originalFromPort"},t("Ox"),function(a){this.Ox!==a&&(u&&a!==p&&x.i(a,U,$f,"originalFromPort"),this.Ox=a)});x.g($f,"originalToNode",$f.prototype.pg);
x.defineProperty($f,{pg:"originalToNode"},t("Tx"),function(a){this.Tx!==a&&(u&&a!==p&&x.i(a,A,$f,"originalToNode"),this.Tx=a)});x.g($f,"originalToPort",$f.prototype.qg);x.defineProperty($f,{qg:"originalToPort"},t("Ux"),function(a){this.Ux!==a&&(u&&a!==p&&x.i(a,U,$f,"originalToPort"),this.Ux=a)});x.defineProperty($f,{ve:"isForwards"},t("Wp"),ba("Wp"));x.u($f,{lw:"validPortsCache"},t("GF"));x.g($f,"targetPort",$f.prototype.We);
x.defineProperty($f,{We:"targetPort"},t("ny"),function(a){this.ny!==a&&(u&&a!==p&&x.i(a,U,$f,"targetPort"),this.ny=a)});$f.prototype.copyPortProperties=$f.prototype.UJ=function(a,b,c,d,e){a===p||(b===p||c===p||d===p)||(d.za=b.ya.size,e?(d.ub=b.ub,d.kl=b.kl):(d.qb=b.qb,d.Zk=b.Zk),c.ig=Kb,c.location=b.Tb(Kb),d.angle=b.jo(),this.Js!==p&&this.Js(a,b,c,d,e))};
$f.prototype.setNoTargetPortProperties=$f.prototype.hM=function(a,b,c){b!==p&&(b.za=new cb(1,1),b.qb=Bb,b.ub=Bb);a!==p&&(a.location=this.h.P.O);this.Js!==p&&this.Js(p,p,a,b,c)};$f.prototype.doMouseDown=$f.prototype.Zr=function(){this.Z&&this.doMouseMove()};
$f.prototype.doMouseMove=$f.prototype.Vg=function(){if(this.Z){var a=this.h;if(a!==p){this.We=this.findTargetPort(this.ve);if(this.We!==p){var b=this.We.fa;if(b instanceof A){this.ve?this.copyPortProperties(b,this.We,this.Ye,this.Am,i):this.copyPortProperties(b,this.We,this.Xe,this.zm,q);a.Eb();return}}this.ve?this.setNoTargetPortProperties(this.Ye,this.Am,i):this.setNoTargetPortProperties(this.Xe,this.zm,q);a.Eb()}}};
$f.prototype.findValidLinkablePort=$f.prototype.KK=function(a,b){if(a===p)return p;var c=a.fa;if(!(c instanceof A))return p;for(;a!==p;){var d=b?a.qA:a.kz;if(d===i&&(a.Ue!==p||a instanceof A)&&(b?this.isValidTo(c,a):this.isValidFrom(c,a)))return a;if(d===q)break;a=a.ea}return p};
$f.prototype.findTargetPort=$f.prototype.BK=function(a){for(var b=this.h,c=b.P.O,d=this.mE,e=this,g=b.io(c,d,function(b){return e.findValidLinkablePort(b,a)},p),b=d*d,d=p,g=g.l;g.next();){var h=g.value,j=h.fa;if(j instanceof A){var k=h.Tb(Kb),l=c.x-k.x,k=c.y-k.y,l=l*l+k*k;l<b&&(k=this.lw.va(h),k!==p?k&&(d=h,b=l):a&&this.isValidLink(this.ng,this.og,j,h)||!a&&this.isValidLink(j,h,this.pg,this.qg)?(this.lw.add(h,i),d=h,b=l):this.lw.add(h,q))}}return d!==p&&(c=d.fa,c instanceof A&&(c.Ka===p||c.Ka.Vl))?
d:p};$f.prototype.isValidFrom=$f.prototype.rL=function(a,b){if(a===p||b===p)return this.So;if(this.h.Ma===this&&(a.Ka!==p&&!a.Ka.Vl||b.kz!==i))return q;var c=b.mD;if(Infinity>c){if(this.Wb!==p&&a===this.ng&&b===this.og)return i;var d=b.Ue;d===p&&(d="");if(a.bs(d).count>=c)return q}return i};
$f.prototype.isValidTo=$f.prototype.uL=function(a,b){if(a===p||b===p)return this.So;if(this.h.Ma===this&&(a.Ka!==p&&!a.Ka.Vl||b.qA!==i))return q;var c=b.VE;if(Infinity>c){if(this.Wb!==p&&a===this.pg&&b===this.qg)return i;var d=b.Ue;d===p&&(d="");if(a.Bf(d).count>=c)return q}return i};$f.prototype.isInSameNode=$f.prototype.mL=function(a,b){if(a===p||b===p)return q;if(a===b)return i;var c=a.fa,d=b.fa;return c!==p&&c===d};
$f.prototype.isLinked=$f.prototype.pL=function(a,b){if(a===p||b===p)return q;var c=a.fa;if(!(c instanceof A))return q;var d=a.Ue;d===p&&(d="");var e=b.fa;if(!(e instanceof A))return q;var g=b.Ue;g===p&&(g="");for(e=e.Bf(g);e.next();)if(g=e.value,g.ja===c&&g.Lh===d)return i;return q};
$f.prototype.isValidLink=$f.prototype.sL=function(a,b,c,d){return!this.isValidFrom(a,b)||!this.isValidTo(c,d)||b!==p&&d!==p&&((!b.lD||!d.UE)&&this.isInSameNode(b,d)||(!b.kD||!d.TE)&&this.isLinked(b,d))||this.Wb!==p&&(a!==p&&ag(this,a,this.Wb)||c!==p&&ag(this,c,this.Wb))||a!==p&&c!==p&&(a.data===p&&c.data!==p||a.data!==p&&c.data===p)||!bg(this,a,c,this.Wb)?q:this.Dz!==p?this.Dz(a,b,c,d,this.Wb):i};
function ag(a,b,c){if(b===p)return q;var d=b.ad;if(d===p)return q;if(d===c)return i;var e=new qa(A);e.add(b);return cg(a,d,c,e)}function cg(a,b,c,d){if(b===c)return i;var e=b.ja;if(e!==p&&e.Ri&&(d.add(e),cg(a,e.ad,c,d)))return i;b=b.na;return b!==p&&b.Ri&&(d.add(b),cg(a,b.ad,c,d))?i:q}
function bg(a,b,c,d){if(b===p||c===p)return q;var e=a.h.gF;if(e!==dg){if(e===eg){for(e=c.Rd;e.next();){var g=e.value;if(g!==d&&g.na===c)return q}return!fg(a,b,c,d)}if(e===gg){for(e=b.Rd;e.next();)if(g=e.value,g!==d&&g.ja===b)return q;return!fg(a,b,c,d)}if(e===hg)return b===c?a=i:(e=new qa(A),e.add(c),a=ig(a,e,b,c,d)),!a;if(e===jg)return!fg(a,b,c,d);if(e===kg)return b===c?a=i:(e=new qa(A),e.add(c),a=Ag(a,e,b,c,d)),!a}return i}
function fg(a,b,c,d){if(b===c)return i;if(b===p||c===p)return q;for(var e=b.Rd;e.next();){var g=e.value;if(g!==d&&g.na===b&&(g=g.ja,g!==b&&fg(a,g,c,d)))return i}return q}function ig(a,b,c,d,e){if(c===d)return i;if(c===p||d===p||b.contains(c))return q;b.add(c);for(var g=c.Rd;g.next();){var h=g.value;if(h!==e&&h.na===c&&(h=h.ja,h!==c&&ig(a,b,h,d,e)))return i}return q}
function Ag(a,b,c,d,e){if(c===d)return i;if(c===p||d===p||b.contains(c))return q;b.add(c);for(var g=c.Rd;g.next();){var h=g.value;if(h!==e){var j=h.ja,h=h.na,j=j===c?h:j;if(j!==c&&Ag(a,b,j,d,e))return i}}return q}x.g($f,"linkValidation",$f.prototype.Dz);x.defineProperty($f,{Dz:"linkValidation"},t("xB"),function(a){a!==p&&x.k(a,"function",$f,"linkValidation");this.xB=a});x.g($f,"portTargeted",$f.prototype.Js);
x.defineProperty($f,{Js:"portTargeted"},t("OB"),function(a){a!==p&&x.k(a,"function",$f,"portTargeted");this.OB=a});function xa(){$f.call(this);this.name="Linking";this.Pw={};this.Ow=p;this.ga=Gg;this.iy=this.hy=p}x.S("LinkingTool",xa);x.Ja(xa,$f);var Gg;xa.Either=Gg=x.s(xa,"Either",0);var Hg;xa.ForwardsOnly=Hg=x.s(xa,"ForwardsOnly",0);var Ig;xa.BackwardsOnly=Ig=x.s(xa,"BackwardsOnly",0);x.g(xa,"archetypeLinkData",xa.prototype.uC);
x.defineProperty(xa,{uC:"archetypeLinkData"},t("Pw"),function(a){this.Pw!==a&&(a!==p&&x.i(a,Object,xa,"archetypeLinkData"),this.Pw=a)});x.g(xa,"archetypeLabelNodeData",xa.prototype.tC);
x.defineProperty(xa,{tC:"archetypeLabelNodeData"},t("Ow"),function(a){if(this.Ow!==a){a!==p&&x.i(a,Object,xa,"archetypeLabelNodeData");var b=this.h;b!==p&&(b=b.da,b instanceof T&&!(a instanceof A)&&!b.yz(a)&&x.m("CommandHandler.archetypeLabelNodeData must be either a Node or a data object for which GraphLinksModel.isLinkLabelForNodeData is true: "+a));this.Ow=a}});x.g(xa,"direction",xa.prototype.direction);
x.defineProperty(xa,{direction:"direction"},t("ga"),function(a){this.ga!==a&&(u&&x.pb(a,xa,xa,"direction"),this.ga=a)});x.g(xa,"startObject",xa.prototype.lA);x.defineProperty(xa,{lA:"startObject"},t("hy"),function(a){this.hy!==a&&(u&&a!==p&&x.i(a,U,xa,"startObject"),this.hy=a)});x.u(xa,{hw:p},t("iy"));
xa.prototype.canStart=xa.prototype.wf=function(){if(!this.isEnabled)return q;var a=this.h;if(a===p||(a.hb||a.we)||!a.Vl)return q;var b=a.da;return b===p||!(b instanceof T)&&!(b instanceof $d)||!a.P.left||a.Ma!==this&&!this.isBeyondDragSize()?q:this.findLinkablePort()!==p};
xa.prototype.findLinkablePort=xa.prototype.yK=function(){var a=this.h;if(a===p)return p;var b=this.lA;b===p&&(b=a.qd(a.Ac.O,p,p));if(b===p||!(b.fa instanceof A))return p;var c=this.direction;if(c===Gg||c===Hg)if(a=this.findValidLinkablePort(b,q),a!==p)return this.Wp=i,a;if(c===Gg||c===Ig)if(a=this.findValidLinkablePort(b,i),a!==p)return this.Wp=q,a;return p};
xa.prototype.doActivate=xa.prototype.Kh=function(){var a=this.h;if(a!==p&&(this.hw===p&&(this.iy=this.findLinkablePort()),this.hw!==p)){this.jc(this.name);a.Hc=i;a.zc="hand";if(this.ve){this.og=this.hw;var b=this.og.fa;b instanceof A&&(this.ng=b);this.copyPortProperties(this.ng,this.og,this.Xe,this.zm,q)}else this.qg=this.hw,b=this.qg.fa,b instanceof A&&(this.pg=b),this.copyPortProperties(this.pg,this.qg,this.Ye,this.Am,i);a.add(this.Xe);a.add(this.Ye);this.tg!==p&&(this.Xe!==p&&(this.tg.ja=this.Xe),
this.Ye!==p&&(this.tg.na=this.Ye),this.tg.Zb(),a.add(this.tg));this.Z=i}};xa.prototype.doDeactivate=xa.prototype.Ji=function(){this.Z=q;var a=this.h;a!==p&&(a.remove(this.tg),a.remove(this.Xe),a.remove(this.Ye),a.Hc=q,a.zc="",this.Zj())};xa.prototype.doStop=xa.prototype.Yk=function(){$f.prototype.Yk.call(this);this.lA=this.iy=p};
xa.prototype.doMouseUp=xa.prototype.te=function(){if(this.Z){var a=this.h;if(a===p)return;var b=this.Ze=p,c=p,d=p,e=p,g=this.We=this.findTargetPort(this.ve),h=p;g!==p?(h=g.fa,h instanceof A&&(this.ve?(this.ng!==p&&(b=this.ng,c=this.og),d=h,e=g):(b=h,c=g,this.pg!==p&&(d=this.pg,e=this.qg)))):this.ve?this.ng!==p&&this.So&&(b=this.ng,c=this.og):this.pg!==p&&this.So&&(d=this.pg,e=this.qg);if(b!==p||d!==p)b=this.insertLink(b,c,d,e),b!==p?(g===p&&(this.ve?b.AG=a.P.O:b.zG=a.P.O),a.me&&a.select(b),this.Ze=
this.name,a.Ea("LinkDrawn",b)):a.da.Cg.clear()}this.stopTool()};
xa.prototype.insertLink=xa.prototype.gL=function(a,b,c,d){var e=this.h;if(e===p)return p;var g=e.da;if(g===p)return p;if(g instanceof $d){if(b=a,d=c,e.rd||(b=c,d=a),b!==p&&d!==p)return g.Ff(d.data,g.rb(b.data)),d.Gv()}else if(g instanceof T){b===p&&(b=a);b=b.Ue;b===p&&(b="");d===p&&(d=c);var h=d.Ue;h===p&&(h="");d=this.uC;if(d instanceof F){if($e(d),g=d.copy(),g instanceof F)return g.ja=a,g.Lh=b,g.na=c,g.Xi=h,e.add(g),g}else if(d!==p&&(d=g.LC(d),x.sb(d)))return g.ew(d,g.rb(a.data)),g.Ps(d,b),g.fw(d,
g.rb(c.data)),g.Qs(d,h),g.pC(d),a=this.tC,a!==p&&g.yz(a)&&(a=g.Mj(a),x.sb(a)&&(g.Mr(a),a=g.rb(a),a!==f&&g.oC(d,a))),g=e.Af(d)}return p};function Jg(){$f.call(this);this.name="Relinking";var a=new V;a.lb="Diamond";a.za=new cb(8,8);a.fill="cyan";a.cursor="pointer";a.Rh=0;this.kB=a;a=new V;a.lb="Diamond";a.za=new cb(8,8);a.fill="cyan";a.cursor="pointer";a.Rh=-1;this.dC=a;this.wc=p;this.LB=new L}x.S("RelinkingTool",Jg);x.Ja(Jg,$f);
Jg.prototype.updateAdornments=Jg.prototype.$i=function(a){if(a instanceof F){var b=p,c="RelinkFrom";if(a.Va){var d=a.Ko;a.ya.R()&&(d!==p&&a.tb()&&a.canRelinkFrom()&&d.dl()&&d.ya.R())&&(b=a.fo(c),b===p&&(b=this.makeAdornment(d,q),b.Cd=c),b!==p&&b.U());a.In(c,b)}else a.vm(c);b=p;c="RelinkTo";a.Va?(d=a.Ko,a.ya.R()&&(d!==p&&a.tb()&&a.canRelinkTo()&&d.dl()&&d.ya.R())&&(b=a.fo(c),b===p&&(b=this.makeAdornment(d,i),b.Cd=c),b!==p&&b.U()),a.In(c,b)):a.vm(c)}};
Jg.prototype.makeAdornment=Jg.prototype.Fz=function(a,b){var c=new Ye;c.type=Kg;var d=b?this.BI:this.YG;d!==p&&c.add(d.copy());c.Ec=a;return c};x.defineProperty(Jg,{YG:"fromHandleArchetype"},t("kB"),function(a){a&&x.i(a,U,Jg,"fromHandleArchetype");this.kB=a});x.defineProperty(Jg,{BI:"toHandleArchetype"},t("dC"),function(a){a&&x.i(a,U,Jg,"toHandleArchetype");this.dC=a});x.u(Jg,{handle:"handle"},t("wc"));
Jg.prototype.canStart=Jg.prototype.wf=function(){if(!this.isEnabled)return q;var a=this.h;if(a===p||(a.hb||a.we)||!a.Hj)return q;var b=a.da;if(b===p||!(b instanceof T)&&!(b instanceof $d)||!a.P.left)return q;b=this.findToolHandleAt(a.Ac.O,"RelinkFrom");b===p&&(b=this.findToolHandleAt(a.Ac.O,"RelinkTo"));return b!==p};
Jg.prototype.doActivate=Jg.prototype.Kh=function(){var a=this.h;if(a!==p){if(this.Wb===p){var b=this.findToolHandleAt(a.Ac.O,"RelinkFrom");b===p&&(b=this.findToolHandleAt(a.Ac.O,"RelinkTo"));if(b===p)return;var c=b.fa;if(!(c instanceof Ye)||!(c.Mn instanceof F))return;this.wc=b;this.Wp=c===p||"RelinkTo"===c.Cd;this.Wb=c.Mn}this.jc(this.name);a.Hc=i;a.zc="hand";this.og=this.Wb.Zc;this.ng=this.Wb.ja;this.qg=this.Wb.Sd;this.pg=this.Wb.na;this.LB=this.Wb.ya;this.Wb!==p&&0<this.Wb.oa&&(this.Wb.ja===p&&
(this.zm!==p&&(this.zm.za=new cb(0,0)),this.Xe!==p&&(this.Xe.location=this.Wb.p(0))),this.Wb.na===p&&(this.Am!==p&&(this.Am.za=new cb(0,0)),this.Ye!==p&&(this.Ye.location=this.Wb.p(this.Wb.oa-1))));this.copyPortProperties(this.ng,this.og,this.Xe,this.zm,q);this.copyPortProperties(this.pg,this.qg,this.Ye,this.Am,i);a.add(this.Xe);a.add(this.Ye);this.tg!==p&&(this.Xe!==p&&(this.tg.ja=this.Xe),this.Ye!==p&&(this.tg.na=this.Ye),this.tg.Zb(),a.add(this.tg));this.Z=i}};
Jg.prototype.doDeactivate=Jg.prototype.Ji=function(){this.Z=q;var a=this.h;a!==p&&(a.remove(this.tg),a.remove(this.Xe),a.remove(this.Ye),a.Hc=q,a.zc="",this.Zj())};Jg.prototype.doStop=Jg.prototype.Yk=function(){$f.prototype.Yk.call(this);this.wc=p};
Jg.prototype.doMouseUp=Jg.prototype.te=function(){if(this.Z){var a=this.h;if(a===p)return;this.Ze=p;var b=this.ng,c=this.og,d=this.pg,e=this.qg,g=this.Wb;this.We=this.findTargetPort(this.ve);if(this.We!==p){var h=this.We.fa;h instanceof A&&(this.ve?(d=h,e=this.We):(b=h,c=this.We))}else this.So?this.ve?e=d=p:c=b=p:g=p;g!==p&&(this.reconnectLink(g,this.ve?d:b,this.ve?e:c,this.ve),this.We===p&&(this.ve?g.AG=a.P.O:g.zG=a.P.O,g.Zb()),a.me&&(g.Va=i),this.Ze=this.name,a.Ea("LinkRelinked",g,this.ve?this.qg:
this.og));Lg(this.Wb,this.LB)}this.stopTool()};
Jg.prototype.reconnectLink=Jg.prototype.UL=function(a,b,c,d){var e=this.h;if(e===p)return q;var g=b!==p?b.data:p,g=g!==p?e.da.rb(g):f,h=c.Ue!==p?c.Ue:"",j=a.data;if(j!==p&&g!==f)if(c=e.da,c instanceof $d)e=e.rd,h=a.ja,g=a.na,e||(h=a.na,g=a.ja),a=h,h=g,d&&e||!d&&!e?(h=b,c.Ff(g.data,f),c.Ff(h.data,c.rb(a.data))):c.Ff(g.data,c.rb(b.data));else if(c instanceof T)d?(c.fw(j,g),c.Qs(j,h)):(c.ew(j,g),c.Ps(j,h));else return q;else d?(this.Wb.na=b,this.Wb.Xi=h):(this.Wb.ja=b,this.Wb.Lh=h);return i};
function Mg(){cf.call(this);this.name="LinkReshaping";var a=new V;a.lb="Rectangle";a.za=new cb(6,6);a.fill="cyan";this.xk=a;this.Mw=this.wc=p;this.MB=new K;this.Rx=p}x.S("LinkReshapingTool",Mg);x.Ja(Mg,cf);var Ng;Mg.None=Ng=x.s(Mg,"None",0);var Og;Mg.Horizontal=Og=x.s(Mg,"Horizontal",1);var Pg;Mg.Vertical=Pg=x.s(Mg,"Vertical",2);var Qg;Mg.All=Qg=x.s(Mg,"All",3);
Mg.prototype.updateAdornments=Mg.prototype.$i=function(a){if(a instanceof F){var b=p;if(a.Va){var c=a.path;a.ya.R()&&(c!==p&&a.tb()&&a.canReshape()&&c.dl()&&c.ya.R())&&(b=a.fo(this.name),b===p&&(b=this.makeAdornment(c),b.Cd=this.name),b!==p&&(b.location=a.position,b.U()));a.In(this.name,b)}else a.vm(this.name)}};
Mg.prototype.makeAdornment=Mg.prototype.Fz=function(a){var b=new Ye;b.type=Kg;var c=a.fa,d=c.oa,e=Rg(c);if(c.points!==p&&2<d){for(var d=c.Hv,g=c.zz,h=d+1;h<=g-1;h++){var j=this.makeHandle(a,h);if(j!==p){j.Rh=h;if(h!==d)if(h===d+1&&e){var k=c.p(d),l=c.p(d+1);Ua(k.x,l.x)&&Ua(k.y,l.y)&&(l=c.p(d-1));Ua(k.x,l.x)?(j.Ho=Pg,j.cursor="n-resize"):Ua(k.y,l.y)&&(j.Ho=Og,j.cursor="w-resize")}else h===g-1&&e?(k=c.p(g-1),l=c.p(g),Ua(k.x,l.x)&&Ua(k.y,l.y)&&(k=c.p(g+1)),Ua(k.x,l.x)?(j.Ho=Pg,j.cursor="n-resize"):Ua(k.y,
l.y)&&(j.Ho=Og,j.cursor="w-resize")):h!==g&&(j.Ho=Qg,j.cursor="move");b.add(j)}}b.Ec=a}return b};Mg.prototype.makeHandle=Mg.prototype.AH=function(){var a=this.ls;return a===p?p:a.copy()};x.defineProperty(Mg,{ls:"handleArchetype"},t("xk"),function(a){a&&x.i(a,U,Mg,"handleArchetype");this.xk=a});x.u(Mg,{handle:"handle"},t("wc"));x.u(Mg,{Ln:"adornedLink"},t("Mw"));
Mg.prototype.canStart=Mg.prototype.wf=function(){if(!this.isEnabled)return q;var a=this.h;return a===p||a.hb||!a.Pn?q:this.findToolHandleAt(a.Ac.O,this.name)!==p};Mg.prototype.doActivate=Mg.prototype.Kh=function(){var a=this.h;if(a!==p&&(this.wc=this.findToolHandleAt(a.Ac.O,this.name),this.wc!==p)){var b=this.wc.fa.Mn;b instanceof F&&(this.Mw=b,a.Hc=i,this.MB=b.p(this.wc.Rh),this.Rx=b.points.copy(),this.jc(this.name),this.Z=i)}};
Mg.prototype.doDeactivate=Mg.prototype.Ji=function(){this.Zj();this.Mw=this.wc=p;var a=this.h;a!==p&&(a.Hc=q);this.Z=q};Mg.prototype.doCancel=Mg.prototype.Qj=function(){var a=this.Ln;a!==p&&(a.points=this.Rx);this.stopTool()};Mg.prototype.doMouseMove=Mg.prototype.Vg=function(){var a=this.h;this.Z&&a!==p&&(a=this.computeReshape(a.P.O),this.reshape(a))};
Mg.prototype.doMouseUp=Mg.prototype.te=function(){var a=this.h;if(this.Z&&a!==p){var b=this.computeReshape(a.P.O);this.reshape(b);b=this.Ln;b!==p&&(b.points=this.Ln.points);a.Oi();this.Ze=this.name;a.Ea("LinkReshaped",this.Ln)}this.stopTool()};
Mg.prototype.reshape=Mg.prototype.bM=function(a){var b=this.Ln;b.jl();var c=this.handle.Rh,d=this.handle.Ho;if(Rg(b))if(c===b.Hv+1)c=b.Hv+1,d==Pg?(b.L(c,new K(b.p(c-1).x,a.y)),b.L(c+1,new K(b.p(c+2).x,a.y))):d==Og&&(b.L(c,new K(a.x,b.p(c-1).y)),b.L(c+1,new K(a.x,b.p(c+2).y)));else if(c===b.zz-1)c=b.zz-1,d===Pg?(b.L(c-1,new K(b.p(c-2).x,a.y)),b.L(c,new K(b.p(c+1).x,a.y))):d===Og&&(b.L(c-1,new K(a.x,b.p(c-2).y)),b.L(c,new K(a.x,b.p(c+1).y)));else{var d=c,e=b.p(d),g=b.p(d-1),h=b.p(d+1);Ua(g.x,e.x)&&
Ua(e.y,h.y)?(Ua(g.x,b.p(d-2).x)&&!Ua(g.y,b.p(d-2).y)?(e=b.points,e.Bc(d,new K(a.x,g.y)),b.points=e,c++,d++):b.L(d-1,new K(a.x,g.y)),Ua(h.y,b.p(d+2).y)&&!Ua(h.x,b.p(d+2).x)?(e=b.points,e.Bc(d+1,new K(h.x,a.y)),b.points=e):b.L(d+1,new K(h.x,a.y))):Ua(g.y,e.y)&&Ua(e.x,h.x)?(Ua(g.y,b.p(d-2).y)&&!Ua(g.x,b.p(d-2).x)?(e=b.points,e.Bc(d,new K(g.x,a.y)),b.points=e,c++,d++):b.L(d-1,new K(g.x,a.y)),Ua(h.x,b.p(d+2).x)&&!Ua(h.y,b.p(d+2).y)?(e=b.points,e.Bc(d+1,new K(a.x,h.y)),b.points=e):b.L(d+1,new K(a.x,h.y))):
Ua(g.x,e.x)&&Ua(e.x,h.x)?(Ua(g.x,b.p(d-2).x)&&!Ua(g.y,b.p(d-2).y)?(e=b.points,e.Bc(d,new K(a.x,g.y)),b.points=e,c++,d++):b.L(d-1,new K(a.x,g.y)),Ua(h.x,b.p(d+2).x)&&!Ua(h.y,b.p(d+2).y)?(e=b.points,e.Bc(d+1,new K(a.x,h.y)),b.points=e):b.L(d+1,new K(a.x,h.y))):Ua(g.y,e.y)&&Ua(e.y,h.y)&&(Ua(g.y,b.p(d-2).y)&&!Ua(g.x,b.p(d-2).x)?(e=b.points,e.Bc(d,new K(g.x,a.y)),b.points=e,c++,d++):b.L(d-1,new K(g.x,a.y)),Ua(h.y,b.p(d+2).y)&&!Ua(h.x,b.p(d+2).x)?(e=b.points,e.Bc(d+1,new K(h.x,a.y)),b.points=e):b.L(d+1,
new K(h.x,a.y)));b.L(c,a.copy())}else b.L(c,a.copy());b.Fi()};Mg.prototype.computeReshape=Mg.prototype.PJ=function(a){var b=this.Ln,c=this.handle.Rh;switch(this.handle.Ho){case Qg:return a;case Pg:return b=b.p(c),new K(b.x,a.y);case Og:return b=b.p(c),new K(a.x,b.y);default:case Ng:return b.p(c)}};x.g(Mg,"originalPoint",Mg.prototype.QH);x.u(Mg,{QH:"originalPoint"},t("MB"));x.g(Mg,"originalPoints",Mg.prototype.RH);x.u(Mg,{RH:"originalPoints"},t("Rx"));
function Sg(){cf.call(this);this.name="Resizing";this.Wd=(new cb(1,1)).freeze();this.tj=(new cb(9999,9999)).freeze();this.fj=(new cb(NaN,NaN)).freeze();this.Bl=q;this.Qa=p;var a=new V;a.Fj=Kb;a.lb="Rectangle";a.za=new cb(6,6);a.fill="cyan";a.stroke="black";a.ib=1;a.cursor="pointer";this.xk=a;this.wc=p;this.ln=0;this.vF=new L;this.yu=new cb;this.Qx=new K;this.lx=new cb(0,0);this.kx=new cb(Infinity,Infinity);this.jx=new cb(1,1)}x.S("ResizingTool",Sg);x.Ja(Sg,cf);
Sg.prototype.updateAdornments=Sg.prototype.$i=function(a){if(!(a===p||a instanceof F)){var b=p;if(a.Va){var c=a.fI;if(a.ya.R()&&(c!==p&&a.tb()&&a.canResize()&&c.dl()&&c.ya.R())&&(b=a.fo(this.name),b===p&&(b=this.makeAdornment(c),b.Cd=this.name),b!==p)){var d=c.jo();b.angle=d;b.location=c.Tb(Db);var e=b.placeholder;if(e!==p){var g=c.hm(),c=c.Na;e.za=new cb(c.width*g,c.height*g)}Tg(this,b,d)}a.In(this.name,b)}else a.vm(this.name)}};
Sg.prototype.makeAdornment=Sg.prototype.Fz=function(a){var b=p,b=a.fa.wE;if(b===p){b=new Ye;b.type=Ug;var c=new Vg;c.Nh=i;b.add(c);b.add(this.makeHandle(a,Db));b.add(this.makeHandle(a,Fb));b.add(this.makeHandle(a,Nb));b.add(this.makeHandle(a,Lb));b.add(this.makeHandle(a,Ob));b.add(this.makeHandle(a,Qb));b.add(this.makeHandle(a,Rb));b.add(this.makeHandle(a,Pb))}else if($e(b),b=b.copy(),!(b instanceof Ye))return p;b.Ec=a;return b};
Sg.prototype.makeHandle=Sg.prototype.AH=function(a,b){var c=this.ls;if(c===p)return p;c=c.copy();c.Ib=b;return c};
function Tg(a,b,c){if(b!==p)if(!Ab(b.Ib)&&""!==b.cursor)a:{a=b.Ib;yb(a)&&(a=Kb);if(0>=a.x)c=0>=a.y?c+225:1<=a.y?c+135:c+180;else if(1<=a.x)0>=a.y?c+=315:1<=a.y&&(c+=45);else if(0>=a.y)c+=270;else if(1<=a.y)c+=90;else break a;0>c?c+=360:360<=c&&(c-=360);b.cursor=22.5>c?"e-resize":67.5>c?"se-resize":112.5>c?"s-resize":157.5>c?"sw-resize":202.5>c?"w-resize":247.5>c?"nw-resize":292.5>c?"n-resize":337.5>c?"ne-resize":"e-resize"}else if(b instanceof G)for(b=b.elements;b.next();)Tg(a,b.value,c)}
x.defineProperty(Sg,{ls:"handleArchetype"},t("xk"),function(a){a&&x.i(a,U,Sg,"handleArchetype");this.xk=a});x.u(Sg,{handle:"handle"},t("wc"));x.u(Sg,{Ec:"adornedObject"},t("Qa"));Sg.prototype.canStart=Sg.prototype.wf=function(){if(!this.isEnabled)return q;var a=this.h;return a===p||a.hb||!a.Qn||!a.P.left?q:this.findToolHandleAt(a.Ac.O,this.name)!==p?i:q};
Sg.prototype.doActivate=Sg.prototype.Kh=function(){var a=this.h;a!==p&&(this.wc=this.findToolHandleAt(a.Ac.O,this.name),this.wc!==p&&(this.Qa=this.wc.fa.Ec,this.ln=this.Qa.angle,this.vF.set(this.Qa.Na),this.Qx.set(this.Qa.fa.location),this.yu.set(this.Qa.za),this.jx=this.computeCellSize(),this.lx=this.computeMinSize(),this.kx=this.computeMaxSize(),a.Hc=i,this.jc(this.name),this.Z=i))};
Sg.prototype.doDeactivate=Sg.prototype.Ji=function(){var a=this.h;a!==p&&(this.Zj(),this.Qa=this.wc=p,this.Z=a.Hc=q)};Sg.prototype.doCancel=Sg.prototype.Qj=function(){this.Qa.za=this.yu;this.Qa.fa.location=this.Qx;this.stopTool()};Sg.prototype.doMouseMove=Sg.prototype.Vg=function(){var a=this.h;if(this.Z&&a!==p){var b=this.lx,c=this.kx,d=this.jx,e=this.Qa.qD(a.P.O),g=this.Qa.Jv;g===Wg&&(g=this.Qa.La.mc);b=this.computeResize(e,this.wc.Ib,b,c,d,!(g===Xg||g===Yg||a.P.shift));this.resize(b);Zg(a)}};
Sg.prototype.doMouseUp=Sg.prototype.te=function(){var a=this.h;if(this.Z&&a!==p){var b=this.lx,c=this.kx,d=this.jx,e=this.Qa.qD(a.P.O),g=this.Qa.Jv;g===Wg&&(g=this.Qa.La.mc);b=this.computeResize(e,this.wc.Ib,b,c,d,!(g===Xg||g===Yg||a.P.shift));this.resize(b);a.Oi();this.Ze=this.name;a.Ea("PartResized",this.Qa,this.yu)}this.stopTool()};
Sg.prototype.resize=Sg.prototype.cM=function(a){var b=this.h;if(b!==p){var c=this.Qa.fa,d=c.position.copy(),e=this.Qa.Na.copy(),g=this.Qa.jo();360<=g?g-=360:0>g&&(g+=360);var h=Math.PI*g/180,j=Math.cos(h),h=Math.sin(h),k=a.width-e.width,e=a.height-e.height,l=90<g&&270>g?1:0;d.x+=(a.x+k*l)*j-(a.y+e*(0<g&&180>g?1:0))*h;d.y+=(a.x+k*(180<g&&360>g?1:0))*h+(a.y+e*l)*j;this.Qa.za=a.size;c.Ki();c.position=d;b.Eb()}};
Sg.prototype.computeResize=Sg.prototype.QJ=function(a,b,c,d,e,g){yb(b)&&(b=Kb);var h=this.Qa.Na,j=h.x,k=h.y,l=h.x+h.width,m=h.y+h.height,n=1;if(!g){var n=h.width,r=h.height;0>=n&&(n=1);0>=r&&(r=1);n=r/n}a=Rc(a.x,a.y,j,k,e.width,e.height);e=h.copy();0>=b.x?0>=b.y?(e.x=Math.max(a.x,l-d.width),e.x=Math.min(e.x,l-c.width),e.width=Math.max(l-e.x,c.width),e.y=Math.max(a.y,m-d.height),e.y=Math.min(e.y,m-c.height),e.height=Math.max(m-e.y,c.height),g||(a=e.height/e.width,n<a?(e.height=n*e.width,e.y=m-e.height):
(e.width=e.height/n,e.x=l-e.width))):1<=b.y?(e.x=Math.max(a.x,l-d.width),e.x=Math.min(e.x,l-c.width),e.width=Math.max(l-e.x,c.width),e.height=Math.max(Math.min(a.y-k,d.height),c.height),g||(a=e.height/e.width,n<a?e.height=n*e.width:(e.width=e.height/n,e.x=l-e.width))):(e.x=Math.max(a.x,l-d.width),e.x=Math.min(e.x,l-c.width),e.width=l-e.x,g||(e.height=n*e.width,e.y=k+0.5*(m-k-e.height))):1<=b.x?0>=b.y?(e.width=Math.max(Math.min(a.x-j,d.width),c.width),e.y=Math.max(a.y,m-d.height),e.y=Math.min(e.y,
m-c.height),e.height=Math.max(m-e.y,c.height),g||(a=e.height/e.width,n<a?(e.height=n*e.width,e.y=m-e.height):e.width=e.height/n)):1<=b.y?(e.width=Math.max(Math.min(a.x-j,d.width),c.width),e.height=Math.max(Math.min(a.y-k,d.height),c.height),g||(a=e.height/e.width,n<a?e.height=n*e.width:e.width=e.height/n)):(e.width=Math.max(Math.min(a.x-j,d.width),c.width),g||(e.height=n*e.width,e.y=k+0.5*(m-k-e.height))):0>=b.y?(e.y=Math.max(a.y,m-d.height),e.y=Math.min(e.y,m-c.height),e.height=m-e.y,g||(e.width=
e.height/n,e.x=j+0.5*(l-j-e.width))):1<=b.y&&(e.height=Math.max(Math.min(a.y-k,d.height),c.height),g||(e.width=e.height/n,e.x=j+0.5*(l-j-e.width)));return e};Sg.prototype.computeMinSize=Sg.prototype.LJ=function(){var a=this.Qa.xe.copy(),b=this.xe;!isNaN(b.width)&&b.width>a.width&&(a.width=b.width);!isNaN(b.height)&&b.height>a.height&&(a.height=b.height);return a};
Sg.prototype.computeMaxSize=Sg.prototype.KJ=function(){var a=this.Qa.fe.copy(),b=this.fe;!isNaN(b.width)&&b.width<a.width&&(a.width=b.width);!isNaN(b.height)&&b.height<a.height&&(a.height=b.height);return a};
Sg.prototype.computeCellSize=Sg.prototype.HJ=function(){var a=new cb(NaN,NaN),b=this.Qa.fa;if(b){var c=b.xE;!isNaN(c.width)&&0<c.width&&(a.width=c.width);!isNaN(c.height)&&0<c.height&&(a.height=c.height)}c=this.Vk;isNaN(a.width)&&(!isNaN(c.width)&&0<c.width)&&(a.width=c.width);isNaN(a.height)&&(!isNaN(c.height)&&0<c.height)&&(a.height=c.height);b=this.h;if((isNaN(a.width)||isNaN(a.height))&&b)c=b.Xb.ue,c!==p&&c.no&&(c=c.oz,isNaN(a.width)&&(!isNaN(c.width)&&0<c.width)&&(a.width=c.width),isNaN(a.height)&&
(!isNaN(c.height)&&0<c.height)&&(a.height=c.height)),b=b.Kv,b!==p&&(b.visible&&this.no)&&(c=b.ks,isNaN(a.width)&&(!isNaN(c.width)&&0<c.width)&&(a.width=c.width),isNaN(a.height)&&(!isNaN(c.height)&&0<c.height)&&(a.height=c.height));if(isNaN(a.width)||0===a.width||Infinity===a.width)a.width=1;if(isNaN(a.height)||0===a.height||Infinity===a.height)a.height=1;return a};x.g(Sg,"minSize",Sg.prototype.xe);
x.defineProperty(Sg,{xe:"minSize"},t("Wd"),function(a){this.Wd.K(a)||(u&&x.i(a,cb,Sg,"minSize"),isNaN(a.width)&&(a.width=0),isNaN(a.height)&&(a.height=0),this.Wd.bb(a))});x.g(Sg,"maxSize",Sg.prototype.fe);x.defineProperty(Sg,{fe:"maxSize"},t("tj"),function(a){this.tj.K(a)||(u&&x.i(a,cb,Sg,"maxSize"),isNaN(a.width)&&(a.width=Infinity),isNaN(a.height)&&(a.height=Infinity),this.tj.bb(a))});x.g(Sg,"cellSize",Sg.prototype.Vk);
x.defineProperty(Sg,{Vk:"cellSize"},t("fj"),function(a){this.fj.K(a)||(u&&x.i(a,cb,Sg,"cellSize"),this.fj.bb(a))});x.g(Sg,"isGridSnapEnabled",Sg.prototype.no);x.defineProperty(Sg,{no:"isGridSnapEnabled"},t("Bl"),function(a){this.Bl!==a&&(x.k(a,"boolean",Sg,"isGridSnapEnabled"),this.Bl=a)});x.g(Sg,"originalDesiredSize",Sg.prototype.OH);x.u(Sg,{OH:"originalDesiredSize"},t("yu"));x.g(Sg,"originalLocation",Sg.prototype.PH);x.u(Sg,{PH:"originalLocation"},t("Qx"));
function $g(){cf.call(this);this.name="Rotating";this.gy=45;this.ey=2;this.Qa=p;var a=new V;a.lb="Ellipse";a.za=new cb(6,6);a.fill="yellow";a.stroke="black";a.ib=1;a.cursor="pointer";this.xk=a;this.wc=p;this.ln=0;this.PB=new K}x.S("RotatingTool",$g);x.Ja($g,cf);
$g.prototype.updateAdornments=$g.prototype.$i=function(a){if(!(a===p||a instanceof F)){var b=p;if(a.Va){var c=a.jI;if(a.ya.R()&&(c!==p&&a.tb()&&a.canRotate()&&c.dl()&&c.ya.R())&&(b=a.fo(this.name),b===p&&(b=this.makeAdornment(c),b.Cd=this.name),b!==p)){b.angle=c.jo();var d=p,e=p;c===a||c===a.Vb?(d=a.Vb,e=a.ig):(d=c,e=Kb);for(var g=d.Na,e=new K(g.width*e.x+e.offsetX,g.height*e.y+e.offsetY);d!==p&&d!==c;)d.transform.Xa(e),d=d.ea;d=e.y;e=Math.max(e.x-c.Na.width,0);b.ig=Kb;b.location=c.Tb(new N(1,0,50+
e,d))}a.In(this.name,b)}else a.vm(this.name)}};$g.prototype.makeAdornment=$g.prototype.Fz=function(a){var b=p,b=a.fa.AE;if(b===p){b=new Ye;b.type=ah;var c=this.ls;c!==p&&b.add(c.copy())}else if($e(b),b=b.copy(),!(b instanceof Ye))return p;b.Ec=a;return b};x.defineProperty($g,{ls:"handleArchetype"},t("xk"),function(a){a&&x.i(a,U,$g,"handleArchetype");this.xk=a});x.u($g,{handle:"handle"},t("wc"));x.u($g,{Ec:"adornedObject"},t("Qa"));
$g.prototype.canStart=$g.prototype.wf=function(){if(!this.isEnabled)return q;var a=this.h;return a===p||a.hb||!a.Rn||!a.P.left?q:this.findToolHandleAt(a.Ac.O,this.name)!==p?i:q};$g.prototype.doActivate=$g.prototype.Kh=function(){var a=this.h;if(a!==p&&(this.wc=this.findToolHandleAt(a.Ac.O,this.name),this.wc!==p)){this.Qa=this.wc.fa.Ec;var b=this.Qa.fa,c=b.Vb;this.PB=this.Qa===b||this.Qa===c?c.Tb(b.ig):this.Qa.Tb(Kb);this.ln=this.Qa.angle;a.Hc=i;this.jc(this.name);this.Z=i}};
$g.prototype.doDeactivate=$g.prototype.Ji=function(){var a=this.h;a!==p&&(this.Zj(),this.Qa=this.wc=p,this.Z=a.Hc=q)};$g.prototype.doCancel=$g.prototype.Qj=function(){this.rotate(this.ln);this.stopTool()};$g.prototype.doMouseMove=$g.prototype.Vg=function(){var a=this.h;this.Z&&a!==p&&(a=this.computeRotate(a.P.O),this.rotate(a))};
$g.prototype.doMouseUp=$g.prototype.te=function(){var a=this.h;if(this.Z&&a!==p){var b=this.computeRotate(a.P.O);this.rotate(b);a.Oi();this.Ze=this.name;a.Ea("PartRotated",this.Qa,this.ln)}this.stopTool()};$g.prototype.rotate=$g.prototype.rotate=function(a){this.Qa!==p&&(this.Qa.angle=a,this.h.Eb())};
$g.prototype.computeRotate=$g.prototype.RJ=function(a){var a=this.PB.Hi(a),b=this.Qa.ea;b&&(a-=b.jo(),360<=a?a-=360:0>a&&(a+=360));var b=Math.min(Math.abs(this.NE),180),c=Math.min(Math.abs(this.ME),b/2);!this.h.P.shift&&(0<b&&0<c)&&(a%b<c?a=Math.floor(a/b)*b:a%b>b-c&&(a=(Math.floor(a/b)+1)*b));360<=a?a-=360:0>a&&(a+=360);return a};x.g($g,"snapAngleMultiple",$g.prototype.NE);
x.defineProperty($g,{NE:"snapAngleMultiple"},t("gy"),function(a){this.gy!==a&&(u&&x.k(a,"number",$g,"snapAngleMultiple"),this.gy=a)});x.g($g,"snapAngleEpsilon",$g.prototype.ME);x.defineProperty($g,{ME:"snapAngleEpsilon"},t("ey"),function(a){this.ey!==a&&(u&&x.k(a,"number",$g,"snapAngleEpsilon"),this.ey=a)});x.g($g,"originalAngle",$g.prototype.NH);x.u($g,{NH:"originalAngle"},t("ln"));function bh(){cf.call(this);this.name="ClickSelecting"}x.S("ClickSelectingTool",bh);x.Ja(bh,cf);
bh.prototype.canStart=bh.prototype.wf=function(){return!this.isEnabled||this.h===p||this.isBeyondDragSize()?q:i};bh.prototype.doMouseUp=bh.prototype.te=function(){this.Z&&(this.standardMouseSelect(),this.standardMouseClick());this.stopTool()};function ch(){cf.call(this);this.name="Action";this.Dm=p}x.S("ActionTool",ch);x.Ja(ch,cf);
ch.prototype.canStart=ch.prototype.wf=function(){if(!this.isEnabled)return q;var a=this.h;if(a===p)return q;var b=a.P,c=a.qd(b.O,function(a){for(;a.ea!==p;){if(a.ps)return a;a=a.ea}return p},function(a){return a.ps});return c!==p?(this.Dm=c,a.Km=a.qd(b.O,p,p),i):q};ch.prototype.doMouseDown=ch.prototype.Zr=function(){if(this.Z){var a=this.h.P,b=this.Dm;b!==p&&(a.Gd=b,b.Dy!==p&&b.Dy(a,b))}else this.canStart()&&this.doActivate()};
ch.prototype.doMouseMove=ch.prototype.Vg=function(){if(this.Z){var a=this.h.P,b=this.Dm;b!==p&&(a.Gd=b,b.Ey!==p&&b.Ey(a,b))}};ch.prototype.doMouseUp=ch.prototype.te=function(){if(this.Z){var a=this.h,b=a.P,c=this.Dm;if(c===p)return;b.Gd=c;c.Fy!==p&&c.Fy(b,c);this.isBeyondDragSize()||df(c,b,a)}this.stopTool()};ch.prototype.doCancel=ch.prototype.Qj=function(){var a=this.h;if(a!==p){var a=a.P,b=this.Dm;if(b===p)return;a.Gd=b;b.Cy!==p&&b.Cy(a,b)}this.stopTool()};
ch.prototype.doStop=ch.prototype.Yk=function(){this.Dm=p};function za(){cf.call(this);this.name="ClickCreating";this.nk=p;this.wx=i;this.iB=new K(0,0)}x.S("ClickCreatingTool",za);x.Ja(za,cf);
za.prototype.canStart=za.prototype.wf=function(){if(!this.isEnabled||this.Rr===p)return q;var a=this.h;if(a===p||(a.hb||a.we)||!a.On||!a.P.left||this.isBeyondDragSize())return q;if(this.HD){if(1===a.P.pe&&(this.iB=a.P.Jc.copy()),2!==a.P.pe||this.isBeyondDragSize(this.iB))return q}else if(1!==a.P.pe)return q;return a.Ma!==this&&a.ds(a.P.O,i)!==p?q:i};za.prototype.doMouseUp=za.prototype.te=function(){var a=this.h;this.Z&&a!==p&&this.insertPart(a.P.O);this.stopTool()};
za.prototype.insertPart=za.prototype.hL=function(a){var b=this.h;if(b===p)return p;var c=this.Rr;if(c===p)return p;this.jc(this.name);var d=p;c instanceof z?c.ee()&&($e(c),d=c.copy(),d instanceof z&&b.add(d)):c!==p&&(c=b.da.Mj(c),x.sb(c)&&(b.da.Mr(c),d=b.Tj(c)));d instanceof z&&(d.location=a,b.me&&b.select(d));b.Oi();this.Ze=this.name;b.Ea("PartCreated",d);this.Zj();return d instanceof z?d:p};x.g(za,"archetypeNodeData",za.prototype.Rr);
x.defineProperty(za,{Rr:"archetypeNodeData"},t("nk"),function(a){this.nk!==a&&(a!==p&&x.i(a,Object,za,"archetypeNodeData"),this.nk=a)});x.g(za,"isDoubleClick",za.prototype.HD);x.defineProperty(za,{HD:"isDoubleClick"},t("wx"),function(a){this.wx!==a&&(x.k(a,"boolean",za,"isDoubleClick"),this.wx=a)});
function dh(){cf.call(this);this.name="ContextMenu";this.SA=p;this.BB=new K;this.Nm=p;if(x.ky===i){this.Nm=new Ye;this.Zw=p;var a=this;this.eC=function(){a.stopTool()};if(x.VA===q){var b=document.createElement("div"),c=document.createElement("div");b.style.cssText="top: 0px;z-index:300;position: fixed;display: none;text-align: center;left: 25%;width: 50%;background-color: #F5F5F5;padding: 16px;border: 16px solid #444;border-radius: 10px;margin-top: 10px";c.style.cssText="z-index:299;position: fixed;display: none;top: 0;left: 0;width: 100%;height: 100%;background-color: black;-moz-opacity: 0.8;opacity:.80;filter: alpha(opacity=80);";
var d=document.createElement("style");document.getElementsByTagName("head")[0].appendChild(d);d.sheet.insertRule(".defaultCXul { list-style: none; }",0);d.sheet.insertRule(".defaultCXli {font:700 1.5em Helvetica, Arial, sans-serif;position: relative;min-width: 60px; }",0);d.sheet.insertRule(".defaultCXa {color: #444;display: inline-block;padding: 4px;text-decoration: none;margin: 2px;border: 1px solid gray;border-radius: 10px; }",0);b.addEventListener("contextmenu",function(a){a.preventDefault();
return q},q);b.addEventListener("selectstart",function(a){a.preventDefault();return q},q);c.addEventListener("contextmenu",function(a){a.preventDefault();return q},q);document.body&&(document.body.appendChild(b),document.body.appendChild(c));x.qt=b;x.pt=c;x.VA=i}}}x.S("ContextMenuTool",dh);x.Ja(dh,cf);dh.prototype.canStart=dh.prototype.wf=function(){if(!this.isEnabled)return q;var a=this.h;return a===p||this.isBeyondDragSize()||!a.P.right?q:this.Nm!==p||this.findObjectWithContextMenu()!==p?i:q};
dh.prototype.doStart=dh.prototype.fz=function(){var a=this.h;a!==p&&this.BB.set(a.Ac.O)};dh.prototype.doStop=dh.prototype.Yk=function(){this.hideDefaultContextMenu();this.hideContextMenu()};dh.prototype.findObjectWithContextMenu=dh.prototype.zK=function(){var a=this.h;if(a===p)return p;var b=a.qd(a.P.O,p,function(a){return!a.Ka.Cc});if(b!==p){for(a=b;a!==p;){var c=a.contextMenu;if(c!==p)return a;a=a.ea}if(this.Nm!==p)return b.fa}else if(c=a.contextMenu,c!==p)return a;return p};
dh.prototype.doActivate=dh.prototype.Kh=aa();dh.prototype.doMouseDown=dh.prototype.Zr=function(){if(this.Z){var a=this.h;if(a!==p&&this.Ie!==p){var b=a.qd(a.P.O,p,p);b!==p&&b.Qi(this.Ie)?(this.standardMouseClick(p,p),this.stopTool()):(this.stopTool(),a.Ma.doMouseDown())}}};
dh.prototype.doMouseUp=dh.prototype.te=function(){!this.Z&&this.canStart()&&(this.Z=i);this.standardMouseSelect();this.standardMouseClick();var a=this.findObjectWithContextMenu();if(a!==p){var b=a.contextMenu;b!==p?this.showContextMenu(b,a instanceof U?a:p):this.showDefaultContextMenu()}else this.showDefaultContextMenu()};dh.prototype.doMouseMove=dh.prototype.Vg=function(){this.Z&&this.standardMouseOver()};
dh.prototype.showContextMenu=dh.prototype.iM=function(a,b){x.i(a,Ye,dh,"showContextMenu:contextmenu");b!==p&&x.i(b,U,dh,"showContextMenu:obj");var c=this.h;if(c!==p){a!==this.Ie&&this.hideContextMenu();a.Fd="Tool";a.Vi=q;a.scale=1/c.scale;c.add(a);if(b!==p){var d=p,e=b.fs();e!==p&&(d=e.data);a.Ec=b;a.data=d}else a.data=c.da;a.Ki();this.positionContextMenu(a,b);this.Ie=a;c.Eb()}};
dh.prototype.positionContextMenu=dh.prototype.SL=function(a){var b=this.h;if(b!==p){var c=b.P.O.copy(),d=a.Ba,b=b.Ya;c.x+d.width>b.right&&(c.x-=d.width+5);c.y+d.height>b.bottom&&(c.y-=d.height+5);a.position=c}};dh.prototype.hideContextMenu=dh.prototype.ZK=function(){var a=this.h;a!==p&&this.Ie!==p&&(this.Ie.data=p,this.Ie.Ec=p,a.remove(this.Ie),this.Ie=p,this.standardMouseOver(),a.Eb())};
dh.prototype.initializeDefaultButtons=dh.prototype.dL=function(){if(this.h===p)return p;var a=new H,b=this.h.dg;a.add({text:"Copy",xf:function(){b.copySelection()},visible:function(){return b.canCopySelection()}});a.add({text:"Cut",xf:function(){b.cutSelection()},visible:function(){return b.canCutSelection()}});a.add({text:"Delete",xf:function(){b.deleteSelection()},visible:function(){return b.canDeleteSelection()}});a.add({text:"Paste",xf:function(a){b.pasteSelection(a.P.O)},visible:function(){return b.canPasteSelection()}});
a.add({text:"Select All",xf:function(){b.selectAll()},visible:function(){return b.canSelectAll()}});a.add({text:"Undo",xf:function(){b.undo()},visible:function(){return b.canUndo()}});a.add({text:"Redo",xf:function(){b.redo()},visible:function(){return b.canRedo()}});a.add({text:"Zoom Out",xf:function(){b.decreaseZoom()},visible:function(){return b.canDecreaseZoom()}});a.add({text:"Zoom In",xf:function(){b.increaseZoom()},visible:function(){return b.canIncreaseZoom()}});a.add({text:"Zoom To Fit",
xf:function(){b.zoomToFit()},visible:function(){return b.canZoomToFit()}});a.add({text:"Reset Zoom",xf:function(){b.resetZoom()},visible:function(){return b.canResetZoom()}});a.add({text:"Group Selection",xf:function(){b.groupSelection()},visible:function(){return b.canGroupSelection()}});a.add({text:"Ungroup Selection",xf:function(){b.ungroupSelection()},visible:function(){return b.canUngroupSelection()}});a.add({text:"Edit Text",xf:function(){b.editTextBlock()},visible:function(){return b.canEditTextBlock()}});
return a};
dh.prototype.showDefaultContextMenu=dh.prototype.jM=function(){var a=this.h;if(a!==p){this.Zw===p&&(this.Zw=this.initializeDefaultButtons());this.Nm!==this.Ie&&this.hideContextMenu();x.qt.innerHTML="";x.pt.addEventListener("click",this.eC,q);var b=this,c=document.createElement("ul");c.className="defaultCXul";x.qt.appendChild(c);c.innerHTML="";for(var d=this.Zw.l;d.next();){var e=d.value,g=e.text,h=e.visible;if("function"!==typeof h||h()){h=document.createElement("li");h.className="defaultCXli";var j=
document.createElement("a");j.className="defaultCXa";j.href="#";j.qF=e.xf;j.addEventListener("click",function(c){this.qF(a);b.stopTool();c.preventDefault();return q},q);j.textContent=g;h.appendChild(j);c.appendChild(h)}}x.qt.style.display="block";x.pt.style.display="block";this.Ie=this.Nm}};dh.prototype.hideDefaultContextMenu=dh.prototype.$K=function(){this.Ie!==p&&this.Ie===this.Nm&&(x.qt.style.display="none",x.pt.style.display="none",x.pt.removeEventListener("click",this.eC,q),this.Ie=p)};
x.g(dh,"currentContextMenu",dh.prototype.Ie);x.defineProperty(dh,{Ie:"currentContextMenu"},t("SA"),ba("SA"));x.u(dh,{KL:"mouseDownPoint"},t("BB"));function eh(){cf.call(this);this.name="DragSelecting";this.Om=175;this.sB=q;var a=new z;a.Fd="Tool";a.Vi=q;var b=new V;b.name="SHAPE";b.lb="Rectangle";b.fill=p;b.stroke="magenta";b.position=new K(0,0);a.add(b);this.cj=a}x.S("DragSelectingTool",eh);x.Ja(eh,cf);
eh.prototype.canStart=eh.prototype.wf=function(){if(!this.isEnabled)return q;var a=this.h;if(a===p||!a.me)return q;var b=a.P;return!b.left||a.Ma!==this&&(!this.isBeyondDragSize()||b.timestamp-a.Ac.timestamp<this.wv||a.ds(b.O,i)!==p)?q:i};eh.prototype.doActivate=eh.prototype.Kh=function(){var a=this.h;a!==p&&(this.Z=i,a.Hc=i,a.Ab=i,a.add(this.od),this.doMouseMove())};eh.prototype.doDeactivate=eh.prototype.Ji=function(){var a=this.h;a!==p&&(a.remove(this.od),a.Ab=q,this.Z=a.Hc=q,a.Eb())};
eh.prototype.doMouseMove=eh.prototype.Vg=function(){var a=this.h;if(a!==p&&this.Z&&this.od!==p){var b=this.computeBoxBounds();this.od.Le("SHAPE").za=b.size;this.od.position=b.position;a.Eb()}};eh.prototype.doMouseUp=eh.prototype.te=function(){if(this.Z){var a=this.h;a.remove(this.od);try{a.zc="wait",this.selectInRect(this.computeBoxBounds())}finally{a.zc=""}}this.stopTool()};eh.prototype.computeBoxBounds=eh.prototype.vG=function(){var a=this.h;return a===p?new L(0,0,0,0):new L(a.Ac.O,a.P.O)};
eh.prototype.selectInRect=eh.prototype.gM=function(a){var b=this.h;if(b!==p){var c=b.P;b.Ea("ChangingSelection");a=b.gm(a,p,function(a){return a instanceof z&&a.Tk()},this.ND);if(c.Wk)if(c.shift)for(a=a.l;a.next();)c=a.value,c.Va&&(c.Va=q);else for(a=a.l;a.next();)c=a.value,c.Va=!c.Va;else{if(!c.shift){for(var d=new H(z),e=b.selection.l;e.next();)c=e.value,a.contains(c)||d.add(c);for(d=d.l;d.next();)c=d.value,c.Va=q}for(a=a.l;a.next();)c=a.value,c.Va||(c.Va=i)}b.Ea("ChangedSelection")}};
x.g(eh,"delay",eh.prototype.wv);x.defineProperty(eh,{wv:"delay"},t("Om"),ba("Om"));x.g(eh,"isPartialInclusion",eh.prototype.ND);x.defineProperty(eh,{ND:"isPartialInclusion"},t("sB"),ba("sB"));x.g(eh,"box",eh.prototype.od);x.defineProperty(eh,{od:"box"},t("cj"),ba("cj"));function fh(){cf.call(this);this.name="DragZooming";var a=new z;a.Fd="Tool";a.Vi=q;var b=new V;b.name="SHAPE";b.lb="Rectangle";b.fill=p;b.stroke="magenta";b.position=new K(0,0);a.add(b);this.cj=a;this.kC=p}x.S("DragZoomingTool",fh);
x.Ja(fh,cf);fh.prototype.canStart=fh.prototype.wf=function(){if(!this.isEnabled)return q;var a=this.h;return a===p||!a.P.left||a.Ma!==this&&!this.isBeyondDragSize()?q:i};fh.prototype.doActivate=fh.prototype.Kh=function(){var a=this.h;a!==p&&(this.Z=i,a.Hc=i,a.Ab=i,a.add(this.od),this.doMouseMove())};fh.prototype.doDeactivate=fh.prototype.Ji=function(){var a=this.h;a!==p&&(a.remove(this.od),a.Ab=q,this.Z=a.Hc=q,a.Eb())};
fh.prototype.doMouseMove=fh.prototype.Vg=function(){var a=this.h;if(a!==p&&this.Z&&this.od!==p){var b=this.computeBoxBounds();this.od.Le("SHAPE").za=b.size;this.od.position=b.position;a.Eb()}};fh.prototype.doMouseUp=fh.prototype.te=function(){if(this.Z){var a=this.h;a.remove(this.od);try{a.zc="wait",this.zoomToRect(this.computeBoxBounds())}finally{a.zc=""}}this.stopTool()};
fh.prototype.computeBoxBounds=fh.prototype.vG=function(){var a=this.h;if(a===p)return new L(0,0,0,0);var b=a.Ac.O,c=a.P.O,a=c.x-b.x,d=c.y-b.y,e=this.at;e===p&&(e=this.h);if(e===p)return new L(b,c);e=e.Ya;if(0===e.height||0===d)return new L(b,c);e=e.width/e.height;Math.abs(a/d)<e?(c=b.x+a,a=b.y+Math.ceil(Math.abs(a)/e)*(0>d?-1:1)):(c=b.x+Math.ceil(Math.abs(d)*e)*(0>a?-1:1),a=b.y+d);return new L(b,new K(c,a))};
fh.prototype.zoomToRect=fh.prototype.HI=function(a){if(!(0.1>a.width)){var b=this.at;b===p&&(b=this.h);b!==p&&(b.scale=Math.min(b.Ya.width*b.scale/a.width,b.Oh),b.position=new K(a.x,a.y))}};x.g(fh,"box",fh.prototype.od);x.defineProperty(fh,{od:"box"},t("cj"),ba("cj"));x.g(fh,"zoomedDiagram",fh.prototype.at);x.defineProperty(fh,{at:"zoomedDiagram"},t("kC"),ba("kC"));
function gh(){cf.call(this);this.name="Panning";this.Sx=new K;this.dj=q;var a=this;this.TB=function(){document.removeEventListener("scroll",a.TB,q);a.stopTool()}}x.S("PanningTool",gh);x.Ja(gh,cf);gh.prototype.canStart=gh.prototype.wf=function(){if(!this.isEnabled)return q;var a=this.h;return a===p||!a.uf&&!a.vf||!a.P.left||a.Ma!==this&&!this.isBeyondDragSize()?q:i};
gh.prototype.doActivate=gh.prototype.Kh=function(){var a=this.h;a!==p&&(this.dj?(a.P.bubbles=i,document.addEventListener("scroll",this.TB,q)):(a.zc="move",a.Hc=i,this.Sx=a.position.copy()),this.Z=i)};gh.prototype.doDeactivate=gh.prototype.Ji=function(){var a=this.h;a!==p&&(a.zc="",this.Z=a.Hc=q)};gh.prototype.doCancel=gh.prototype.Qj=function(){var a=this.h;a!==p&&(a.position=this.Sx,a.Hc=q);this.stopTool()};gh.prototype.doMouseMove=gh.prototype.Vg=function(){this.move()};
gh.prototype.doMouseUp=gh.prototype.te=function(){this.move();this.stopTool()};gh.prototype.move=function(){var a=this.h;if(this.Z&&a)if(this.dj)a.P.bubbles=i;else{var b=a.position,c=a.Ac.O,d=a.P.O,e=b.x+c.x-d.x,c=b.y+c.y-d.y;a.uf||(e=b.x);a.vf||(c=b.y);a.position=new K(e,c);a.Zg()}};x.g(gh,"bubbles",gh.prototype.bubbles);x.defineProperty(gh,{bubbles:"bubbles"},t("dj"),ba("dj"));x.g(gh,"originalPosition",gh.prototype.SH);x.u(gh,{SH:"originalPosition"},t("Sx"));
function hh(){cf.call(this);this.name="TextEditing";this.$w=this.UA=this.vy=p;this.jy=ih;this.Ej=p;this.cb=jh;this.Ik=p}x.S("TextEditingTool",hh);x.Ja(hh,cf);var th;hh.LostFocus=th=x.s(hh,"LostFocus",0);var uh;hh.MouseDown=uh=x.s(hh,"MouseDown",1);var vh;hh.Tab=vh=x.s(hh,"Tab",2);var wh;hh.Enter=wh=x.s(hh,"Enter",3);hh.SingleClick=x.s(hh,"SingleClick",0);var ih;hh.SingleClickSelected=ih=x.s(hh,"SingleClickSelected",1);
var jh=x.s(hh,"StateNone",0),xh=x.s(hh,"StateActive",1),yh=x.s(hh,"StateEditing",2),zh=x.s(hh,"StateEditing2",3),Ah=x.s(hh,"StateValidating",4),Bh=x.s(hh,"StateValidated",5);x.g(hh,"textBlock",hh.prototype.ug);x.defineProperty(hh,{ug:"textBlock"},t("vy"),ba("vy"));x.g(hh,"currentTextEditor",hh.prototype.Ug);x.defineProperty(hh,{Ug:"currentTextEditor"},t("UA"),ba("UA"));x.g(hh,"defaultTextEditor",hh.prototype.UC);x.defineProperty(hh,{UC:"defaultTextEditor"},t("$w"),ba("$w"));x.g(hh,"starting",hh.prototype.PE);
x.defineProperty(hh,{PE:"starting"},t("jy"),function(a){this.jy!==a&&(u&&x.pb(a,hh,hh,"starting"),this.jy=a)});hh.prototype.canStart=hh.prototype.wf=function(){if(!this.isEnabled)return q;var a=this.h;if(a===p||a.hb||!a.P.left||this.isBeyondDragSize())return q;a=a.qd(a.P.O,p,function(a){return a instanceof ra});if(!(a instanceof ra)||!a.yv)return q;a=a.fa;return a===p||this.PE===ih&&!a.Va?q:i};hh.prototype.doStart=hh.prototype.fz=function(){!this.Z&&this.ug!==p&&this.doActivate()};
hh.prototype.doActivate=hh.prototype.Kh=function(){if(!this.Z){var a=this.h;if(a!==p){var b=this.ug;b===p&&(b=a.qd(a.P.O,function(a){return a instanceof ra?a:p}),b=b instanceof ra?b:p);if(b!==p&&(this.ug=b,b.fa!==p)){this.Z=i;this.cb=xh;this.jc(this.name);var c=this.UC,d=q;b.oA!==p&&(c=b.oA);c!==p&&!c.FA&&(d=i);if(c===p){c=document.createElement("textarea");c.FA=i;this.$w=c;var e=this.ug.copy();c.addEventListener("input",function(){e.text=this.value;Ch(e,Infinity,Infinity);this.style.width=20+e.Ba.width*
this.AI+"px";this.rows=e.Gl},q);c.addEventListener("keydown",function(a){var b=a.which,c=this.textEditingTool;if(c!==p)if(13==b)c.By(wh);else{if(9==b)return c.By(vh),a.preventDefault(),q;27==b&&(c.doCancel(),c.h&&c.h.focus())}},q);c.addEventListener("focus",function(){var a=this.textEditingTool;a.cb===xh?a.cb=yh:a.cb===Bh?a.cb=zh:a.cb===zh&&(a.cb=yh)},q)}if(c.FA){var g=b.Tb(Kb),h=a.position,j=a.scale,k=b.hm()*j,l=b.Na.width*k;Dh(b,b.font);g=new K((g.x-h.x)*j,(g.y-h.y)*j);c.value=b.text;a.Ii.style.font=
b.font;c.style.font="inherit";c.style.fontSize=100*k+"%";c.style.lineHeight="normal";l=20+l;c.style.width=l+"px";c.style.height="";c.rows=b.Gl;a.Ii.appendChild(c);c.style.left=(g.x-l/2|0)+"px";c.style.top=(g.y-c.clientHeight/2|0)+"px";c.style.textAlign=b.textAlign}else a.Ii.appendChild(c);c.style.position="absolute";c.style.zIndex=100;c.className="start";c.textEditingTool=this;c.AI=k;if(d&&c.onActivate!==f)c.onActivate();this.Ug=c;c.focus()}}}};
hh.prototype.doCancel=hh.prototype.Qj=function(){this.Ik!==p&&(this.Ug.style.border=this.Ik,this.Ik=p);this.stopTool()};hh.prototype.doMouseUp=hh.prototype.te=function(){!this.Z&&this.canStart()&&this.doActivate()};hh.prototype.doMouseDown=hh.prototype.Zr=function(){this.Z&&this.By(uh)};
hh.prototype.acceptText=hh.prototype.By=function(a){switch(a){case uh:if(this.cb===Bh||this.cb===zh)this.Ug.focus();else if(this.cb===xh||this.cb===yh)this.cb=Ah,Eh(this);break;case th:case wh:case vh:if(wh===a&&this.vy.Nv===i)break;if(this.cb===xh||this.cb===yh)this.cb=Ah,Eh(this)}};
function Eh(a){if(a.ug!==p&&a.Ug!==p){var b=a.ug,c=a.ug.text,d=a.Ug.value,e="",e="function"===typeof d?d():d;if(!a.isValidText(a.ug,c,e)){a.cb=yh;b.as!==p&&b.as(a,c,e);a.Ik===p&&(a.Ik=a.Ug.style.border,a.Ug.style.border="3px solid red");a.Ug.focus();return}a.cb=Bh;c!==e&&(a.ug.text=e);a.Ze=a.name;b=a.h;b!==p&&b.Ea("TextEdited",a.ug,c);a.stopTool();b!==p&&b.focus()}a.Ik!==p&&(a.Ug.style.border=a.Ik,a.Ik=p)}
hh.prototype.doDeactivate=hh.prototype.Ji=function(){var a=this.h;if(a!==p){this.Z&&this.Zj();this.cb=jh;this.ug=p;if(this.Ug!==p){var b=this.Ug;if(b.onDeactivate!==f)b.onDeactivate();b!==p&&a.Ii.removeChild(b)}this.Z=q}};hh.prototype.isValidText=hh.prototype.tL=function(a,b,c){x.i(a,ra,hh,"isValidText:textblock");var d=this.Us;if(d!==p&&!d(a,b,c))return q;d=a.Us;return d!==p&&!d(a,b,c)?q:i};x.g(hh,"textValidation",hh.prototype.Us);
x.defineProperty(hh,{Us:"textValidation"},t("Ej"),function(a){this.Ej!==a&&(this.Ej=a)});function We(){cf.call(this);this.name="ToolManager";this.CB=new H(cf);this.DB=new H(cf);this.EB=new H(cf);this.lB=this.mB=1E3;this.xt=this.Xw=p;this.FB=ff}x.S("ToolManager",We);x.Ja(We,cf);var ff;We.WheelScroll=ff=x.s(We,"WheelScroll",0);var ef;We.WheelZoom=ef=x.s(We,"WheelZoom",1);x.g(We,"mouseWheelBehavior",We.prototype.sm);x.defineProperty(We,{sm:"mouseWheelBehavior"},t("FB"),ba("FB"));
We.prototype.initializeStandardTools=We.prototype.fL=function(){this.lC=new ch;this.rE=new Jg;this.UD=new Mg;this.zE=new Sg;this.CE=new $g;this.Ez=new xa;this.ue=new gf;this.ZC=new eh;this.$r=new fh;this.$r.isEnabled=q;this.lE=new gh;this.HC=new dh;this.jw=new hh;this.DC=new za;this.EC=new bh};
We.prototype.doMouseDown=We.prototype.Zr=function(){var a=this.h;if(a!==p){var b=a.wa;b.Py&&0!==b.ll&&x.trace("WARNING: In ToolManager.doMouseDown: UndoManager.transactionLevel is not zero");for(var b=this.Te.length,c=0;c<b;c++){var d=this.Te.ia(c);if(d.canStart()){a.Ma=d;a.Ma===d&&(d.Z||d.doActivate(),d.doMouseDown());return}}1===a.P.button&&(this.sm===ff?this.sm=ef:this.sm===ef&&(this.sm=ff));this.doActivate();this.standardWaitAfter(this.sz)}};
We.prototype.doMouseMove=We.prototype.Vg=function(){var a=this.h;if(a!==p){if(this.Z)for(var b=this.kg.length,c=0;c<b;c++){var d=this.kg.ia(c);if(d.canStart()){a.Ma=d;a.Ma===d&&(d.Z||d.doActivate(),d.doMouseMove());return}}this.standardMouseOver();this.isBeyondDragSize()&&this.standardWaitAfter(this.Z?this.sz:this.AD)}};We.prototype.doCurrentObjectChanged=We.prototype.FG=function(a,b){var c=this.Xk;c!==p&&!(b!==p&&(b===c||b.Qi(c)))&&this.hideToolTip()};
We.prototype.doWaitAfter=We.prototype.HG=function(){this.h&&this.h.Ca&&(this.doMouseHover(),this.Z||this.doToolTip())};We.prototype.doMouseHover=We.prototype.iK=function(){var a=this.h;if(a!==p){var b=a.P;b.Gd===p&&(b.Gd=a.qd(b.O,p,p));var c=b.Gd;if(c!==p)for(;c!==p;){a=this.Z?c.Bs:c.Cs;if(a!==p&&(a(b,c),b.de))break;c=c.ea}else a=this.Z?a.Bs:a.Cs,a!==p&&a(b)}};
We.prototype.doToolTip=We.prototype.nK=function(){var a=this.h;if(a!==p){var b=a.P;b.Gd===p&&(b.Gd=a.qd(b.O,p,p));b=b.Gd;if(b!==p){if(!(b===this.Xk||b.Qi(this.Xk))){for(;b!==p;){a=b.Xs;if(a!==p){this.showToolTip(a,b);return}b=b.ea}this.hideToolTip()}}else a=a.Xs,a!==p?this.showToolTip(a,p):this.hideToolTip()}};
We.prototype.showToolTip=We.prototype.kM=function(a,b){x.i(a,Ye,We,"showToolTip:tooltip");b!==p&&x.i(b,U,We,"showToolTip:obj");var c=this.h;if(c!==p){a!==this.Xk&&this.hideToolTip();a.Fd="Tool";a.Vi=q;a.scale=1/c.scale;c.add(a);if(b!==p&&b!==this.xt){var d=p,e=b.fa;e!==p&&(d=e.data);a.Ec=b;a.data=d}else b===p&&(a.data=c.da);if(b===p||b!==this.xt)a.Ki(),this.positionToolTip(a,b);this.Xw=a;this.xt=b;c.Eb()}};
We.prototype.positionToolTip=We.prototype.TL=function(a){var b=this.h;if(b!==p){var c=b.P.O.copy(),d=a.Ba,b=b.Ya;c.x+d.width>b.right&&(c.x-=d.width+5);c.y=c.y+20+d.height>b.bottom?c.y-(d.height+5):c.y+20;a.position=c}};We.prototype.hideToolTip=We.prototype.aL=function(){if(this.Xk!==p){var a=this.h;a!==p&&(this.Xk.data=p,this.Xk.Ec=p,a.remove(this.Xk),this.xt=this.Xw=p,a.Eb())}};x.u(We,{Xk:"currentToolTip"},t("Xw"));
We.prototype.doMouseUp=We.prototype.te=function(){this.cancelWaitAfter();if(this.Z){var a=this.h;if(a===p)return;for(var b=this.$g.length,c=0;c<b;c++){var d=this.$g.ia(c);if(d.canStart()){a.Ma=d;a.Ma===d&&(d.Z||d.doActivate(),d.doMouseUp());return}}}this.doDeactivate()};We.prototype.doMouseWheel=We.prototype.GG=function(){this.standardMouseWheel()};We.prototype.doKeyDown=We.prototype.dz=function(){var a=this.h;a!==p&&a.dg.doKeyDown()};
We.prototype.doKeyUp=We.prototype.ez=function(){var a=this.h;a!==p&&a.dg.doKeyUp()};We.prototype.doCancel=We.prototype.Qj=function(){mf!==p&&mf.doCancel();cf.prototype.Qj.call(this)};We.prototype.findTool=We.prototype.Me=function(a){x.k(a,"string",We,"findTool:name");for(var b=this.Te.length,c=0;c<b;c++){var d=this.Te.ia(c);if(d.name===a)return d}b=this.kg.length;for(c=0;c<b;c++)if(d=this.kg.ia(c),d.name===a)return d;b=this.$g.length;for(c=0;c<b;c++)if(d=this.$g.ia(c),d.name===a)return d;return p};
We.prototype.replaceTool=We.prototype.eI=function(a,b){x.k(a,"string",We,"replaceTool:name");b!==p&&(x.i(b,cf,We,"replaceTool:newtool"),b.h&&b.h!==this.h&&x.m("Cannot share tools between Diagrams: "+b.toString()),b.Ef(this.h));for(var c=this.Te.length,d=0;d<c;d++){var e=this.Te.ia(d);if(e.name===a)return b!==p?this.Te.dw(d,b):this.Te.Ve(d),e}c=this.kg.length;for(d=0;d<c;d++)if(e=this.kg.ia(d),e.name===a)return b!==p?this.kg.dw(d,b):this.kg.Ve(d),e;c=this.$g.length;for(d=0;d<c;d++)if(e=this.$g.ia(d),
e.name===a)return b!==p?this.$g.dw(d,b):this.$g.Ve(d),e;return p};function Fh(a,b,c,d){x.k(b,"string",We,"replaceStandardTool:name");x.i(d,H,We,"replaceStandardTool:list");c!==p&&(x.i(c,cf,We,"replaceStandardTool:newtool"),c.h&&c.h!==a.h&&x.m("Cannot share tools between Diagrams: "+c.toString()),c.name=b,c.Ef(a.h));a.Me(b)?a.eI(b,c):c!==p&&d.add(c)}x.u(We,{Te:"mouseDownTools"},t("CB"));x.u(We,{kg:"mouseMoveTools"},t("DB"));x.u(We,{$g:"mouseUpTools"},t("EB"));x.g(We,"hoverDelay",We.prototype.AD);
x.defineProperty(We,{AD:"hoverDelay"},t("mB"),ba("mB"));x.g(We,"holdDelay",We.prototype.sz);x.defineProperty(We,{sz:"holdDelay"},t("lB"),ba("lB"));x.g(We,"actionTool",We.prototype.lC);x.defineProperty(We,{lC:"actionTool"},function(){return this.Me("Action")},function(a){Fh(this,"Action",a,this.Te)});x.g(We,"relinkingTool",We.prototype.rE);x.defineProperty(We,{rE:"relinkingTool"},function(){return this.Me("Relinking")},function(a){Fh(this,"Relinking",a,this.Te)});x.g(We,"linkReshapingTool",We.prototype.UD);
x.defineProperty(We,{UD:"linkReshapingTool"},function(){return this.Me("LinkReshaping")},function(a){Fh(this,"LinkReshaping",a,this.Te)});x.g(We,"resizingTool",We.prototype.zE);x.defineProperty(We,{zE:"resizingTool"},function(){return this.Me("Resizing")},function(a){Fh(this,"Resizing",a,this.Te)});x.g(We,"rotatingTool",We.prototype.CE);x.defineProperty(We,{CE:"rotatingTool"},function(){return this.Me("Rotating")},function(a){Fh(this,"Rotating",a,this.Te)});x.g(We,"linkingTool",We.prototype.Ez);
x.defineProperty(We,{Ez:"linkingTool"},function(){return this.Me("Linking")},function(a){Fh(this,"Linking",a,this.kg)});x.g(We,"draggingTool",We.prototype.ue);x.defineProperty(We,{ue:"draggingTool"},function(){return this.Me("Dragging")},function(a){Fh(this,"Dragging",a,this.kg)});x.g(We,"dragSelectingTool",We.prototype.ZC);x.defineProperty(We,{ZC:"dragSelectingTool"},function(){return this.Me("DragSelecting")},function(a){Fh(this,"DragSelecting",a,this.kg)});x.g(We,"panningTool",We.prototype.lE);
x.defineProperty(We,{lE:"panningTool"},function(){return this.Me("Panning")},function(a){Fh(this,"Panning",a,this.kg)});x.g(We,"dragZoomingTool",We.prototype.$r);x.defineProperty(We,{$r:"dragZoomingTool"},function(){return this.Me("DragZooming")},function(a){Fh(this,"DragZooming",a,this.kg)});x.g(We,"contextMenuTool",We.prototype.HC);x.defineProperty(We,{HC:"contextMenuTool"},function(){return this.Me("ContextMenu")},function(a){Fh(this,"ContextMenu",a,this.$g)});x.g(We,"textEditingTool",We.prototype.jw);
x.defineProperty(We,{jw:"textEditingTool"},function(){return this.Me("TextEditing")},function(a){Fh(this,"TextEditing",a,this.$g)});x.g(We,"clickCreatingTool",We.prototype.DC);x.defineProperty(We,{DC:"clickCreatingTool"},function(){return this.Me("ClickCreating")},function(a){Fh(this,"ClickCreating",a,this.$g)});x.g(We,"clickSelectingTool",We.prototype.EC);x.defineProperty(We,{EC:"clickSelectingTool"},function(){return this.Me("ClickSelecting")},function(a){Fh(this,"ClickSelecting",a,this.$g)});
function Ie(){x.lc(this);this.ca=p;this.nb=new H(z);this.Gb="";this.si=1;this.Ax=q;this.Tg=this.kk=this.jk=this.ik=this.hk=this.fk=this.ek=this.gk=this.dk=this.mk=this.ck=this.lk=this.bk=this.ak=i;this.NB=[]}x.S("Layer",Ie);Ie.prototype.Ef=ba("ca");
Ie.prototype.toString=function(a){a===f&&(a=0);var b='Layer "'+this.name+'"';if(0>=a)return b;for(var c=0,d=0,e=0,g=0,h=0,j=this.nb.l;j.next();){var k=j.value;k instanceof B?e++:k instanceof A?d++:k instanceof F?g++:k instanceof Ye?h++:c++}j="";0<c&&(j+=c+" Parts ");0<d&&(j+=d+" Nodes ");0<e&&(j+=e+" Groups ");0<g&&(j+=g+" Links ");0<h&&(j+=h+" Adornments ");if(1<a)for(c=this.nb.l;c.next();)d=c.value,j+="\n    "+d.toString(a-1),(e=d.data)&&x.gc(e)&&(j+=" #"+x.gc(e)),d instanceof A?j+=" "+Wd(e):d instanceof
F&&(j+=" "+Wd(d.ja)+" "+Wd(d.na));return b+" "+this.nb.count+": "+j};Ie.prototype.findObjectAt=Ie.prototype.qd=function(a,b,c){b===f&&(b=p);c===f&&(c=p);var d=this.nb,e=q;this.h.Ya.Aa(a)&&(e=i);for(var g=new K,h=d.length;h--;){var j=d.ia(h);if(!(e===i&&j.je===q)&&j.tb()&&($a(g.set(a),j.le),j=j.qd(g,b,c),j!==p&&(b!==p&&(j=b(j)),j&&(c===p||c(j)))))return j}return p};
Ie.prototype.findObjectsAt=Ie.prototype.ho=function(a,b,c,d){b===f&&(b=p);c===f&&(c=p);!(d instanceof H)&&!(d instanceof qa)&&(d=new qa(U));var e=this.nb,g=q;this.h.Ya.Aa(a)&&(g=i);for(var h=new K,j=e.length;j--;){var k=e.ia(j);!(g===i&&k.je===q)&&k.tb()&&($a(h.set(a),k.le),k.ho(h,b,c,d)&&(b!==p&&(k=b(k)),k&&(c===p||c(k))&&d.add(k)))}return d};
Ie.prototype.findObjectsIn=Ie.prototype.gm=function(a,b,c,d,e){b===f&&(b=p);c===f&&(c=p);d===f&&(d=q);!(e instanceof H)&&!(e instanceof qa)&&(e=new qa(U));var g=this.nb,h=q;this.h.Ya.Zl(a)&&(h=i);for(var j=g.length;j--;){var k=g.ia(j);!(h===i&&k.je===q)&&(k.tb()&&k.gm(a,b,c,d,e))&&(b!==p&&(k=b(k)),k&&(c===p||c(k))&&e.add(k))}return e};
Ie.prototype.findObjectsNear=Ie.prototype.io=function(a,b,c,d,e){c===f&&(c=p);d===f&&(d=p);!(e instanceof H)&&!(e instanceof qa)&&(e=new qa(U));var g=this.nb,h=q;this.h.Ya.Aa(a)&&(h=i);for(var j=new K,k=g.length;k--;){var l=g.o[k];if(!(h===i&&l.je===q)&&l.tb()){$a(j.set(a),l.le);var m=new K(a.x+b,a.y);$a(m,l.le);l.io(j,m,c,d,e)&&(c!==p&&(l=c(l)),l&&(d===p||d(l))&&e.add(l))}}return e};da=Ie.prototype;
da.Je=function(a,b,c){if(this.visible){a.globalAlpha=this.si;var d=this.nb,c=c?c:b.Ya,e=[],g=b.scale;if(b.Ck)for(var h=d.length,j=0;j<h;j++){var k=d.o[j];k.wB=j;if(k instanceof F&&(Rg(k)&&e.push(k),k.Bi===q))continue;var l=k.ya;l.Oe(c)?(1<l.width*g||1<l.height*g?k.Je(a,b):Gh(k,a),k.je=i):k.je=q}else{h=d.length;for(j=0;j<h;j++)if(k=d.o[j],k.je){if(k instanceof F&&(Rg(k)&&e.push(k),k.Bi===q))continue;l=k.ya;1<l.width*g||1<l.height*g?k.Je(a,b):Gh(k,a)}}this.NB=e;a.globalAlpha=1}};
da.j=function(a,b,c,d,e){var g=this.h;g!==p&&g.Uc(Td,a,this,b,c,d,e)};da.bl=function(a,b,c){var d=this.nb;b.H=this;if(a>=d.count)a=d.count;else if(d.ia(a)===b)return-1;d.Bc(a,b);b.ns();d=this.h;d!==p&&(c?Hh(d):d.bl(b));b instanceof B&&this.gw(b);return a};da.Qd=function(a,b,c){var d=this.nb;if(0>a||a>=d.length){if(a=d.indexOf(b),0>a)return-1}else if(d.ia(a)!==b&&(a=d.indexOf(b),0>a))return-1;b.os();d.Ve(a);d=this.h;d!==p&&(c?Hh(d):d.Qd(b));b.H=p;return a};
da.gw=function(a){for(;a!==p;){if(a.Ka===this){var b=a;if(b.Ic.next()){for(var c=-1,d=-1,e=this.nb.o,g=e.length,h=0;h<g;h++){var j=e[h];if(j===b&&(c=h,0<=d))break;if(0>d&&j.Za===b&&(d=h,0<=c))break}!(0>d)&&d<c&&(e=this.nb,e.Ve(c),e.Bc(d,b))}}a=a.Za}};da.clear=function(){for(var a=this.nb.vg(),b=a.length,c=0;c<b;c++)a[c].je=q,this.Qd(-1,a[c])};x.u(Ie,{Ui:"parts"},function(){return this.nb.l});x.u(Ie,{OL:"partsBackwards"},function(){return this.nb.oo});x.u(Ie,{h:"diagram"},t("ca"));x.g(Ie,"name",Ie.prototype.name);
x.defineProperty(Ie,{name:"name"},t("Gb"),function(a){x.k(a,"string",Ie,"name");var b=this.Gb;if(b!==a){var c=this.h;if(c!==p){""===b&&x.m("Cannot rename default Layer to: "+a);for(c=c.pm;c.next();)c.value.name===a&&x.m("Layer.name is already present in this diagram: "+a)}this.Gb=a;this.j("name",b,a);for(a=this.nb.l;a.next();)a.value.Fd=this.Gb}});x.g(Ie,"opacity",Ie.prototype.opacity);
x.defineProperty(Ie,{opacity:"opacity"},t("si"),function(a){var b=this.si;b!==a&&(x.k(a,"number",Ie,"opacity"),(0>a||1<a)&&x.ra(a,"0 <= val <= 1",Ie,"opacity"),this.si=a,this.j("opacity",b,a),a=this.h,a!==p&&Hh(a))});x.g(Ie,"isTemporary",Ie.prototype.Cc);x.defineProperty(Ie,{Cc:"isTemporary"},t("Ax"),function(a){var b=this.Ax;b!==a&&(x.k(a,"boolean",Ie,"isTemporary"),this.Ax=a,this.j("isTemporary",b,a))});x.g(Ie,"visible",Ie.prototype.visible);
x.defineProperty(Ie,{visible:"visible"},t("Tg"),function(a){var b=this.Tg;if(b!==a){x.k(a,"boolean",Ie,"visible");this.Tg=a;this.j("visible",b,a);for(a=this.nb.l;a.next();)a.value.updateAdornments();a=this.h;a!==p&&Hh(a)}});x.g(Ie,"allowCopy",Ie.prototype.Gj);x.defineProperty(Ie,{Gj:"allowCopy"},t("ak"),function(a){var b=this.ak;b!==a&&(x.k(a,"boolean",Ie,"allowCopy"),this.ak=a,this.j("allowCopy",b,a))});x.g(Ie,"allowDelete",Ie.prototype.Qk);
x.defineProperty(Ie,{Qk:"allowDelete"},t("bk"),function(a){var b=this.bk;b!==a&&(x.k(a,"boolean",Ie,"allowDelete"),this.bk=a,this.j("allowDelete",b,a))});x.g(Ie,"allowTextEdit",Ie.prototype.Sn);x.defineProperty(Ie,{Sn:"allowTextEdit"},t("lk"),function(a){var b=this.lk;b!==a&&(x.k(a,"boolean",Ie,"allowTextEdit"),this.lk=a,this.j("allowTextEdit",b,a))});x.g(Ie,"allowGroup",Ie.prototype.Nn);
x.defineProperty(Ie,{Nn:"allowGroup"},t("ck"),function(a){var b=this.ck;b!==a&&(x.k(a,"boolean",Ie,"allowGroup"),this.ck=a,this.j("allowGroup",b,a))});x.g(Ie,"allowUngroup",Ie.prototype.Tn);x.defineProperty(Ie,{Tn:"allowUngroup"},t("mk"),function(a){var b=this.mk;b!==a&&(x.k(a,"boolean",Ie,"allowUngroup"),this.mk=a,this.j("allowUngroup",b,a))});x.g(Ie,"allowLink",Ie.prototype.Vl);
x.defineProperty(Ie,{Vl:"allowLink"},t("dk"),function(a){var b=this.dk;b!==a&&(x.k(a,"boolean",Ie,"allowLink"),this.dk=a,this.j("allowLink",b,a))});x.g(Ie,"allowRelink",Ie.prototype.Hj);x.defineProperty(Ie,{Hj:"allowRelink"},t("gk"),function(a){var b=this.gk;b!==a&&(x.k(a,"boolean",Ie,"allowRelink"),this.gk=a,this.j("allowRelink",b,a))});x.g(Ie,"allowMove",Ie.prototype.Rk);
x.defineProperty(Ie,{Rk:"allowMove"},t("ek"),function(a){var b=this.ek;b!==a&&(x.k(a,"boolean",Ie,"allowMove"),this.ek=a,this.j("allowMove",b,a))});x.g(Ie,"allowPrint",Ie.prototype.Qr);x.defineProperty(Ie,{Qr:"allowPrint"},t("fk"),function(a){var b=this.fk;b!==a&&(x.k(a,"boolean",Ie,"allowPrint"),this.fk=a,this.j("allowPrint",b,a))});x.g(Ie,"allowReshape",Ie.prototype.Pn);
x.defineProperty(Ie,{Pn:"allowReshape"},t("hk"),function(a){var b=this.hk;b!==a&&(x.k(a,"boolean",Ie,"allowReshape"),this.hk=a,this.j("allowReshape",b,a))});x.g(Ie,"allowResize",Ie.prototype.Qn);x.defineProperty(Ie,{Qn:"allowResize"},t("ik"),function(a){var b=this.ik;b!==a&&(x.k(a,"boolean",Ie,"allowResize"),this.ik=a,this.j("allowResize",b,a))});x.g(Ie,"allowRotate",Ie.prototype.Rn);
x.defineProperty(Ie,{Rn:"allowRotate"},t("jk"),function(a){var b=this.jk;b!==a&&(x.k(a,"boolean",Ie,"allowRotate"),this.jk=a,this.j("allowRotate",b,a))});x.g(Ie,"allowSelect",Ie.prototype.me);x.defineProperty(Ie,{me:"allowSelect"},t("kk"),function(a){var b=this.kk;b!==a&&(x.k(a,"boolean",Ie,"allowSelect"),this.kk=a,this.j("allowSelect",b,a))});
function w(a){function b(a){var b=a.toLowerCase(),c=new H("function");e.add(a,c);e.add(b,c);g.add(a,a);g.add(b,a)}function c(){document.removeEventListener("DOMContentLoaded",c,q);Ih(d)}x.lc(this);x.$A=[];this.xc=i;this.Wf=17;var d=this;document.body!==p?Ih(this):document.addEventListener("DOMContentLoaded",c,q);this.jb=new H(Ie);this.VB=this.UB=this.XB=this.WB=this.Pb=this.Bg=this.Ca=p;this.ob=(new K(NaN,NaN)).freeze();this.Rb=1;this.ux=(new K(NaN,NaN)).freeze();this.vx=NaN;this.ju=1E-4;this.eu=
100;this.ld=new Ya;this.dv=(new K(NaN,NaN)).freeze();this.Gt=(new L(NaN,NaN,NaN,NaN)).freeze();this.ql=Jh;this.ul=Cb;this.zk=Jh;this.Zm=Cb;this.Pt=this.Ot=Db;this.ph=new qa(U);this.oh=i;this.ij=new pa(F,L);this.Dt=i;this.oF=250;this.nF=1E3;this.hh=p;this.kt=(new gb(16,16,16,16)).freeze();this.aB=i;this.Cn=this.tf=q;this.Hp=i;this.yy=q;this.Eg=new Bd;this.Qc=new Bd;this.ac=new Bd;this.gj=p;this.Tu=-1;this.ly=q;this.ex=new pa("string",H);this.bx=new pa("string","string");var e=new pa("string",H),g=
new pa("string","string");b("BackgroundSingleClicked");b("BackgroundDoubleClicked");b("BackgroundContextClicked");b("ClipboardChanged");b("ClipboardPasted");b("DocumentBoundsChanged");b("ExternalObjectsDropped");b("InitialLayoutCompleted");b("LayoutCompleted");b("LinkDrawn");b("LinkRelinked");b("LinkReshaped");b("ObjectSingleClicked");b("ObjectDoubleClicked");b("ObjectContextClicked");b("PartCreated");b("PartResized");b("PartRotated");b("SelectionMoved");b("SelectionCopied");b("SelectionDeleting");
b("SelectionDeleted");b("SelectionGrouped");b("SelectionUngrouped");b("ChangingSelection");b("ChangedSelection");b("SubGraphCollapsed");b("SubGraphExpanded");b("TextEdited");b("TreeCollapsed");b("TreeExpanded");b("ViewportBoundsChanged");this.ex=e;this.bx=g;this.tu=new qa(A);this.Sl=new qa(B);this.Zt=new qa(F);this.nb=new qa(z);this.Vt=i;this.oB=q;this.av=dg;this.Ww=this.ax=this.Zu=p;this.wt="";this.up="auto";this.$h=this.Ai=this.mi=this.mu=this.ni=this.oi=this.pi=this.Zh=this.bi=this.Yh=p;this.xl=
i;this.Nw=q;this.Tw=p;this.zl=this.wi=this.IA=q;this.Ra=i;this.Nd=p;var h=this;this.zB=function(a){if(a.da===h.da&&h.Ra){h.Ra=q;try{var b=a.pd;""===a.Se&&b===Td&&Kh(h,a.object,a.propertyName)}finally{h.Ra=i}}};this.AB=function(a){if(a.da===h.da&&h.Ra){h.Ra=q;try{var b=a.pd,c=a.Se;if(""!==c)if(b===Td)if("linkFromKey"===c){var d=a.object,e=h.Af(d);if(e!==p){var g=a.newValue,s=h.fg(g);e.ja=s}}else if("linkToKey"===c)d=a.object,e=h.Af(d),e!==p&&(g=a.newValue,s=h.fg(g),e.na=s);else if("linkFromPortId"===
c){if(d=a.object,e=h.Af(d),e!==p){var v=a.newValue;"string"===typeof v&&(e.Lh=v)}}else if("linkToPortId"===c)d=a.object,e=h.Af(d),e!==p&&(v=a.newValue,"string"===typeof v&&(e.Xi=v));else if("nodeGroupKey"===c){var d=a.object,y=h.Tj(d);if(y!==p){var C=a.newValue;if(C!==f){var D=h.fg(C);y.Za=D instanceof B?D:p}else y.Za=p}}else if("linkLabelKeys"===c){if(d=a.object,e=h.Af(d),e!==p){var I=a.oldValue,E=a.newValue;if(x.isArray(I))for(var M=x.Yb(I),O=0;O<M;O++){var X=x.Jb(I,O),s=h.fg(X);s!==p&&(s.ad=p)}if(x.isArray(E)){M=
x.Yb(E);for(O=0;O<M;O++)X=x.Jb(E,O),s=h.fg(X),s!==p&&(s.ad=e)}}}else if("nodeParentKey"===c){var sa=a.object,ka=h.fg(a.newValue),va=h.cs(sa);if(va!==p){var Fa=va.Gv();Fa!==p?ka===p?h.remove(Fa):h.rd?Fa.ja=ka:Fa.na=ka:Lh(h,ka,va)}}else if("parentLinkCategory"===c){var sa=a.object,va=h.cs(sa),Ga=a.newValue;va!==p&&"string"===typeof Ga&&(Fa=va.Gv(),Fa!==p&&(Fa.Cd=Ga))}else if("nodeCategory"===c){var d=a.object,Za=h.Tj(d),Ga=a.newValue;Za!==p&&"string"===typeof Ga&&(Za.Cd=Ga)}else if("linkCategory"===
c){var d=a.object,pb=h.Af(d),Ga=a.newValue;pb!==p&&"string"===typeof Ga&&(pb.Cd=Ga)}else if("nodeDataArray"===c){var Wa=a.oldValue;Mh(h,Wa);var Ia=a.newValue;Nh(h,Ia)}else"linkDataArray"===c&&(Wa=a.oldValue,Mh(h,Wa),Ia=a.newValue,Oh(h,Ia));else if(b===Ud)Ia=a.newValue,"nodeDataArray"===c&&x.sb(Ia)?Ph(h,Ia):"linkDataArray"===c&&x.sb(Ia)?Qh(h,Ia):"linkLabelKeys"===c&&ye(Ia)&&(e=h.Af(a.object),s=h.fg(Ia),e!==p&&s!==p&&(s.ad=e));else if(b===Vd)Wa=a.oldValue,"nodeDataArray"===c&&x.sb(Wa)?Rh(h,Wa):"linkDataArray"===
c&&x.sb(Wa)?Rh(h,Wa):"linkLabelKeys"===c&&ye(Wa)&&(s=h.fg(Wa),s!==p&&(s.ad=p));else{if(b===Gd&&"SourceChanged"===c){var y=h.Tj(a.object),eb=a.propertyName;y!==p&&"string"===typeof eb&&(y.Bb(eb),h.da instanceof $d&&(e=h.Af(a.object),e!==p&&e.Bb(eb)))}}else if(b===Td){var Va=a.propertyName,d=a.object;if(d===h.da){if("nodeKeyProperty"===Va||"nodeCategoryProperty"===Va||"linkFromKeyProperty"===Va||"linkToKeyProperty"===Va||"linkFromPortIdProperty"===Va||"linkToPortIdProperty"===Va||"nodeIsLinkLabelProperty"===
Va||"linkLabelKeysProperty"===Va||"nodeIsGroupProperty"===Va||"nodeGroupKeyProperty"===Va||"nodeParentKeyProperty"===Va||"linkCategoryProperty"===Va)h.wa.zb||h.um()}else Kh(h,d,Va)}else if(b===Ud||b===Vd){var mb=a.pd===Ud,Ed=mb?a.Cf:a.Df,hf=mb?a.newValue:a.oldValue,ce=h.Dl.va(a.object);if(Array.isArray(ce))for(a=0;a<ce.length;a++){var cc=ce[a];"number"===typeof Ed&&((cc.type===Ug||cc.type===Sh)&&Ed++,mb?x.sb(hf)&&(Th(cc,hf,Ed),Uh(cc,cc)):(cc.Qd(Ed),Uh(cc,cc)))}}else if(b===Gd){var Fd=a.propertyName;
if("S"!==Fd[0]){if("CommittingTransaction"!==Fd){if("FinishedUndo"===Fd||"FinishedRedo"===Fd)h.wa.ii=i,Vh(h),h.wa.ii=q;h.Gg&&h.Ma.standardMouseOver();for(var jf=h.selection.l;jf.next();)jf.value.updateAdornments()}h.Cn=i;h.Zg();Zg(h)}else"StartingFirstTransaction"===Fd&&(!h.Vd&&!h.Gg)&&(h.Cn=i,h.Hp&&(h.tf=i),h.Zg())}}finally{h.Ra=i}}};this.ai=new pa(Object,z);this.rk=new pa(Object,F);this.Dl=new pa(Object,Array);this.Dk=q;this.bk=this.ak=this.bt=this.hi=i;this.dt=this.ct=q;this.it=this.gt=this.kk=
this.jk=this.ik=this.hk=this.fk=this.ek=this.gk=this.dk=this.ft=this.mk=this.ck=this.lk=i;this.rB=q;this.ht=this.et=this.Kt=this.Jt=i;this.Hu=this.Gu=16;this.$x=this.Fu=q;this.by=this.ay=this.Cj=this.Bj=p;this.ke=(new gb(5)).freeze();this.Ku=(new qa(z)).freeze();this.fu=999999999;this.Ck=this.Bk=this.fi=i;this.Xm=this.Wm=q;this.Nt=this.Mt=0;this.yd=p;this.jt=i;this.Gg=q;this.hd=p;this.KB=1;this.hC=(new L(NaN,NaN,NaN,NaN)).freeze();this.Bt=(new L(NaN,NaN,NaN,NaN)).freeze();this.Vd=q;this.zu=new qa;
Wh(this);this.Yt=this.Ht=this.su=this.XA=this.WA=this.YA=this.oj=this.wk=this.qi=p;Xh(this);this.Km=this.Xx=this.vd=p;this.Xb=new We;this.Xb.initializeStandardTools();this.Ma=this.vv=this.Xb;this.dg=new wa;this.da=new T;this.wi=i;this.Ub=new Yh;this.wi=q;a===f&&(a=document.createElement("div"));this.Lt=new Zh;$h(this,a);this.mr=p;this.Ex=1;this.uB=0;this.vB=new K;this.FF=500;this.GB=q;window.navigator&&0<window.navigator.userAgent.indexOf("534.30")&&(this.GB=i);this.xc=q}x.S("Diagram",w);
function Xh(a){a.qi=new pa("string",z);var b=new A,c=new ra;c.bind(new De("text","",Wd));b.add(c);a.YA=b;a.qi.add("",b);b=new A;c=new ra;c.stroke="brown";c.bind(new De("text","",Wd));b.add(c);a.qi.add("Comment",b);b=new A;b.Vi=q;b.My=q;c=new V;c.lb="Ellipse";c.fill="black";c.stroke=p;c.za=new cb(3,3);b.add(c);a.qi.add("LinkLabel",b);a.wk=new pa("string",B);b=new B;b.Lo="GROUPPANEL";b.type=ai;c=new ra;c.font="bold 12pt sans-serif";c.bind(new De("text","",Wd));b.add(c);c=new G(Sh);c.name="GROUPPANEL";
var d=new V;d.lb="Rectangle";d.fill="rgba(128,128,128,0.2)";d.stroke="black";c.add(d);d=new Vg;d.padding=new gb(5,5,5,5);c.add(d);b.add(c);a.WA=b;a.wk.add("",b);a.oj=new pa("string",F);b=new F;c=new V;c.Nh=i;b.add(c);c=new V;c.Bm="Standard";c.fill="black";c.stroke=p;c.ib=0;b.add(c);a.XA=b;a.oj.add("",b);b=new F;c=new V;c.Nh=i;c.stroke="brown";b.add(c);a.oj.add("Comment",b);b=new Ye;b.type=Sh;c=new V;c.fill=p;c.stroke="magenta";c.ib=2;b.add(c);c=new Vg;c.margin=new gb(1,1,1,1);b.add(c);a.su=b;a.Ht=
b;b=new Ye;b.type=Kg;c=new V;c.Nh=i;c.fill=p;c.stroke="magenta";c.ib=0;b.add(c);a.Yt=b}
function Ih(a){var b=document.createElement("p");b.style.width="100%";b.style.height="200px";var c=document.createElement("div");c.style.position="absolute";c.style.visibility="hidden";c.style.width="200px";c.style.height="150px";c.style.overflow="hidden";c.appendChild(b);document.body.appendChild(c);var d=b.offsetWidth;c.style.overflow="scroll";b=b.offsetWidth;d===b&&(b=c.clientWidth);document.body.removeChild(c);a.Wf=d-b}
w.prototype.toString=function(a){a===f&&(a=0);var b="";this.id&&(b=this.id);this.Ii&&this.Ii.id&&(b=this.Ii.id);b='Diagram "'+b+'"';if(0>=a)return b;for(var c=this.jb.l;c.next();)b+="\n  "+c.value.toString(a-1);return b};w.prototype.checkProperties=w.prototype.GJ=function(){return x.pG(this)};w.fromDiv=function(a){var b=a;"string"===typeof a&&(b=document.getElementById(a));return b instanceof HTMLDivElement&&b.ca instanceof w?b.ca:p};x.g(w,"div",w.prototype.Ii);
x.defineProperty(w,{Ii:"div"},t("Pb"),function(a){a!==p&&x.i(a,HTMLDivElement,w,"div");if(this.Pb!==a){var b=this.Pb;if(b!==p){delete b.ca;b.innerHTML="";this.Ca!==p&&(this.Ca.ca=p,this.Ca.removeEventListener("touchstart",this.YE,q),this.Ca.removeEventListener("touchmove",this.XE,q),this.Ca.removeEventListener("touchend",this.WE,q));b=this.Zu;if(b!==p){for(var c=b.CB,d=c.length,e=0;e<d;e++)c.o[e].cancelWaitAfter();c=b.DB;d=c.length;for(e=0;e<d;e++)c.o[e].cancelWaitAfter();c=b.EB;d=c.length;for(e=
0;e<d;e++)c.o[e].cancelWaitAfter()}b.cancelWaitAfter();this.Bg=this.Ca=p;window.removeEventListener("resize",this.Hz,q);window.removeEventListener("mousemove",this.yo,i);window.removeEventListener("mousedown",this.xo,i);window.removeEventListener("mouseup",this.Ao,i);window.removeEventListener("mousewheel",this.ah,i);window.removeEventListener("DOMMouseScroll",this.ah,i);window.removeEventListener("mouseout",this.zo,i)}this.Pb=p;if(a!==p){if(b=a.ca)b.Ii=p;$h(this,a)}}});
function Zh(){this.ZB=i;this.JI=q;this.LI=212;this.EF="63ad05bbe23a1786468a4c741b6d2e";if(this.EF===this._tk)this.jj=i;else{var a="p",b=window[x.Ta("76a715b2f73f148a")][x.Ta("72ba13b5")];if(x.Ta("77bb5bb2f32603de")===window[x.Ta("76a715b2f73f148a")][x.Ta("6aba19a7ec351488")])try{this.jj=!window[x.Ta("4da118b7ec2108")][x.Ta("5bb806bfea351a904a84515e1b6d38b6")][x.Ta("49bc19a1e6")][x.Ta("59bd04a1e6380fa5539b")][x.Ta("7bb8069ae7")]===x.Ta(x.Hy);if(this.jj===q)return;this.jj=!window[x.Ta("4da118b7ec2108")][x.Ta("5bb806bfea351a904a84515e1b6d38b6")][x.Ta("49bc19a1e6")][x.Ta("59bd04a1e6380fa5539b6c7a197c31bb4cfd3e")][x.Ta("7bb8069ae7")]===
x.Ta(x.Hy);if(this.jj===q)return}catch(c){}for(var d=b[x.Ta("76ad18b4f73e")],e=b[x.Ta("73a612b6fb191d")](x.Ta("35e7"))+2;e<d;e++)a+=b[e];d=a[x.Ta("73a612b6fb191d")](x.Ta(x.Hy));if(this.jj=!(0<d&&d<a[x.Ta("73a612b6fb191d")](x.Ta("35")))){a=document[x.Ta("69bc0fbfe6051381469f4c")];d=a.length;for(e=0;e<d;e++)if(b=a[e][x.Ta("79bb0581f63a1e97")],b!==p){for(var g=b.length,h=0;h<g;h++)if(b[h][x.Ta("69ad1ab6e0221496778e4767")]==x.Ta("02cncncn")){var j=b[h][x.Ta("69bc0fbfe6")][x.Ta("78a704b7e6242f8b53a8507f1b7b")];
if(!j)return;if(-1!==j.indexOf(x.Ta(x.qG))&&-1!==j.indexOf(x.Ta(x.rG))){this.jj=q;break}}if(this.jj===q)break}}this.MI=new K(NaN,NaN)}}Zh.prototype.Zs=function(a){a.mF();return 0<this.jj&&this!==this.ZB?i:q};Zh.prototype.t=Zh.prototype.vM=function(){this.ZB=p};
function $h(a,b){(b===f||b===p)&&x.m("Diagram setup requires an argument DIV.");a.Pb!==p&&x.m("Diagram has already completed setup.");"string"===typeof b?a.Pb=document.getElementById(b):b instanceof HTMLDivElement?a.Pb=b:x.m("No DIV or DIV id supplied: "+b);a.Pb===p&&x.m("Invalid DIV id; could not get element with id: "+b);a.Pb.ca!==f&&x.m("Invalid div id; div already has a Diagram associated with it.");"static"===window.getComputedStyle(a.Pb,p).position&&(a.Pb.style.position="relative");a.Pb.style["-webkit-tap-highlight-color"]=
"rgba(255, 255, 255, 0)";a.Pb.innerHTML="";a.Pb.ca=a;var c=document.createElement("canvas");if(!c.getContext||!c.getContext("2d"))a.Pb.innerHTML="This text is displayed if your browser does not support the Canvas HTML element.";else{c.innerHTML="This text is displayed if your browser does not support the Canvas HTML element.";c.style!==f&&(c.style.position="absolute",c.style.top="0px",c.style.left="0px",c.style.zIndex="2",c.style.BM="none",c.style.webkitUserSelect="none",c.style.MozUserSelect="none");
c.width=a.Pb.clientWidth||1;c.height=a.Pb.clientHeight||1;c.style!==f&&(document.defaultView&&document.defaultView.getComputedStyle)&&(a.WB=parseInt(document.defaultView.getComputedStyle(c,p).paddingLeft,10)||0,a.XB=parseInt(document.defaultView.getComputedStyle(c,p).paddingTop,10)||0,a.UB=parseInt(document.defaultView.getComputedStyle(c,p).borderLeftWidth,10)||0,a.VB=parseInt(document.defaultView.getComputedStyle(c,p).borderTopWidth,10)||0);a.Nt=0;a.Mt=0;if(document.body){var d=document.body.parentNode;
a.Nt=d.offsetTop||0;a.Mt=d.offsetLeft||0}else document.addEventListener("load",function(){if(document.body){var b=document.body.parentNode;a.Nt=b.offsetTop||0;a.Mt=b.offsetLeft||0}},q);c.ca=a;a.Ca=c;a.Bg=c.getContext("2d");d=a.Bg;a.mF=d[x.Ta("69ad0287f137159745844d7e")][x.Ta("78a118b7")](d,1,0,0,1,0,0);a.GA=d[x.Ta("7eba17a4ca3b1a8346")][x.Ta("78a118b7")](d,x.Zs,4,4);a.Pb.insertBefore(c,a.Pb.firstChild);if(a.aB!==p){var d=document.createElement("div"),e=document.createElement("div"),g=document.createElement("div"),
h=document.createElement("div");d.style.position="absolute";d.style.overflow="auto";d.style.width=a.Ca.width+"px";d.style.height=a.Ca.height+"px";d.style.zIndex="1";e.style.position="absolute";e.style.overflow="auto";e.style.width=a.Ca.width+"px";e.style.height=a.Ca.height+"px";e.style.zIndex="1";g.style.position="absolute";g.style.width="1px";g.style.height="1px";h.style.position="absolute";h.style.width="1px";h.style.height="1px";a.Pb.appendChild(d);a.Pb.appendChild(e);d.appendChild(g);e.appendChild(h);
d.onscroll=a.IB;d.onmousedown=a.JB;d.ca=a;d.QB=i;e.onscroll=a.IB;e.onmousedown=a.JB;e.ca=a;e.RB=i;a.Bj=d;a.Cj=e;a.ay=g;a.by=h}a.preventDefault=function(a){a.preventDefault();return q};a.yo=function(b){if(a.isEnabled){var c=a.Qc;window.TouchEvent&&c.kj!==p&&c.kj instanceof window.TouchEvent?(b.preventDefault(),b.simulated=i,a.mr=b):(a.Qc=a.ac,a.ac=c,bi(a,b,c,i),pi(b,new K,b.target.ca)||(a.Ma.doMouseMove(),a.Ma.isBeyondDragSize()&&qi(a)))}};a.xo=function(b){if(a.isEnabled){var c=a.Qc;if(a.mr!==p)a.mr=
b,b.preventDefault();else if(a.Qc=a.ac,a.ac=c,bi(a,b,c,i),c.Rj=i,c.pe=b.detail,a.Eg=c.copy(),c.kj.simulated===i)b.preventDefault(),b.simulated=i;else if(u&&u.hE&&(window.hE=a.ho(c.O)),mf=p,a.Ma.doMouseDown(),1===b.button)return b.preventDefault(),q}};a.Ao=function(b){if(a.isEnabled){var c=a.Qc;a.mr!==p?(a.mr=p,b.preventDefault()):(a.Qc=a.ac,a.ac=c,bi(a,b,c,i),c.Zi=i,c.pe=b.detail,b.target.ca&&(c.sg=b.target.ca),ri(a,b,new K,c.sg)||(a.Ma.doMouseUp(),pf(a),ja(a,c,b)))}};a.ah=function(b){if(a.isEnabled){var c=
a.Qc;a.Qc=a.ac;a.ac=c;bi(a,b,c,i);c.bubbles=i;c.Pj=b.wheelDelta!==f?b.wheelDelta:-40*b.detail;a.Ma.doMouseWheel();ja(a,c,b)}};a.zo=function(){if(a.isEnabled){var b=a.Ma;b.cancelWaitAfter();b instanceof We&&b.hideToolTip()}};a.Hz=function(){var b=a.Ca,c=a.Pb,d=0;a.Xm&&(d=a.Wf);var e=0;a.Wm&&(e=a.Wf);(0===c.clientWidth||0===c.clientHeight)&&x.trace("Diagram div has a width or height of zero");if(c.clientWidth!==b.width+d||c.clientHeight!==b.height+e)a.Bk=i,a.oh=i;a.Eb()};a.YE=function(b){if(a.isEnabled){a.ly=
q;if(1<b.touches.length){a.Ma.doCancel();if(a.xl&&x.YB)return b.preventDefault(),b.cancelBubble=i,q;qi(a);b.cancelBubble=q;return i}var c=a.Qc;a.Qc=a.ac;a.ac=c;c.h=a;var d=a.Fg(b.targetTouches[0]);c.Jc=a.Ro(d);c.O=d;c.Ph=0;c.button=0;c.Rj=i;c.Zi=q;c.pe=1;c.Pj=0;c.de=q;c.bubbles=q;c.event=b;c.timestamp=Date.now();c.sg=b.target.ca?b.target.ca:p;c.Gd=p;a.Eg=c.copy();mf=p;a.Ma.doMouseDown();var e=c.copy();a.Tu=setTimeout(function(){e.button=2;a.P=e;a.ly=i;a.Ma.doMouseUp()},850);ja(a,c,b)}};a.XE=function(b){if(a.isEnabled){if(1<
b.touches.length){a.Ma.doCancel();qi(a);if(a.xl&&x.YB)return b.preventDefault(),b.cancelBubble=i,q;b.cancelBubble=q;return i}var c=a.Qc;a.Qc=a.ac;a.ac=c;var d=p,e,g=p;0<b.changedTouches.length?g=b.changedTouches[0]:0<b.targetTouches.length&&(g=b.targetTouches[0]);c.h=a;if(g){var d=document.elementFromPoint(g.clientX,g.clientY),h;d&&d.ca?(e=d.ca.Fg(g),h=d.ca):(e=a.Fg(b.changedTouches[0]),h=a);c.O=e;c.Jc=h.Ro(e)}else a.Qc!==p?(c.O=a.Qc.O,c.Jc=a.Qc.Jc,d=a.Qc.sg):a.Eg!==p&&(c.O=a.Eg.O,c.Jc=a.Eg.Jc,d=
a.Eg.sg);c.Ph=0;c.button=0;c.Rj=q;c.Zi=q;c.pe=1;c.Pj=0;c.de=q;c.bubbles=q;c.event=b;c.timestamp=Date.now();c.sg=d===p?b.target.ca:d.ca?d.ca:p;c.Gd=p;a.Ma.isBeyondDragSize()&&qi(a);if(!pi(g?g:b,new K,c.sg))a.Ma.doMouseMove(),ja(a,c,b)}};a.WE=function(b){if(a.isEnabled){qi(a);if(a.ly)return b.preventDefault(),q;var c=a.Qc;a.Qc=a.ac;a.ac=c;if(!(1<b.touches.length)){var d=p,e,g=p;0<b.changedTouches.length?g=b.changedTouches[0]:0<b.targetTouches.length&&(g=b.targetTouches[0]);c.h=a;c.pe=1;if(g){var d=
document.elementFromPoint(g.clientX,g.clientY),h;d&&d.ca?(e=d.ca.Fg(g),h=d.ca):(e=a.Fg(b.changedTouches[0]),h=a);c.O=e;c.Jc=h.Ro(e);e=new K(g.screenX,g.screenY);h=a.vB;b.timeStamp-a.uB<a.FF&&!(25<Math.abs(h.x-e.x)||25<Math.abs(h.y-e.y))?a.Ex++:a.Ex=1;c.pe=a.Ex;a.uB=b.timeStamp;a.vB=e}else a.Qc!==p?(c.O=a.Qc.O,c.Jc=a.Qc.Jc,d=a.Qc.sg):a.Eg!==p&&(c.O=a.Eg.O,c.Jc=a.Eg.Jc,d=a.Eg.sg);c.Ph=0;c.button=0;c.Rj=q;c.Zi=i;c.Pj=0;c.de=q;c.bubbles=q;c.event=b;c.timestamp=Date.now();c.sg=d===p?b.target.ca:d.ca?d.ca:
p;c.Gd=p;if(!ri(a,g?g:b,new K,c.sg))a.Ma.doMouseUp(),ja(a,c,b)}}};c.addEventListener("touchstart",a.YE,q);c.addEventListener("touchmove",a.XE,q);c.addEventListener("touchend",a.WE,q);c.addEventListener("gesturestart",function(){a.xl!==q&&(a.KB=a.scale,a.Ma.doCancel())},q);c.addEventListener("gesturechange",function(b){if(a.xl!==q){var c=a.Fg(b),d=a.nl;a.nl=c;a.scale=a.KB*b.scale;a.nl=d}},q);c.addEventListener("mousemove",a.yo,q);c.addEventListener("mousedown",a.xo,q);c.addEventListener("mouseup",
a.Ao,q);c.addEventListener("mousewheel",a.ah,q);c.addEventListener("DOMMouseScroll",a.ah,q);c.addEventListener("mouseout",a.zo,q);c.addEventListener("keydown",a.wH,q);c.addEventListener("keyup",a.xH,q);c.addEventListener("selectstart",function(a){a.preventDefault();return q},q);c.addEventListener("contextmenu",function(a){a.preventDefault();return q},q);window.addEventListener("resize",a.Hz,q);c.tabIndex=0;si(a)}}w.prototype.focus=w.prototype.focus=function(){this.Ca.focus()};
function si(a,b){b===f&&(b=a.Bg);b.Lw="";b.Cm="";b.ol=""}function Wh(a){var b=new Ie;b.name="Background";a.Kr(b);b=new Ie;b.name="";a.Kr(b);b=new Ie;b.name="Foreground";a.Kr(b);b=new Ie;b.name="Adornment";b.Cc=i;a.Kr(b);b=new Ie;b.name="Tool";b.Cc=i;a.Kr(b);b=new Ie;b.name="Grid";b.me=q;b.Cc=i;a.RF(b,a.Mi("Background"))}
function ti(a){a.vd=new G(ui);a.vd.name="GRID";var b=new V;b.lb="LineH";b.stroke="lightgray";b.ib=0.5;b.Ni=1;a.vd.add(b);b=new V;b.lb="LineH";b.stroke="gray";b.ib=0.5;b.Ni=5;a.vd.add(b);b=new V;b.lb="LineH";b.stroke="gray";b.ib=1;b.Ni=10;a.vd.add(b);b=new V;b.lb="LineV";b.stroke="lightgray";b.ib=0.5;b.Ni=1;a.vd.add(b);b=new V;b.lb="LineV";b.stroke="gray";b.ib=0.5;b.Ni=5;a.vd.add(b);b=new V;b.lb="LineV";b.stroke="gray";b.ib=1;b.Ni=10;a.vd.add(b);b=new z;b.add(a.vd);b.Fd="Grid";b.rs=q;b.Rz=q;b.xs="GRID";
a.add(b);a.nb.remove(b);a.vd.visible=q}
w.prototype.IB=function(){var a=this.ca;if(a.$x){a.Fu=i;var b=a.pc,c=a.Ya,d=b.width,e=c.width,g=b.height,h=c.height,j=b.right,k=c.right,l=b.bottom,m=c.bottom,n=b.x,r=c.x,b=b.y,c=c.y,s=a.scale;e<d||h<g?(this.QB&&a.uf?a.position=new K(this.scrollLeft/s+n,a.position.y):this.RB&&a.vf&&(a.position=new K(a.position.x,this.scrollTop/s+b)),vi(a),Hh(a),a.Fu=q,a.Bk=q):(this.QB&&a.uf&&(n<r&&(a.position=new K(this.scrollLeft+n,a.position.y)),j>k&&(a.position=new K(-(a.Bj.scrollWidth-a.Ca.width)+this.scrollLeft-
a.Ca.width/s+a.pc.right,a.position.y))),this.RB&&a.vf&&(b<c&&(a.position=new K(a.position.x,this.scrollTop+b)),l>m&&(a.position=new K(a.position.x,-(a.Cj.scrollHeight-a.Ca.height)+this.scrollTop-a.Ca.height/s+a.pc.bottom))),vi(a),a.Fu=q,a.Bk=q,Hh(a),b=a.pc,c=a.Ya,j=b.right,k=c.right,l=b.bottom,m=c.bottom,n=b.x,r=c.x,b=b.y,c=c.y,e>=d&&(n>=r&&j<=k)&&(a.ay.style.width="1px"),h>=g&&(b>=c&&l<=m)&&(a.by.style.height="1px"))}};w.prototype.JB=function(){this.ca.$x=i};
w.prototype.computeBounds=w.prototype.re=function(){0<this.ph.count&&Vh(this);if(this.gs.R()){var a=this.gs.copy();a.Lr(this.padding);return a}for(var b=i,c=this.jb,d=c.length,e=0;e<d;e++){var g=c.o[e];if(g.visible&&!g.Cc)for(var g=g.nb,h=g.length,j=0;j<h;j++){var k=g.o[j];k.rs&&k.tb()&&(k=k.ya,k.R()&&(b?(b=q,a=k.copy()):a.Yi(k)))}}b&&(a=new L(0,0,0,0));a.Lr(this.padding);return a};
w.prototype.computePartsBounds=w.prototype.NJ=function(a){for(var b=p,a=a.l;a.next();){var c=a.value;c instanceof F||(c.Ki(),b===p?b=c.ya.copy():b.Yi(c.ya))}return b===p?new L(NaN,NaN,0,0):b};function wi(a,b){if((b||a.Gg)&&!a.xc&&a.pc.R()){a.xc=i;var c=a.ql;b&&a.zk!==Jh&&(c=a.zk);var d=c!==Jh?xi(a,c):a.scale,c=a.Ya.copy(),e=a.Ca.width/d,g=a.Ca.height/d;a.position.Oa();var h=a.ul;b&&wb(a.Zm)&&(h=a.Zm);yi(a,a.ob,a.pc,e,g,h);a.position.freeze();a.scale=d;a.xc=q;d=a.Ya;d.Li(c)||a.Hs(c,d)}}
function xi(a,b){a.fi&&zi(a,a.re());var c=a.pc;if(!c.R())return 1;var d=c.width,c=c.height,e=a.Ca.width,g=a.Ca.height,h=e/d,j=g/c,k=1;return b===Ai?(k=Math.min(j,h),1<k&&(k=1),k):b===Bi?(k=j>h?(g-a.Wf)/c:(e-a.Wf)/d,1<k&&(k=1),k):a.scale}w.prototype.zoomToFit=w.prototype.jF=function(){this.scale=xi(this,Ai);this.Eb()};
w.prototype.zoomToRect=w.prototype.HI=function(a){var b=a.width,c=a.height;if(!(0===b||0===c||isNaN(b)&&isNaN(c))){var d=1,d=isNaN(b)?this.Ya.height*this.scale/c:isNaN(c)?this.Ya.width*this.scale/b:Math.max(this.Ya.height*this.scale/c,this.Ya.width*this.scale/b);this.scale=Math.min(d,this.Oh);this.position=new K(a.x,a.y)}};
w.prototype.alignDocument=w.prototype.XI=function(a,b){this.fi&&zi(this,this.re());var c=this.pc,d=this.Ya,e=this.xc;this.xc=i;this.position=new K(c.x+(a.x*c.width+a.offsetX)-(b.x*d.width-b.offsetX),c.y+(a.y*c.height+a.offsetY)-(b.y*d.height-b.offsetY));this.xc=e;Hh(this);this.Vd||this.Eb()};
function yi(a,b,c,d,e,g){wb(g)&&(d>c.width&&(b.x=c.x+(g.x*c.width+g.offsetX)-(g.x*d-g.offsetX)),e>c.height&&(b.y=c.y+(g.y*c.height+g.offsetY)-(g.y*e-g.offsetY)));d<c.width?(g=b.x+d/2,g=Math.min(g,c.right-d/2),g=Math.max(g,c.left+d/2),b.x=g-d/2):b.x>c.left?b.x=c.left:b.x<c.right-d&&(b.x=c.right-d);e<c.height?(d=b.y+e/2,d=Math.min(d,c.bottom-e/2),d=Math.max(d,c.top+e/2),b.y=d-e/2):b.y>c.top?b.y=c.top:b.y<c.bottom-e&&(b.y=c.bottom-e);isFinite(b.x)||(b.x=-a.padding.left);isFinite(b.y)||(b.y=-a.padding.top)}
w.prototype.findPartAt=w.prototype.ds=function(a,b){var c=b?Lf(this,a,function(a){return a.fa},function(a){return a.Tk()}):this.qd(a,function(a){return a.fa});return c instanceof z?c:p};w.prototype.findObjectAt=w.prototype.qd=function(a,b,c){b===f&&(b=p);c===f&&(c=p);var d=this.jb.oo;for(Vh(this);d.next();){var e=d.value;if(e.visible&&(e=e.qd(a,b,c),e!==p))return e}return p};
function Lf(a,b,c,d){c===f&&(c=p);d===f&&(d=p);var e=a.jb.oo;for(Vh(a);e.next();)if(a=e.value,a.visible&&!a.Cc&&(a=a.qd(b,c,d),a!==p))return a;return p}w.prototype.findObjectsAt=w.prototype.ho=function(a,b,c,d){b===f&&(b=p);c===f&&(c=p);if(!(d instanceof H)||!(d instanceof qa))d=new qa(U);Vh(this);for(var e=this.jb.oo;e.next();){var g=e.value;g.visible&&g.ho(a,b,c,d)}return d};
w.prototype.findObjectsIn=w.prototype.gm=function(a,b,c,d,e){b===f&&(b=p);c===f&&(c=p);d===f&&(d=q);if(!(e instanceof H)||!(e instanceof qa))e=new qa(U);Vh(this);for(var g=this.jb.oo;g.next();){var h=g.value;h.visible&&h.gm(a,b,c,d,e)}return e};w.prototype.findObjectsNear=w.prototype.io=function(a,b,c,d,e){c===f&&(c=p);d===f&&(d=p);!(e instanceof H)&&!(e instanceof qa)&&(e=new qa(U));Vh(this);for(var g=this.jb.oo;g.next();){var h=g.value;h.visible&&h.io(a,b,c,d,e)}return e};
function qi(a){-1!==a.Tu&&(clearTimeout(a.Tu),a.Tu=-1)}function bi(a,b,c,d){c.h=a;d?(d=a.Fg(b),c.Jc=a.Ro(d),c.O=d):(c.Jc=a.ac.Jc,c.O=a.ac.O);a=0;b.ctrlKey&&(a+=1);b.altKey&&(a+=2);b.shiftKey&&(a+=4);c.Ph=a;c.button=b.button;c.Rj=q;c.Zi=q;c.pe=1;c.Pj=0;c.de=q;c.bubbles=q;c.event=b;c.timestamp=Date.now();c.sg=b.target.ca?b.target.ca:p;c.Gd=p}
function ja(a,b,c){if(b.bubbles)return u&&(u.trace&&u.xD)&&u.trace("NOT handled "+c.type+" "+b.toString()),i;u&&(u.trace&&u.xD)&&u.trace("handled "+c.type+" "+a.Ma.name+" "+b.toString());c.stopPropagation!==f&&c.stopPropagation();c.preventDefault!==f&&c.preventDefault();c.cancelBubble=i;return q}
w.prototype.wH=function(a){if(this.ca.isEnabled){var b=this.ca.ac;bi(this.ca,a,b,q);b.key=String.fromCharCode(a.which);b.Rj=i;switch(a.which){case 33:b.key="PageUp";break;case 34:b.key="PageDown";break;case 35:b.key="End";break;case 36:b.key="Home";break;case 37:b.key="Left";break;case 38:b.key="Up";break;case 39:b.key="Right";break;case 40:b.key="Down";break;case 45:b.key="Insert";break;case 46:b.key="Del";break;case 48:b.key="0";break;case 187:b.key="Add";break;case 189:b.key="Subtract";break;case 107:b.key=
"Add";break;case 109:b.key="Subtract";break;case 27:b.key="Esc"}this.ca.Ma.doKeyDown();return(187===a.which||189===a.which||48===a.which||107===a.which||109===a.which)&&a.ctrlKey===i?(a.cancelBubble=i,a.preventDefault!==f?a.preventDefault():a.returnValue=q,Event.stop&&(x.m("Event.stop can fire for this browser"),Event.stop(a)),a.stopPropagation!==f&&a.stopPropagation(),q):ja(this.ca,b,a)}};
w.prototype.xH=function(a){if(this.ca.isEnabled){var b=this.ca.ac;bi(this.ca,a,b,q);b.key=String.fromCharCode(a.which);b.Zi=i;switch(a.which){case 33:b.key="PageUp";break;case 34:b.key="PageDown";break;case 35:b.key="End";break;case 36:b.key="Home";break;case 37:b.key="Left";break;case 38:b.key="Up";break;case 39:b.key="Right";break;case 40:b.key="Down";break;case 45:b.key="Insert";break;case 46:b.key="Del"}this.ca.Ma.doKeyUp();return ja(this.ca,b,a)}};
w.prototype.Fg=function(a){if(this.Nw){var b=this.Ca,c=0,d=0;if(b.offsetParent!==f){do c+=b.offsetLeft+b.clientLeft,d+=b.offsetTop+b.clientTop;while(b=b.offsetParent)}c+=this.WB+this.UB+this.Mt;d+=this.XB+this.VB+this.Nt;b=a.pageX-c;a=a.pageY-d;this.ld!==p&&(a=new K(b,a),$a(a,this.ld),b=a.x,a=a.y);return new K(b,a)}b=this.Ca;c=b.getBoundingClientRect();d=a.clientX-c.left*(b.width/c.width);a=a.clientY-c.top*(b.height/c.height);this.ld!==p&&(a=new K(d,a),$a(a,this.ld),d=a.x,a=a.y);return new K(d,a)};
x.g(w,"alternateCoordinates",w.prototype.bG);x.defineProperty(w,{bG:p},t("Nw"),function(a){x.k(a,"boolean",w,"alternateCoordinates");this.Nw=a});w.prototype.invalidateDocumentBounds=w.prototype.Oi=function(){if(!this.Vd&&(Ci(this),this.yy===q)){this.yy=i;var a=this;requestAnimationFrame(function(){a.Ca===p||a.tf===i||(Zg(a),a.yy=q)})}};function Zg(a){a.Vd||Vh(a);a.fi&&zi(a,a.re());wi(a);!a.xc&&a.Bk&&Di(a);for(a=a.zu.l;a.next();)Zg(a.value)}
w.prototype.redraw=w.prototype.VL=function(){!this.xc&&!this.Vd&&(Hh(this),Ei(this),vi(this),Ci(this),this.Zg())};w.prototype.isUpdateRequested=w.prototype.qL=t("tf");w.prototype.delayInitialization=w.prototype.aK=function(a){this.update();this.Gg=q;a&&setTimeout(a,1)};w.prototype.requestUpdate=w.prototype.Eb=function(a){a===f&&(a=q);if(!(this.xc||a===q&&this.Vd)&&this.tf===q){this.tf=i;var b=this;requestAnimationFrame(function(){b.tf&&b.Zg()})}};
w.prototype.maybeUpdate=w.prototype.Zg=function(){if(!this.Hp||this.tf)this.Hp&&(this.Hp=q),this.update()};
w.prototype.update=w.prototype.update=function(){if(!(this.Pb===p||this.Vd)){this.Vd=i;this.Hz();this.tf=q;Vh(this);var a=q;if(!this.Gg||this.Cn&&this.jt)Fi(this),this.Cn=q,a=i;Vh(this);this.pc.R()||zi(this,this.re());if(a){if(!this.Gg){if(this.zk!==Jh)this.scale=xi(this,this.zk);else if(this.ql!==Jh)this.scale=xi(this,this.ql);else{var b=this.DD;isFinite(b)&&0<b&&(this.scale=b)}this.fi&&zi(this,this.re());b=this.CD;if(b.R())this.position=b;else{b=new K;b.Mo(this.pc,this.BD);var c=this.Ya,c=new L(0,
0,c.width,c.height),d=new K;d.Mo(c,this.ED);this.position=new K(b.x-d.x,b.y-d.y);wi(this,i)}this.Ea("InitialLayoutCompleted");b=this.wa;b!==p&&b.clear();Gi(this)}this.Ea("LayoutCompleted")}Vh(this);!this.xc&&this.Bk&&(Di(this)||Di(this));a&&!this.Gg&&(this.Gg=i);this.Je();this.Vd=q}};
function Vh(a){for(var b=0;23>b;b++){var c=a.ph.l;if(c===p||0===a.ph.count)break;a.ph=new qa(U);var d=a,e=a.ph;for(c.reset();c.next();){var g=c.value;g.ee()&&!(g instanceof B)&&(g.cl()?(Ch(g,Infinity,Infinity),g.Fc()):e.add(g))}for(c.reset();c.next();)g=c.value,g instanceof B&&Hi(d,g);for(c.reset();c.next();)d=c.value,d instanceof F&&(d.cl()?(Ch(d,Infinity,Infinity),d.Fc(),d.Qv()):e.add(d));for(c.reset();c.next();)d=c.value,d instanceof Ye&&(d.cl()?(Ch(d,Infinity,Infinity),d.Fc()):e.add(d))}}
function Hi(a,b){for(var c=b.Ic,d=[];c.next();){var e=c.value;e instanceof B?(e.dc||e.Mc||e.mj)&&Hi(a,e):e instanceof F?d.push(e):(Ch(e,Infinity,Infinity),e.Fc())}c=d.length;for(e=0;e<c;e++){var g=d[e];Ch(g,Infinity,Infinity);g.Fc()}Ch(b,Infinity,Infinity);b.Fc()}
w.prototype.Je=function(a){this.Pb===p&&x.m("No div specified");var b=this.Ca;b===p&&x.m("No canvas specified");a||(a=this.Bg);var c=a!==this.Bg;if(c)si(this),vi(this);else if(!this.oh)return;if(0<this.ij.count){for(var d=this.ij.l;d.next();)Lg(d.key,d.value);this.ij.clear()}this.GB?(b.width=b.width,si(this)):(a.setTransform(1,0,0,1,0,0),a.clearRect(0,0,b.width,b.height));b=this.ld;b.reset();1!==this.Rb&&b.scale(this.Rb);d=this.ob;(0!==d.x||0!==d.y)&&b.translate(-d.x,-d.y);a.setTransform(b.m11,b.m12,
b.m21,b.m22,b.dx,b.dy);u&&u.Wn&&(a.fillStyle="red",a.fillRect(0,0,8,8),a.lineWidth=8,a.strokeStyle="rgba(255,255,0,.6)",b=this.Ya,a.strokeRect(b.x,b.y,b.width,b.height),a.fillStyle="rgba(0,255,0,.2)",a.fillRect(this.pc.x,this.pc.y,this.pc.width,this.pc.height));b=this.jb.length;for(d=0;d<b;d++)this.jb.o[d].Je(a,this);u&&(u.eD||u.Wn)&&u.cD(a,this);this.Lt?this.Lt.Zs(this)&&this.GA():this.Fg=aa();c?(si(this),vi(this)):this.oh=this.Ck=q};
function Ii(a,b,c,d,e,g,h,j,k){a.Pb===p&&x.m("No div specified");a.Ca===p&&x.m("No canvas specified");si(a);vi(a);if(0<a.ij.count){for(var l=a.ij.l;l.next();)Lg(l.key,l.value);a.ij.clear()}b.setTransform(1,0,0,1,0,0);b.clearRect(0,0,d.width,d.height);j&&(b.fillStyle=j,b.fillRect(0,0,d.width,d.height));j=new Ya;j.translate(c.left,c.top);j.scale(e);(0!==g.x||0!==g.y)&&j.translate(-g.x,-g.y);b.setTransform(j.m11,j.m12,j.m21,j.m22,j.dx,j.dy);c=f;g&&(d&&e)&&(c=new L(g.x,g.y,d.width/e,d.height/e));if(h){k=
h.l;for(k.reset();k.next();)c=k.value,c instanceof z&&c.Je(b,a)}else{d=a.jb.length;for(e=0;e<d;e++)if(k){if(g=a.jb.o[e],h=b,j=a,g.visible&&!g.Cc){var l=g.nb,m=f,m=c?c:j.Ya,n=[];if(j.Ck)for(var r=l.length,s=0;s<r;s++){var v=l.o[s];v.wB=s;if(v instanceof F&&(Rg(v)&&n.push(v),v.Bi===q))continue;v.ya.Oe(m)?(v.Cc||v.Je(h,j),v.je=i):v.je=q}else{r=l.length;for(s=0;s<r;s++)if(v=l.o[s],v.je){if(v instanceof F&&(Rg(v)&&n.push(v),v.Bi===q))continue;v.Cc||v.Je(h,j)}}g.NB=n}}else a.jb.o[e].Je(b,a,c)}a.Lt?a.Lt.Zs(a)&&
a.GA():a.Fg=aa();si(a);vi(a)}function Ci(a){if(a.fi===q||a.tf===q)a.fi=i,a.Eb()}
function Hh(a,b,c){if(a.oh===q&&(b===f||a.Ya.Oe(b)))a.oh=i,c&&a instanceof Ji?!a.xc&&!a.Vd&&a.tf===q&&(a.tf=i,requestAnimationFrame(function(){if(a.tf&&!(a.Pb===p||a.Vd)){a.Vd=i;a.tf=q;Vh(a);a.pc.R()||zi(a,a.re());a.Pb===p&&x.m("No div specified");a.Ca===p&&x.m("No canvas specified");if(a.oh&&a.ri!==p){var b=a.Bg,c=a.oy;b.setTransform(1,0,0,1,0,0);b.clearRect(0,0,a.Ca.width,a.Ca.height);b.drawImage(c,0,0);c=a.ld;c.reset();1!==a.Rb&&c.scale(a.scale);(0!==a.position.x||0!==a.position.y)&&c.translate(-a.ob.x,
-a.ob.y);b.setTransform(c.m11,c.m12,c.m21,c.m22,c.dx,c.dy);for(var c=a.jb.length,d=0;d<c;d++)a.jb.o[d].Je(b,a);a.Ck=q;a.oh=q}a.Vd=q}})):a.Eb();for(var d=a.zu.l;d.next();)Hh(d.value,b,c)}function Ei(a){a.Bk===q&&(a.Bk=i)}function vi(a){a.Ck===q&&(a.Ck=i)}
function Di(a){var b=a.Ca;if(b!==p){var c=a.Pb,d=b.width,e=b.height,g=a.hC.copy(),h=q,j=0,k=0;a.Xm&&(j=a.Wf);a.Wm&&(k=a.Wf);var l=c.clientWidth,c=c.clientHeight;if(l!==b.width+j||c!==b.height+k)a.Xm=q,a.Wm=q,b.width=l,b.height=c,h=i;a.Bk=q;if(!a.aB||a.Fu)(d!==b.width||e!==b.height)&&a.Zg();else{var m=a.Ya,n=a.pc,j=n.width,k=n.height,r=m.width,s=m.height,v=n.x,y=m.x,C=n.right,D=m.right,I=n.y,E=m.y,M=n.bottom,O=m.bottom,n=m="1px",X=a.scale;l/X>j&&c/X>k||(a.yD&&a.uf&&(r+1<j?(m=(j-r)*X+b.width+"px",a.Bj.scrollLeft=
(a.position.x-v)*X):v+1<y?(m=(y-v)*X+b.width+"px",a.Bj.scrollLeft=a.Bj.scrollWidth-a.Bj.clientWidth):C>D+1&&(m=(C-D)*X+b.width+"px",a.Bj.scrollLeft=a.position.x*X)),a.zD&&a.vf&&(s+1<k?(n=(k-s)*X+b.height+"px",a.Cj.scrollTop=(a.position.y-I)*X):I+1<E?(n=(E-I)*X+b.height+"px",a.Cj.scrollTop=a.Cj.scrollHeight-a.Cj.clientHeight):M>O+1&&(n=(M-O)*X+b.height+"px",a.Cj.scrollTop=a.position.y*X)));l="1px"!==m;c="1px"!==n;l!==a.Wm&&(b.height="1px"===m?b.height+a.Wf:b.height-a.Wf,h=i);a.Wm=l;a.ay.style.width=
m;c!==a.Xm&&(b.width="1px"===n?b.width+a.Wf:b.width-a.Wf,h=i);a.Xm=c;a.by.style.height=n;h&&si(a);l=b.width;c=b.height;a.Cj.style.height=c+"px";a.Cj.style.width=a.Xm?l+a.Wf+"px":l+"px";a.Bj.style.width=l+"px";a.Bj.style.height=a.Wm?c+a.Wf+"px":c+"px";a.$x=q;return d!==b.width||e!==b.height?(m=a.Ya,a.Hs(g,m,h?i:f),a.Zg(),q):i}}}
function Ki(a,b){for(var c=a.jb,d=c.count,e=0;e<d;e++)c.ia(e).name===b&&x.m("Cannot add layer with the name '"+b+"', a layer of the same name is already present in this diagram.")}x.g(w,"addsToTemporaryLayer",w.prototype.Pr);x.defineProperty(w,{Pr:p},t("IA"),function(a){x.k(a,"boolean",w,"addsToTemporaryLayer");this.IA=a});
w.prototype.add=w.prototype.add=function(a){x.i(a,z,w,"add:part");var b=a.h;if(b!==this){b!==p&&x.m("Cannot add part "+a.toString()+" to "+this.toString()+". It is already a part of "+b.toString());var c=this.Pr?"Tool":a.Fd,b=this.Mi(c);b===p&&(b=this.Mi(""));b===p&&x.m('Cannot add a Part when unable find a Layer named "'+c+'" and there is no default Layer');a.Ka!==b&&(c=a.h===this?b.bl(99999999,a,i):b.bl(99999999,a),0<=c&&this.Uc(Ud,"parts",b,p,a,p,c),this.Oi(),a.G(Li),c=a.po,c!==p&&c(a,p,b))}};
w.prototype.bl=function(a){if(a instanceof A){if(this.tu.add(a),a instanceof B){var b=a.Za;b===p?this.Sl.add(a):b.Ll.add(a);b=a.Ub;b!==p&&(b.h=this)}}else a instanceof F?this.Zt.add(a):a instanceof Ye||this.nb.add(a);if(b=a.data){a instanceof Ye||(a instanceof F?this.rk.add(b,a):this.ai.add(b,a));var c=this;Mi(a,a,function(a){Ni(c,a)})}(a.Mc===i||a.mj===i)&&this.ph.add(a);Oi(a,i);a.tb()&&(Hh(this),Ci(this))};
w.prototype.Qd=function(a){if(a instanceof A){if(this.tu.remove(a),a instanceof B){var b=a.Za;b===p?this.Sl.remove(a):b.Ll.remove(a);b=a.Ub;b!==p&&(b.h=p)}}else a instanceof F?this.Zt.remove(a):a instanceof Ye||this.nb.remove(a);if(b=a.data){a instanceof Ye||(a instanceof F?this.rk.remove(b):this.ai.remove(b));var c=this;Mi(a,a,function(a){Pi(c,a)})}this.ph.remove(a);a.tb()&&(Hh(this),Ci(this))};
w.prototype.remove=w.prototype.remove=function(a){x.i(a,z,w,"remove:part");a.Va=q;var b=a.Ka;if(b!==p&&b.h===this){a.G(Qi);a.bm();var c=b.Qd(-1,a);0<=c&&this.Uc(Vd,"parts",b,a,p,c,p);c=a.po;c!==p&&c(a,b,p);this.Oi();this.Ma.standardMouseOver()}};w.prototype.removeParts=w.prototype.Xz=function(a,b){for(var c=a.l;c.next();){var d=c.value;d.h===this&&(!b||d.canDelete())&&this.remove(d)}};w.prototype.copyParts=w.prototype.Zn=function(a,b,c){return this.dg.copyParts(a,b,c)};
w.prototype.moveParts=w.prototype.IH=function(a,b,c){var d=this.Xb;if(d!==p&&(d=d.ue,d!==p)){for(var e=new pa(z,Object),a=a.l;a.next();){var g=a.value;g instanceof F?e.add(g,of()):e.add(g,of(g.location))}d.moveParts(e,b,c)}};w.prototype.addLayer=w.prototype.Kr=function(a){x.i(a,Ie,w,"addLayer:layer");Ki(this,a.name);a.Ef(this);var b=this.jb,c=b.count-1;if(!a.Cc)for(;0<=c&&b.ia(c).Cc;)c--;b.Bc(c+1,a);this.Nd!==p&&this.Uc(Ud,"layers",this,p,a,p,c+1);Ci(this)};
w.prototype.addLayerBefore=w.prototype.RF=function(a,b){x.i(a,Ie,w,"addLayer:layer");x.i(b,Ie,w,"addLayerBefore:existingLayer");Ki(this,a.name);a.Ef(this);for(var c=q,d=this.jb.count,e=0;e<d;e++)if(this.jb.ia(e)===b){this.jb.Bc(e,a);c=i;break}c||x.m("addLayerBefore: Existing layer "+b.toString()+" not found.");this.Nd!==p&&this.Uc(Ud,"layers",this,p,a,p,e);Ci(this)};
w.prototype.addLayerAfter=w.prototype.TI=function(a,b){x.i(a,Ie,w,"addLayer:layer");x.i(b,Ie,w,"addLayerAfter:existingLayer");Ki(this,a.name);a.Ef(this);for(var c=q,d=this.jb.count,e=0;e<d;e++)if(this.jb.ia(e)===b){this.jb.Bc(e+1,a);c=i;break}c||x.m("addLayerAfter: Existing layer "+b.toString()+" not found.");this.Nd!==p&&this.Uc(Ud,"layers",this,p,a,p,e+1);Ci(this)};function Ri(a,b,c){x.i(b,Ie,w,"addLayer:layer");Ki(a,b.name);b.Ef(a);a.jb.Bc(c,b);a.Nd!==p&&a.Uc(Ud,"layers",a,p,b,p,c);Ci(a)}
w.prototype.removeLayer=w.prototype.tE=function(a){if(""!==a.name){var b=this.jb.indexOf(a);if(this.jb.remove(a)){for(var c=a.nb.copy().l;c.next();){var d=c.value,e=d.Fd;d.Fd="";e!==a.name&&(d.Fd=e)}this.Nd!==p&&this.Uc(Vd,"layers",this,a,p,b,p);Ci(this)}}};w.prototype.findLayer=w.prototype.Mi=function(a){for(var b=this.pm;b.next();){var c=b.value;if(c.name===a)return c}return p};
w.prototype.addChangedListener=w.prototype.Gy=function(a){x.k(a,"function",w,"addChangedListener:listener");this.gj===p&&(this.gj=new H("function"));this.gj.add(a)};w.prototype.removeChangedListener=w.prototype.Wz=function(a){x.k(a,"function",w,"removeChangedListener:listener");this.gj!==p&&(this.gj.remove(a),0===this.gj.count&&(this.gj=p))};w.prototype.jv=function(a){this.Ab||this.wa.wD(a);if(this.gj!==p)for(var b=this.gj.l;b.next();){var c=b.value;c(a)}};
w.prototype.raiseChangedEvent=w.prototype.Uc=function(a,b,c,d,e,g,h){g===f&&(g=p);h===f&&(h=p);var j=new Dd;j.h=this;j.pd=a;j.propertyName=b;j.object=c;j.oldValue=d;j.Df=g;j.newValue=e;j.Cf=h;this.jv(j)};w.prototype.raiseChanged=w.prototype.j=function(a,b,c,d,e){this.Uc(Td,a,this,b,c,d,e)};x.u(w,{wa:"undoManager"},function(){return this.Nd.wa});x.g(w,"skipsUndoManager",w.prototype.Ab);
x.defineProperty(w,{Ab:"skipsUndoManager"},t("wi"),function(a){x.k(a,"boolean",w,"skipsUndoManager");this.wi=a;this.Nd.wi=a});
w.prototype.changeState=w.prototype.Tr=function(a,b){if(a!==p&&a.h===this){var c=this.zl;try{this.zl=i;var d=a.pd;if(d===Td){var e=a.object,g=a.propertyName,h=a.va(b);x.Pa(e,g,h);if(e instanceof U){var j=e.fa;j!==p&&j.Hh()}}else if(d===Ud){var k=a.object,l=a.Cf,e=a.newValue;if(k instanceof G){if("number"===typeof l&&e instanceof U){var m=k;b?m.Qd(l):m.Bc(l,e);j=k.fa;j!==p&&j.Hh()}}else if(k instanceof Ie){var n=a.Df===i;if("number"===typeof l&&e instanceof z){var r=k;b?(e.Hh(),n?r.Qd(l,e,n):this.remove(e)):
r.bl(l,e,n)}}else k instanceof w?"number"===typeof l&&e instanceof Ie&&(b?this.tE(e):Ri(this,e,l)):x.m("unknown ChangedEvent.Insert object: "+a.toString())}else d===Vd?(k=a.object,l=a.Df,e=a.oldValue,k instanceof G?"number"===typeof l&&e instanceof U&&(m=k,b?m.Bc(l,e):m.Qd(l)):k instanceof Ie?(n=a.Cf===i,"number"===typeof l&&e instanceof z&&(r=k,b?r.bl(l,e,n):(e.Hh(),n?r.Qd(l,e,n):this.remove(e)))):k instanceof w?"number"===typeof l&&e instanceof Ie&&(b?Ri(this,e,l):this.tE(e)):x.m("unknown ChangedEvent.Remove object: "+
a.toString())):d!==Gd&&x.m("unknown ChangedEvent: "+a.toString())}finally{this.zl=c}}};w.prototype.startTransaction=w.prototype.jc=function(a){return this.wa.jc(a)};w.prototype.commitTransaction=w.prototype.qe=function(a){return this.wa.qe(a)};w.prototype.rollbackTransaction=w.prototype.Ls=function(){return this.wa.Ls()};w.prototype.updateAllTargetBindings=w.prototype.zM=function(){for(var a=this.Ui;a.next();)a.value.Bb();for(a=this.hl;a.next();)a.value.Bb();for(a=this.links;a.next();)a.value.Bb()};
w.prototype.Hs=function(a,b,c){if(!this.xc){vi(this);Hh(this,f,i);Ei(this);Ci(this);var d=this.Ub;d!==p&&(d.Pv&&!c)&&(a.width!==b.width||a.height!==b.height||isNaN(a.x&&!isNaN(b.x))||isNaN(a.y&&!isNaN(b.y)))&&d.G();wi(this);this.Ea("ViewportBoundsChanged",c?{}:p,a);Gi(this)}};
function Gi(a){var b=a.vd;if(b!==p&&b.visible){for(var c,d=c=1,e=b.xa.length,g=0;g<e;g++){var h=b.xa.o[g],j=h.Ni;2>j||("LineV"===h.lb?d=d*j/Sc(d,j):c=c*j/Sc(c,j))}e=b.ks;c=new cb(c*e.width,d*e.height);a=a.Ya;a.R()&&(b.width=a.width+2*c.width,b.height=a.height+2*c.height,a=Rc(a.x,a.y,0,0,c.width,c.height),b.fa.location=new K(a.x-c.width,a.y-c.height))}}w.prototype.clearSelection=w.prototype.Ry=function(){var a=0<this.selection.count;a&&this.Ea("ChangingSelection");af(this);a&&this.Ea("ChangedSelection")};
function af(a){a=a.selection;if(0<a.count){for(var b=a.vg(),c=b.length,d=0;d<c;d++)b[d].Va=q;a.Oa();a.clear();a.freeze()}}w.prototype.select=w.prototype.select=function(a){if(a!==p&&a.Ka.h===this&&(!a.Va||1<this.selection.count))this.Ea("ChangingSelection"),af(this),a.Va=i,this.Ea("ChangedSelection")};w.prototype.selectCollection=w.prototype.eA=function(a){this.Ea("ChangingSelection");af(this);for(a=a.l;a.next();)a.value.Va=i;this.Ea("ChangedSelection")};
w.prototype.scroll=function(a,b,c){c===f&&(c=1);var d="up"===b||"down"===b,e;"pixel"===a?e=c:"line"===a?e=c*(d?this.Ns:this.Ms):"page"===a?(a=d?this.Ya.height:this.Ya.width,a*=this.scale,0!==a&&(e=Math.max(a-(d?this.Ns:this.Ms),0),e*=c)):x.m("scrolling unit must be 'pixel', 'line', or 'page', not: "+a);e/=this.scale;c=this.position.copy();"up"===b?c.y=this.position.y-e:"down"===b?c.y=this.position.y+e:"left"===b?c.x=this.position.x-e:"right"===b?c.x=this.position.x+e:x.m("scrolling direction must be 'up', 'down', 'left', or 'right', not: "+
b);this.position=c};w.prototype.scrollToRect=w.prototype.eM=function(a){var b=this.Ya;b.Zl(a)||(a=a.kv,a.x-=b.width/2,a.y-=b.height/2,this.position=a)};w.prototype.centerRect=w.prototype.FJ=function(a){var b=this.Ya,a=a.kv;a.x-=b.width/2;a.y-=b.height/2;this.position=a};w.prototype.transformDocToView=w.prototype.Ro=function(a){var b=this.ld;b.reset();1!==this.Rb&&b.scale(this.Rb);var c=this.ob;(0!==c.x||0!==c.y)&&(isFinite(c.x)&&isFinite(c.y))&&b.translate(-c.x,-c.y);return a.copy().transform(this.ld)};
w.prototype.transformViewToDoc=w.prototype.FI=function(a){var b=this.ld;b.reset();1!==this.Rb&&b.scale(this.Rb);var c=this.ob;(0!==c.x||0!==c.y)&&(isFinite(c.x)&&isFinite(c.y))&&b.translate(-c.x,-c.y);return $a(a.copy(),this.ld)};var Jh;w.None=Jh=x.s(w,"None",0);var Ai;w.Uniform=Ai=x.s(w,"Uniform",1);var Bi;w.UniformToFill=Bi=x.s(w,"UniformToFill",2);var dg;w.CycleAll=dg=x.s(w,"CycleAll",10);var hg;w.CycleNotDirected=hg=x.s(w,"CycleNotDirected",11);var jg;
w.CycleNotDirectedFast=jg=x.s(w,"CycleNotDirectedFast",12);var kg;w.CycleNotUndirected=kg=x.s(w,"CycleNotUndirected",13);var eg;w.CycleDestinationTree=eg=x.s(w,"CycleDestinationTree",14);var gg;w.CycleSourceTree=gg=x.s(w,"CycleSourceTree",15);x.g(w,"validCycle",w.prototype.gF);x.defineProperty(w,{gF:"validCycle"},t("av"),function(a){var b=this.av;b!==a&&(x.pb(a,w,w,"validCycle"),this.av=a,this.j("validCycle",b,a))});x.u(w,{pm:"layers"},function(){return this.jb.l});x.g(w,"isModelReadOnly",w.prototype.we);
x.defineProperty(w,{we:"isModelReadOnly"},function(){var a=this.Nd;return a===p?q:a.hb},function(a){var b=this.Nd;b!==p&&(b.hb=a)});x.g(w,"isReadOnly",w.prototype.hb);x.defineProperty(w,{hb:"isReadOnly"},t("Dk"),function(a){var b=this.Dk;b!==a&&(x.k(a,"boolean",w,"isReadOnly"),this.Dk=a,this.j("isReadOnly",b,a))});x.g(w,"isEnabled",w.prototype.isEnabled);
x.defineProperty(w,{isEnabled:"isEnabled"},t("hi"),function(a){var b=this.hi;b!==a&&(x.k(a,"boolean",w,"isEnabled"),this.hi=a,this.j("isEnabled",b,a))});x.g(w,"allowClipboard",w.prototype.gv);x.defineProperty(w,{gv:"allowClipboard"},t("bt"),function(a){var b=this.bt;b!==a&&(x.k(a,"boolean",w,"allowClipboard"),this.bt=a,this.j("allowClipboard",b,a))});x.g(w,"allowCopy",w.prototype.Gj);
x.defineProperty(w,{Gj:"allowCopy"},t("ak"),function(a){var b=this.ak;b!==a&&(x.k(a,"boolean",w,"allowCopy"),this.ak=a,this.j("allowCopy",b,a))});x.g(w,"allowDelete",w.prototype.Qk);x.defineProperty(w,{Qk:"allowDelete"},t("bk"),function(a){var b=this.bk;b!==a&&(x.k(a,"boolean",w,"allowDelete"),this.bk=a,this.j("allowDelete",b,a))});x.g(w,"allowDragOut",w.prototype.hv);
x.defineProperty(w,{hv:"allowDragOut"},t("ct"),function(a){var b=this.ct;b!==a&&(x.k(a,"boolean",w,"allowDragOut"),this.ct=a,this.j("allowDragOut",b,a))});x.g(w,"allowDrop",w.prototype.sC);x.defineProperty(w,{sC:"allowDrop"},t("dt"),function(a){var b=this.dt;b!==a&&(x.k(a,"boolean",w,"allowDrop"),this.dt=a,this.j("allowDrop",b,a))});x.g(w,"allowTextEdit",w.prototype.Sn);
x.defineProperty(w,{Sn:"allowTextEdit"},t("lk"),function(a){var b=this.lk;b!==a&&(x.k(a,"boolean",w,"allowTextEdit"),this.lk=a,this.j("allowTextEdit",b,a))});x.g(w,"allowGroup",w.prototype.Nn);x.defineProperty(w,{Nn:"allowGroup"},t("ck"),function(a){var b=this.ck;b!==a&&(x.k(a,"boolean",w,"allowGroup"),this.ck=a,this.j("allowGroup",b,a))});x.g(w,"allowUngroup",w.prototype.Tn);
x.defineProperty(w,{Tn:"allowUngroup"},t("mk"),function(a){var b=this.mk;b!==a&&(x.k(a,"boolean",w,"allowUngroup"),this.mk=a,this.j("allowUngroup",b,a))});x.g(w,"allowInsert",w.prototype.On);x.defineProperty(w,{On:"allowInsert"},t("ft"),function(a){var b=this.ft;b!==a&&(x.k(a,"boolean",w,"allowInsert"),this.ft=a,this.j("allowInsert",b,a))});x.g(w,"allowLink",w.prototype.Vl);
x.defineProperty(w,{Vl:"allowLink"},t("dk"),function(a){var b=this.dk;b!==a&&(x.k(a,"boolean",w,"allowLink"),this.dk=a,this.j("allowLink",b,a))});x.g(w,"allowRelink",w.prototype.Hj);x.defineProperty(w,{Hj:"allowRelink"},t("gk"),function(a){var b=this.gk;b!==a&&(x.k(a,"boolean",w,"allowRelink"),this.gk=a,this.j("allowRelink",b,a))});x.g(w,"allowMove",w.prototype.Rk);
x.defineProperty(w,{Rk:"allowMove"},t("ek"),function(a){var b=this.ek;b!==a&&(x.k(a,"boolean",w,"allowMove"),this.ek=a,this.j("allowMove",b,a))});x.g(w,"allowPrint",w.prototype.Qr);x.defineProperty(w,{Qr:"allowPrint"},t("fk"),function(a){var b=this.fk;b!==a&&(x.k(a,"boolean",w,"allowPrint"),this.fk=a,this.j("allowPrint",b,a))});x.g(w,"allowReshape",w.prototype.Pn);
x.defineProperty(w,{Pn:"allowReshape"},t("hk"),function(a){var b=this.hk;b!==a&&(x.k(a,"boolean",w,"allowReshape"),this.hk=a,this.j("allowReshape",b,a))});x.g(w,"allowResize",w.prototype.Qn);x.defineProperty(w,{Qn:"allowResize"},t("ik"),function(a){var b=this.ik;b!==a&&(x.k(a,"boolean",w,"allowResize"),this.ik=a,this.j("allowResize",b,a))});x.g(w,"allowRotate",w.prototype.Rn);
x.defineProperty(w,{Rn:"allowRotate"},t("jk"),function(a){var b=this.jk;b!==a&&(x.k(a,"boolean",w,"allowRotate"),this.jk=a,this.j("allowRotate",b,a))});x.g(w,"allowSelect",w.prototype.me);x.defineProperty(w,{me:"allowSelect"},t("kk"),function(a){var b=this.kk;b!==a&&(x.k(a,"boolean",w,"allowSelect"),this.kk=a,this.j("allowSelect",b,a))});x.g(w,"allowUndo",w.prototype.Iy);
x.defineProperty(w,{Iy:"allowUndo"},t("gt"),function(a){var b=this.gt;b!==a&&(x.k(a,"boolean",w,"allowUndo"),this.gt=a,this.j("allowUndo",b,a))});x.g(w,"allowZoom",w.prototype.Un);x.defineProperty(w,{Un:"allowZoom"},t("it"),function(a){var b=this.it;b!==a&&(x.k(a,"boolean",w,"allowZoom"),this.it=a,this.j("allowZoom",b,a))});x.g(w,"hasVerticalScrollbar",w.prototype.zD);
x.defineProperty(w,{zD:"hasVerticalScrollbar"},t("Kt"),function(a){var b=this.Kt;b!==a&&(x.k(a,"boolean",w,"hasVerticalScrollbar"),this.Kt=a,this.j("hasVerticalScrollbar",b,a),wi(this))});x.g(w,"hasHorizontalScrollbar",w.prototype.yD);x.defineProperty(w,{yD:"hasHorizontalScrollbar"},t("Jt"),function(a){var b=this.Jt;b!==a&&(x.k(a,"boolean",w,"hasHorizontalScrollbar"),this.Jt=a,this.j("hasHorizontalScrollbar",b,a),wi(this))});x.g(w,"allowHorizontalScroll",w.prototype.uf);
x.defineProperty(w,{uf:"allowHorizontalScroll"},t("et"),function(a){var b=this.et;b!==a&&(x.k(a,"boolean",w,"allowHorizontalScroll"),this.et=a,this.j("allowHorizontalScroll",b,a),wi(this))});x.g(w,"allowVerticalScroll",w.prototype.vf);x.defineProperty(w,{vf:"allowVerticalScroll"},t("ht"),function(a){var b=this.ht;b!==a&&(x.k(a,"boolean",w,"allowVerticalScroll"),this.ht=a,this.j("allowVerticalScroll",b,a),wi(this))});x.g(w,"scrollHorizontalLineChange",w.prototype.Ms);
x.defineProperty(w,{Ms:"scrollHorizontalLineChange"},t("Gu"),function(a){var b=this.Gu;b!==a&&(x.k(a,"number",w,"scrollHorizontalLineChange"),0>a&&x.ra(a,">= 0",w,"scrollHorizontalLineChange"),this.Gu=a,this.j("scrollHorizontalLineChange",b,a))});x.g(w,"scrollVerticalLineChange",w.prototype.Ns);
x.defineProperty(w,{Ns:"scrollVerticalLineChange"},t("Hu"),function(a){var b=this.Hu;b!==a&&(x.k(a,"number",w,"scrollVerticalLineChange"),0>a&&x.ra(a,">= 0",w,"scrollVerticalLineChange"),this.Hu=a,this.j("scrollVerticalLineChange",b,a))});x.g(w,"lastInput",w.prototype.P);x.defineProperty(w,{P:"lastInput"},t("ac"),function(a){u&&x.i(a,Bd,w,"lastInput");this.ac=a});x.g(w,"firstInput",w.prototype.Ac);x.defineProperty(w,{Ac:"firstInput"},t("Eg"),function(a){u&&x.i(a,Bd,w,"firstInput");this.Eg=a});
x.g(w,"currentCursor",w.prototype.zc);x.defineProperty(w,{zc:"currentCursor"},t("wt"),function(a){x.k(a,"string",w,"currentCursor");this.wt===a||""===a&&this.wt===this.up||(this.wt=a,""!==a?(this.Ca.style.cursor=a,document.body.style.cursor=a):(this.Ca.style.cursor=this.az,document.body.style.cursor=this.az))});x.g(w,"defaultCursor",w.prototype.az);
x.defineProperty(w,{az:"defaultCursor"},t("up"),function(a){x.k(a,"string",w,"defaultCursor");var b=this.up;b!==a&&(this.up=a,this.j("defaultCursor",b,a))});x.g(w,"hasGestureZoom",w.prototype.eH);x.defineProperty(w,{eH:"hasGestureZoom"},t("xl"),function(a){var b=this.xl;b!==a&&(x.k(a,"boolean",w,"hasGestureZoom"),this.xl=a,this.j("hasGestureZoom",b,a))});x.g(w,"click",w.prototype.click);
x.defineProperty(w,{click:"click"},t("Yh"),function(a){var b=this.Yh;b!==a&&(a!==p&&x.k(a,"function",w,"click"),this.Yh=a,this.j("click",b,a))});x.g(w,"doubleClick",w.prototype.dm);x.defineProperty(w,{dm:"doubleClick"},t("bi"),function(a){var b=this.bi;b!==a&&(a!==p&&x.k(a,"function",w,"doubleClick"),this.bi=a,this.j("doubleClick",b,a))});x.g(w,"contextClick",w.prototype.Vr);
x.defineProperty(w,{Vr:"contextClick"},t("Zh"),function(a){var b=this.Zh;b!==a&&(a!==p&&x.k(a,"function",w,"contextClick"),this.Zh=a,this.j("contextClick",b,a))});x.g(w,"mouseOver",w.prototype.Ds);x.defineProperty(w,{Ds:"mouseOver"},t("pi"),function(a){var b=this.pi;b!==a&&(a!==p&&x.k(a,"function",w,"mouseOver"),this.pi=a,this.j("mouseOver",b,a))});x.g(w,"mouseHover",w.prototype.Cs);
x.defineProperty(w,{Cs:"mouseHover"},t("oi"),function(a){var b=this.oi;b!==a&&(a!==p&&x.k(a,"function",w,"mouseHover"),this.oi=a,this.j("mouseHover",b,a))});x.g(w,"mouseHold",w.prototype.Bs);x.defineProperty(w,{Bs:"mouseHold"},t("ni"),function(a){var b=this.ni;b!==a&&(a!==p&&x.k(a,"function",w,"mouseHold"),this.ni=a,this.j("mouseHold",b,a))});x.g(w,"mouseDragOver",w.prototype.eE);
x.defineProperty(w,{eE:"mouseDragOver"},t("mu"),function(a){var b=this.mu;b!==a&&(a!==p&&x.k(a,"function",w,"mouseDragOver"),this.mu=a,this.j("mouseDragOver",b,a))});x.g(w,"mouseDrop",w.prototype.As);x.defineProperty(w,{As:"mouseDrop"},t("mi"),function(a){var b=this.mi;b!==a&&(a!==p&&x.k(a,"function",w,"mouseDrop"),this.mi=a,this.j("mouseDrop",b,a))});x.g(w,"toolTip",w.prototype.Xs);
x.defineProperty(w,{Xs:"toolTip"},t("Ai"),function(a){var b=this.Ai;b!==a&&(a!==p&&x.i(a,Ye,w,"toolTip"),this.Ai=a,this.j("toolTip",b,a))});x.g(w,"contextMenu",w.prototype.contextMenu);x.defineProperty(w,{contextMenu:"contextMenu"},t("$h"),function(a){var b=this.$h;b!==a&&(a!==p&&x.i(a,Ye,w,"contextMenu"),this.$h=a,this.j("contextMenu",b,a))});x.g(w,"commandHandler",w.prototype.dg);
x.defineProperty(w,{dg:"commandHandler"},t("Tw"),function(a){var b=this.Tw;b!==a&&(x.i(a,wa,w,"commandHandler"),a.h!==p&&x.m("Cannot share CommandHandlers between Diagrams: "+a.toString()),b!==p&&b.Ef(p),this.Tw=a,a.Ef(this))});x.g(w,"toolManager",w.prototype.Xb);x.defineProperty(w,{Xb:"toolManager"},t("Zu"),function(a){var b=this.Zu;b!==a&&(x.i(a,We,w,"toolManager"),a.h!==p&&x.m("Cannot share ToolManagers between Diagrams: "+a.toString()),b!==p&&b.Ef(p),this.Zu=a,a.Ef(this))});
x.g(w,"defaultTool",w.prototype.vv);x.defineProperty(w,{vv:"defaultTool"},t("ax"),function(a){var b=this.ax;b!==a&&(x.i(a,cf,w,"defaultTool"),this.ax=a,this.Ma===b&&(this.Ma=a))});x.g(w,"currentTool",w.prototype.Ma);x.defineProperty(w,{Ma:"currentTool"},t("Ww"),function(a){var b=this.Ww;b!==p&&(b.Z&&b.doDeactivate(),b.cancelWaitAfter(),b.doStop());a===p&&(a=this.vv);a!==p&&(x.i(a,cf,w,"currentTool"),this.Ww=a,a.Ef(this),a.doStart())});x.u(w,{selection:"selection"},t("Ku"));
x.g(w,"maxSelectionCount",w.prototype.YD);x.defineProperty(w,{YD:"maxSelectionCount"},t("fu"),function(a){var b=this.fu;if(b!==a)if(x.k(a,"number",w,"maxSelectionCount"),0<=a&&!isNaN(a)){if(this.fu=a,this.j("maxSelectionCount",b,a),!this.wa.zb&&(a=this.selection.count-a,0<a)){this.Ea("ChangingSelection");for(var b=this.selection.vg(),c=0;c<a;c++)b[c].Va=q;this.Ea("ChangedSelection")}}else x.ra(a,">= 0",w,"maxSelectionCount")});x.g(w,"nodeSelectionAdornmentTemplate",w.prototype.iE);
x.defineProperty(w,{iE:"nodeSelectionAdornmentTemplate"},t("su"),function(a){var b=this.su;b!==a&&(x.i(a,Ye,w,"nodeSelectionAdornmentTemplate"),this.su=a,this.j("nodeSelectionAdornmentTemplate",b,a))});x.g(w,"groupSelectionAdornmentTemplate",w.prototype.vD);x.defineProperty(w,{vD:"groupSelectionAdornmentTemplate"},t("Ht"),function(a){var b=this.Ht;b!==a&&(x.i(a,Ye,w,"groupSelectionAdornmentTemplate"),this.Ht=a,this.j("groupSelectionAdornmentTemplate",b,a))});
x.g(w,"linkSelectionAdornmentTemplate",w.prototype.VD);x.defineProperty(w,{VD:"linkSelectionAdornmentTemplate"},t("Yt"),function(a){var b=this.Yt;b!==a&&(x.i(a,Ye,w,"linkSelectionAdornmentTemplate"),this.Yt=a,this.j("linkSelectionAdornmentTemplate",b,a))});x.g(w,"isModified",w.prototype.pH);x.defineProperty(w,{pH:"isModified"},function(){var a=this.wa;return a===p?this.qB:a.$l!==p?i:this.qB&&this.yk!==a.Uj},function(a){x.k(a,"boolean",w,"isModified");this.qB=a;var b=this.wa;!a&&b&&(this.yk=b.Uj)});
x.g(w,"model",w.prototype.da);x.defineProperty(w,{da:"model"},t("Nd"),function(a){var b=this.Nd;if(b!==a){x.i(a,J,w,"model");b!==p&&(b.wa!==a.wa&&b.wa.nH)&&x.m("Do not replace a Diagram.model while a transaction is in progress.");this.Gg=q;this.Hp=i;this.tf=q;var c=this.Vd;this.Vd=i;b!==p&&(b.Wz(this.AB),b instanceof T&&Mh(this,b.Yg),Mh(this,b.mg));this.Nd=a;a.Gy(this.zB);Nh(this,a.mg);a instanceof T&&Oh(this,a.Yg);a.Wz(this.zB);a.Gy(this.AB);this.Vd=c;this.Eb();b!==p&&(a.wa.isEnabled=b.wa.isEnabled)}});
function Kh(a,b,c){var d=a.Tj(b);if(d!==p&&"string"===typeof c)d.Bb(c),a.da instanceof $d&&(b=a.Af(b),b!==p&&b.Bb(c));else if("string"===typeof c){d=p;for(a=a.Dl.l;a.next();){for(var e=a.value,g=0;g<e.length;g++){var h=e[g];h.Nf!==p&&(h=h.Nf.va(b),h!==p&&(d===p&&(d=[]),d.push(h)))}if(d!==p)break}b=d;if(b!==p)for(d=0;d<b.length;d++)b[d].Bb(c)}}function Ni(a,b){var c=b.Ek;if(x.isArray(c)){var d=a.Dl.va(c);if(d===p)a.Dl.add(c,[b]);else{for(c=0;c<d.length;c++)if(d[c]===b)return;d.push(b)}}}
function Pi(a,b){var c=b.Ek;if(x.isArray(c)){var d=a.Dl.va(c);if(d!==p)for(var e=0;e<d.length;e++)if(d[e]===b){d.splice(e,1);0===d.length&&a.Dl.remove(c);break}}}
w.prototype.clear=w.prototype.clear=function(){var a=p;this.vd!==p&&(a=this.vd.fa);this.da.clear();for(var b=this.jb.length,c=0;c<b;c++)this.jb.o[c].clear();this.ph.clear();this.ij.clear();this.tu.clear();this.Sl.clear();this.Zt.clear();this.nb.clear();this.ai.clear();this.rk.clear();this.Dl.clear();this.Ku.Oa();this.Ku.clear();this.Ku.freeze();this.Km=this.Xx=p;this.Bt=(new L(NaN,NaN,NaN,NaN)).freeze();a!==p&&(this.add(a),this.nb.remove(a))};
w.prototype.reset=w.prototype.reset=function(){this.xc=i;this.clear();this.jb=new H(Ie);this.ob=(new K(NaN,NaN)).freeze();this.Rb=1;this.ju=1E-4;this.eu=100;this.dv=(new K(NaN,NaN)).freeze();this.Gt=(new L(NaN,NaN,NaN,NaN)).freeze();this.ql=Jh;this.ul=Cb;this.zk=Jh;this.Zm=Cb;this.Pt=this.Ot=Db;this.kt=(new gb(16,16,16,16)).freeze();this.Vt=i;this.av=dg;this.up="auto";this.Nd=this.$h=this.Ai=this.mi=this.mu=this.ni=this.oi=this.pi=this.Zh=this.bi=this.Yh=p;this.Dk=q;this.bk=this.ak=this.bt=this.hi=
i;this.dt=this.ct=q;this.ht=this.et=this.Kt=this.Jt=this.it=this.gt=this.kk=this.jk=this.ik=this.hk=this.fk=this.ek=this.gk=this.dk=this.ft=this.mk=this.ck=this.lk=i;this.Hu=this.Gu=16;this.ke=(new gb(5)).freeze();this.fu=999999999;this.yd=p;Wh(this);Xh(this);this.vd=p;this.da=new T;this.wi=i;this.Ub=new Yh;this.xc=this.wi=q};
w.prototype.rebuildParts=w.prototype.um=function(){for(var a=[],b=this.selection.l;b.next();){var c=b.value.data;c&&a.push(c)}b=this.da;b instanceof T&&Mh(this,b.Yg);Mh(this,b.mg);Nh(this,b.mg);b instanceof T&&Oh(this,b.Yg);for(b=0;b<a.length;b++)if(c=this.Tj(a[b]))c.Va=i};
function Nh(a,b){if(b!==p){for(var c=a.da,d=x.Yb(b),e=0;e<d;e++){var g=x.Jb(b,e);c.se(g)?Ph(a,g,q):c instanceof T&&Qh(a,g)}if(c instanceof T||c instanceof $d){for(e=0;e<d;e++)g=x.Jb(b,e),c.se(g)&&Si(a,g);if(c instanceof T)for(c=a.links;c.next();)Ti(c.value)}Ui(a,q)}}
function Ph(a,b,c){if(!(b===f||b===p)&&!a.wa.zb&&!a.ai.contains(b)){c===f&&(c=i);var d=a.getCategoryForNodeData(b),e=a.findTemplateForNodeData(b,d);e instanceof z&&($e(e),e=e.copy(),e instanceof z&&(e.ej=d,a.add(e),e.data=b,c&&Si(a,b)))}}w.prototype.getCategoryForNodeData=w.prototype.pD=function(a){var b=this.da,c=b.pD(a),d=q;b instanceof T&&(d=b.yz(a));d&&""===c&&(c="LinkLabel");return c};
w.prototype.findTemplateForNodeData=w.prototype.EK=function(a,b){var c=q,d=this.da;d instanceof T&&(c=d.vz(a));c?(c=this.pz.va(b),c===p&&(c=this.pz.va(""),c===p&&(x.IF===f&&(x.IF=i,x.trace('No Group template found for category "'+b+'"'),x.trace("  Using default group template")),c=this.WA))):(c=this.Pz.va(b),c===p&&(c=this.Pz.va(""),c===p&&(x.LF===f&&(x.LF=i,x.trace('No Node template found for category "'+b+'"'),x.trace("  Using default node template")),c=this.YA)));return c instanceof z?c:p};
function Si(a,b){var c=a.da;if(c instanceof T||c instanceof $d){var d=c.rb(b);if(d!==f){var e=ze(c,d),g=a.cs(b);if(e!==p&&g!==p){for(e=e.l;e.next();){var h=e.value;if(c instanceof T)if(c.se(h)){if(g instanceof B&&c.ko(h)===d){var j=a.Tj(h);j!==p&&(j.Za=g)}}else{if(j=a.Af(h),j!==p){c.im(h)===d&&(j.ja=g);c.jm(h)===d&&(j.na=g);for(var h=c.al(h),k=0;k<h.length;k++)if(h[k]===d){g.ad=j;break}}}else c instanceof $d&&(c.se(h)&&c.lo(h)===d)&&(j=a.cs(h),Lh(a,g,j))}Be(c,d)}c instanceof T?(c=c.ko(b),c!==f&&(c=
a.fg(c),c instanceof B&&(g.Za=c))):c instanceof $d&&(c=c.lo(b),c!==f&&(c=a.fg(c),Lh(a,c,g)))}}}function Lh(a,b,c){if(!(b===p||c===p)){var d=a.Xb.Ez,e=b,g=c;if(a.rd)for(b=g.Rd;b.next();){var h=b.value;if(h.na===g)return}else{e=c;g=b;for(b=e.Rd;b.next();)if(h=b.value,h.ja===e)return}d!==p&&fg(d,e,g,p)||(d=a.getCategoryForLinkData(c.data),b=a.findTemplateForLinkData(c.data,d),b instanceof F&&($e(b),b=b.copy(),b instanceof F&&(b.ej=d,b.ja=e,b.na=g,a.add(b),b.data=c.data)))}}
function Oh(a,b){if(b!==p){for(var c=x.Yb(b),d=0;d<c;d++)Qh(a,x.Jb(b,d));Ui(a,q)}}
function Qh(a,b){if(!(b===f||b===p)&&!a.wa.zb&&!a.rk.contains(b)){var c=a.getCategoryForLinkData(b),d=a.findTemplateForLinkData(b,c);if(d instanceof F&&($e(d),d=d.copy(),d instanceof F)){d.ej=c;var c=a.da,e=c.ZG(b);""!==e&&(d.Lh=e);e=c.im(b);e!==f&&(e=a.fg(e),e instanceof A&&(d.ja=e));e=c.bH(b);""!==e&&(d.Xi=e);e=c.jm(b);e!==f&&(e=a.fg(e),e instanceof A&&(d.na=e));c=c.al(b);if(x.isArray(c))for(var e=x.Yb(c),g=0;g<e;g++){var h=a.fg(x.Jb(c,g));h!==p&&(h.ad=d)}a.add(d);d.data=b}}}
w.prototype.getCategoryForLinkData=w.prototype.oD=function(a){var b=this.da,c="";b instanceof T?c=b.oD(a):b instanceof $d&&(c=b.aH(a));return c};w.prototype.findTemplateForLinkData=w.prototype.DK=function(a,b){var c=this.Cz.va(b);c===p&&(c=this.Cz.va(""),c===p&&(x.KF===f&&(x.KF=i,x.trace('No Link template found for category "'+b+'"'),x.trace("  Using default link template")),c=this.XA));return c instanceof F?c:p};function Mh(a,b){for(var c=x.Yb(b),d=0;d<c;d++)Rh(a,x.Jb(b,d))}
function Rh(a,b){if(!(b===f||b===p)){var c=a.Tj(b);if(c instanceof z){c.Va=q;var d=c.Ka;if(!(d===p||d.h!==a)){var e=a.da;if(e instanceof T&&c instanceof A){var g=e.rb(c.data);if(g!==f){for(var h=c.Rd;h.next();){var j=h.value.data;Ae(e,g,j)}c.Ri&&(h=c.ad,h!==p&&(j=h.data,Ae(e,g,j)));if(c instanceof B)for(h=c.Ic;h.next();)j=h.value.data,e.se(j)&&Ae(e,g,j)}}else if(e instanceof $d&&c instanceof A){h=a.Af(c.data);if(h!==p&&(h.Va=q,j=h.Ka,j!==p)){var k=j.Qd(-1,h);0<=k&&a.Uc(Vd,"parts",j,h,p,k,p);k=h.po;
k!==p&&k(h,j,p)}h=a.rd;for(j=c.Rd;j.next();)k=j.value,k=(h?k.na:k.ja).data,e.se(k)&&Ae(e,g,k)}e=d.Qd(-1,c);0<=e&&a.Uc(Vd,"parts",d,c,p,e,p);e=c.po;e!==p&&e(c,d,p)}}}}w.prototype.findPartForKey=w.prototype.AK=function(a){if(a===p||a===f)return p;a=this.da.Ke(a);if(a===p)return p;a=this.ai.va(a);return a instanceof z?a:p};w.prototype.findNodeForKey=w.prototype.fg=function(a){if(a===p||a===f)return p;a=this.da.Ke(a);if(a===p)return p;a=this.ai.va(a);return a instanceof A?a:p};
w.prototype.findPartForData=w.prototype.Tj=function(a){if(a===p)return p;var b=this.ai.va(a);if(b instanceof z)return b;b=this.rk.va(a);return b instanceof z?b:p};w.prototype.findNodeForData=w.prototype.cs=function(a){if(a===p)return p;a=this.ai.va(a);return a instanceof A?a:p};w.prototype.findLinkForData=w.prototype.Af=function(a){if(a===p)return p;a=this.rk.va(a);return a instanceof F?a:p};x.g(w,"nodeTemplate",w.prototype.LH);
x.defineProperty(w,{LH:"nodeTemplate"},function(){return this.qi.va("")},function(a){var b=this.qi.va("");b!==a&&(x.i(a,z,w,"nodeTemplate"),this.qi.add("",a),this.j("nodeTemplate",b,a),this.wa.zb||this.um())});x.g(w,"nodeTemplateMap",w.prototype.Pz);x.defineProperty(w,{Pz:"nodeTemplateMap"},t("qi"),function(a){var b=this.qi;b!==a&&(x.i(a,pa,w,"nodeTemplateMap"),this.qi=a,this.j("nodeTemplateMap",b,a),this.wa.zb||this.um())});x.g(w,"groupTemplate",w.prototype.dH);
x.defineProperty(w,{dH:"groupTemplate"},function(){return this.wk.va("")},function(a){var b=this.wk.va("");b!==a&&(x.i(a,B,w,"groupTemplate"),this.wk.add("",a),this.j("groupTemplate",b,a),this.wa.zb||this.um())});x.g(w,"groupTemplateMap",w.prototype.pz);x.defineProperty(w,{pz:"groupTemplateMap"},t("wk"),function(a){var b=this.wk;b!==a&&(x.i(a,pa,w,"groupTemplateMap"),this.wk=a,this.j("groupTemplateMap",b,a),this.wa.zb||this.um())});x.g(w,"linkTemplate",w.prototype.zH);
x.defineProperty(w,{zH:"linkTemplate"},function(){return this.oj.va("")},function(a){var b=this.oj.va("");b!==a&&(x.i(a,F,w,"linkTemplate"),this.oj.add("",a),this.j("linkTemplate",b,a),this.wa.zb||this.um())});x.g(w,"linkTemplateMap",w.prototype.Cz);x.defineProperty(w,{Cz:"linkTemplateMap"},t("oj"),function(a){var b=this.oj;b!==a&&(x.i(a,pa,w,"linkTemplateMap"),this.oj=a,this.j("linkTemplateMap",b,a),this.wa.zb||this.um())});x.g(w,"isMouseCaptured",w.prototype.Hc);
x.defineProperty(w,{Hc:"isMouseCaptured"},t("rB"),function(a){var b=this.Ca;a?(this.P.bubbles=q,b.removeEventListener("mousemove",this.yo,q),b.removeEventListener("mousedown",this.xo,q),b.removeEventListener("mouseup",this.Ao,q),b.removeEventListener("mousewheel",this.ah,q),b.removeEventListener("DOMMouseScroll",this.ah,q),b.removeEventListener("mouseout",this.zo,q),window.addEventListener("mousemove",this.yo,i),window.addEventListener("mousedown",this.xo,i),window.addEventListener("mouseup",this.Ao,
i),window.addEventListener("mousewheel",this.ah,i),window.addEventListener("DOMMouseScroll",this.ah,i),window.addEventListener("mouseout",this.zo,i),window.addEventListener("selectstart",this.preventDefault,q)):(window.removeEventListener("mousemove",this.yo,i),window.removeEventListener("mousedown",this.xo,i),window.removeEventListener("mouseup",this.Ao,i),window.removeEventListener("mousewheel",this.ah,i),window.removeEventListener("DOMMouseScroll",this.ah,i),window.removeEventListener("mouseout",
this.zo,i),window.removeEventListener("selectstart",this.preventDefault,q),b.addEventListener("mousemove",this.yo,q),b.addEventListener("mousedown",this.xo,q),b.addEventListener("mouseup",this.Ao,q),b.addEventListener("mousewheel",this.ah,q),b.addEventListener("DOMMouseScroll",this.ah,q),b.addEventListener("mouseout",this.zo,q));this.rB=a});x.g(w,"position",w.prototype.position);
x.defineProperty(w,{position:"position"},t("ob"),function(a){var b=this.ob;if(!b.K(a)){x.i(a,K,w,"position");var c=this.Ya.copy();c.x=b.x;c.y=b.y;b.Sj(a)?a=b:this.xc||(this.xc=i,b=this.scale,yi(this,a,this.pc,this.Ca.width/b,this.Ca.height/b,this.ul),this.xc=q);this.ob=a.Q();this.Hs(c,this.Ya);this.Eb()}});x.g(w,"initialPosition",w.prototype.CD);x.defineProperty(w,{CD:"initialPosition"},t("ux"),function(a){this.ux.K(a)||(x.i(a,K,w,"initialPosition"),this.ux=a)});x.g(w,"initialScale",w.prototype.DD);
x.defineProperty(w,{DD:"initialScale"},t("vx"),function(a){this.vx!==a&&(x.k(a,"number",w,"initialScale"),this.vx=a)});x.g(w,"grid",w.prototype.Kv);x.defineProperty(w,{Kv:"grid"},function(){this.vd===p&&ti(this);return this.vd},function(a){var b=this.vd;if(b!==a){b===p&&(ti(this),b=this.vd);x.i(a,G,w,"grid");a.type!==ui&&x.m("Diagram.grid must be a Panel of type Panel.Grid");var c=b.ea;c!==p&&c.remove(b);this.vd=a;a.name="GRID";c!==p&&c.add(a);Hh(this);this.j("grid",b,a)}});
x.u(w,{Ya:"viewportBounds"},function(){var a=this.ob,b=this.Rb,c=this.Ca,d=this.hC;d.Y(a.x,a.y,Math.max(c.width,0)/b,Math.max(c.height,0)/b);return d});x.g(w,"fixedBounds",w.prototype.gs);x.defineProperty(w,{gs:"fixedBounds"},t("Gt"),function(a){var b=this.Gt;b.K(a)||(x.i(a,L,w,"fixedBounds"),this.Gt=a=a.Q(),Ci(this),this.j("fixedBounds",b,a))});x.u(w,{pc:"documentBounds"},t("Bt"));function zi(a,b){var c=a.Bt;c.K(b)||(b=b.Q(),a.Bt=b,a.fi=q,wi(a),a.Ea("DocumentBoundsChanged",p,c.copy()),Ei(a))}
x.g(w,"scale",w.prototype.scale);
x.defineProperty(w,{scale:"scale"},t("Rb"),function(a){var b=this.Rb;if(b!==a){x.n(a,w,"scale");this.Rb=a;var c=a;a<this.Wj&&(c=this.Wj);a>this.Oh&&(c=this.Oh);if(!isNaN(a)&&!this.xc&&!this.Vd){this.xc=i;var d=this.Ya.copy(),e=this.Ca.width/c,g=this.Ca.height/c;d.width=this.Ca.width/b;d.height=this.Ca.height/b;var h=this.nl.copy();if(isNaN(h.x))switch(this.tv){case Vb:h.x=0;break;case Yb:h.x=e-1;break;case Kb:h.x=e/2;break;case Cb:case $b:h.x=e/2}if(isNaN(h.y))switch(this.tv){case Ub:h.y=0;break;
case Zb:h.y=g-1;break;case Kb:h.y=g/2;break;case Cb:case $b:h.y=g/2}var j=this.position,a=new K(j.x+h.x/b-h.x/a,j.y+h.y/b-h.y/a);yi(this,a,this.pc,e,g,this.ul);this.position=a;this.xc=q;e=this.Ya;this.Rb=c;this.Hs(d,e)}Hh(this);Ei(this)}});x.g(w,"autoScale",w.prototype.Ly);x.defineProperty(w,{Ly:"autoScale"},t("ql"),function(a){var b=this.ql;b!==a&&(x.pb(a,w,w,"autoScale"),this.ql=a,this.j("autoScale",b,a),a!==Jh&&wi(this))});x.g(w,"initialAutoScale",w.prototype.hH);
x.defineProperty(w,{hH:"initialAutoScale"},t("zk"),function(a){var b=this.zk;b!==a&&(x.pb(a,w,w,"initialAutoScale"),this.zk=a,this.j("initialAutoScale",b,a))});x.g(w,"initialViewportSpot",w.prototype.ED);x.defineProperty(w,{ED:"initialViewportSpot"},t("Pt"),function(a){var b=this.Pt;b!==a&&(x.i(a,N,w,"initialViewportSpot"),wb(a)||x.m("initialViewportSpot must be a real Spot: "+a),this.Pt=a,this.j("initialViewportSpot",b,a))});x.g(w,"initialDocumentSpot",w.prototype.BD);
x.defineProperty(w,{BD:"initialDocumentSpot"},t("Ot"),function(a){var b=this.Ot;b!==a&&(x.i(a,N,w,"initialDocumentSpot"),wb(a)||x.m("initialViewportSpot must be a real Spot: "+a),this.Ot=a,this.j("initialDocumentSpot",b,a))});x.g(w,"minScale",w.prototype.Wj);x.defineProperty(w,{Wj:"minScale"},t("ju"),function(a){x.n(a,w,"minScale");var b=this.ju;b!==a&&0<a?(this.ju=a,this.j("minScale",b,a),a>this.scale&&(this.scale=a)):x.ra(a,"> 0",w,"minScale")});x.g(w,"maxScale",w.prototype.Oh);
x.defineProperty(w,{Oh:"maxScale"},t("eu"),function(a){x.n(a,w,"maxScale");var b=this.eu;b!==a&&0<a?(this.eu=a,this.j("maxScale",b,a),a<this.scale&&(this.scale=a)):x.ra(a,"> 0",w,"maxScale")});x.g(w,"zoomPoint",w.prototype.nl);x.defineProperty(w,{nl:"zoomPoint"},t("dv"),function(a){this.dv.K(a)||(x.i(a,K,w,"zoomPoint"),this.dv=a=a.Q(),Ci(this))});x.g(w,"contentAlignment",w.prototype.tv);
x.defineProperty(w,{tv:"contentAlignment"},t("ul"),function(a){var b=this.ul;b.K(a)||(x.i(a,N,w,"contentAlignment"),this.ul=a=a.Q(),this.j("contentAlignment",b,a),wi(this))});x.g(w,"initialContentAlignment",w.prototype.iH);x.defineProperty(w,{iH:"initialContentAlignment"},t("Zm"),function(a){var b=this.Zm;b.K(a)||(x.i(a,N,w,"initialContentAlignment"),this.Zm=a=a.Q(),this.j("initialContentAlignment",b,a))});x.g(w,"padding",w.prototype.padding);
x.defineProperty(w,{padding:"padding"},t("ke"),function(a){"number"===typeof a?a=new gb(a):x.i(a,gb,w,"padding");var b=this.ke;b.K(a)||(this.ke=a=a.Q(),Ci(this),this.j("padding",b,a))});x.u(w,{hl:"nodes"},function(){return this.tu.l});x.u(w,{links:"links"},function(){return this.Zt.l});x.u(w,{Ui:"parts"},function(){return this.nb.l});x.g(w,"layout",w.prototype.Ub);
x.defineProperty(w,{Ub:"layout"},t("yd"),function(a){var b=this.yd;b!==a&&(x.i(a,Yh,w,"layout"),b!==p&&(b.h=p,b.group=p),this.yd=a,a.h=this,a.group=p,this.Cn=this.jt=i,this.j("layout",b,a),this.Eb())});w.prototype.layoutDiagram=w.prototype.wL=function(a){Vh(this);a&&Ui(this,i);Fi(this)};function Ui(a,b){for(var c=a.Sl.l;c.next();)Vi(a,c.value,b);a.Ub!==p&&(b?a.Ub.Re=q:a.Ub.G())}function Vi(a,b,c){if(b!==p){for(var d=b.Ll.l;d.next();)Vi(a,d.value,c);b.Ub!==p&&(c?b.Ub.Re=q:b.Ub.G())}}
function Fi(a){for(var b=a.Sl.l;b.next();)Wi(a,b.value);b=a.Ub;b!==p&&!b.Re&&(b.doLayout(a),b.Re=i);a.jt=q}function Wi(a,b){if(b!==p){for(var c=b.Ll.l;c.next();)Wi(a,c.value);c=b.Ub;c!==p&&!c.Re&&(b.HB=!b.location.R(),c.doLayout(b),b.G(Xi),c.Re=i,Hi(a,b))}}x.g(w,"isTreePathToChildren",w.prototype.rd);x.defineProperty(w,{rd:"isTreePathToChildren"},t("Vt"),function(a){var b=this.Vt;if(b!==a&&(x.k(a,"boolean",w,"isTreePathToChildren"),this.Vt=a,this.j("isTreePathToChildren",b,a),!this.wa.zb))for(a=this.hl;a.next();)Yi(a.value)});
x.g(w,"isCollapsingExpanding",w.prototype.hg);x.defineProperty(w,{hg:p},t("oB"),ba("oB"));function Zi(a,b){var c=a.ex.va(b);if(c!==p)return c;c=a.ex.va(b.toLowerCase());if(c!==p)return c;x.m("Unknown DiagramEvent name: "+b);return p}w.prototype.addDiagramListener=w.prototype.nC=function(a,b){x.k(a,"string",w,"addDiagramListener:name");x.k(b,"function",w,"addDiagramListener:listener");var c=Zi(this,a);c!==p&&c.add(b)};
w.prototype.removeDiagramListener=w.prototype.sE=function(a,b){x.k(a,"string",w,"removeDiagramListener:name");x.k(b,"function",w,"addDiagramListener:listener");var c=Zi(this,a);c!==p&&c.remove(b)};w.prototype.raiseDiagramEvent=w.prototype.Ea=function(a,b,c){u&&x.k(a,"string",w,"raiseDiagramEvent:name");var d=Zi(this,a),e=new Cd;e.h=this;var g=this.bx.va(a),a=g!==p?g:this.bx.va(a.toLowerCase());e.name=a;b!==f&&(e.iw=b);c!==f&&(e.Wv=c);for(b=d.l;b.next();)c=b.value,c(e);return e.cancel};
function Yf(a,b){for(var c=a.gm(b,function(a){return a.fa},function(a){return a instanceof F},i).l;c.next();){var d=c.value;d.Qh===Ef&&d.Zb()}}
function la(a,b,c){a.hd===p&&(a.hd=new $i);var d=p;a.hd.mm||(d=c!==p?c.Za:p);if(a.hd.mm||a.hd.group!==d){if(d===p){var e;if(a.fi){if(a.gs.R())e=a.gs.copy();else{for(var b=i,c=a.jb,g=c.length,h=0;h<g;h++){var j=c.o[h];if(j.visible&&!j.Cc)for(var j=j.nb,k=j.length,l=0;l<k;l++){var m=j.o[l];m.rs&&m.tb()&&(m=m.ya,m.R()&&(b?(b=q,e=m.copy()):e.Yi(m)))}}b&&(e=new L(0,0,0,0))}e.Lr(a.padding)}else e=a.pc.copy();e.Wg(100,100);a.hd.initialize(e);for(e=a.hl;e.next();)b=e.value,c=b.Ka,c===p||(!c.visible||c.Cc)||
aj(a,b)}else{e=d.ya.copy();e.Wg(20,20);a.hd.initialize(e);for(e=d.Ic;e.next();)b=e.value,b instanceof A&&aj(a,b)}a.hd.group=d;a.hd.mm=q}else b&&bj(a.hd);return a.hd}function aj(a,b){if(b!==p&&b.canAvoid()){for(var c=b.getAvoidableRectangle(),d=a.hd.Xl,e=a.hd.Wl,g=c.x+c.width,h=c.y+c.height,j=c.x;j<g;j+=d){for(var k=c.y;k<h;k+=e)cj(a.hd,j,k);cj(a.hd,j,h)}for(k=c.y;k<h;k+=e)cj(a.hd,g,k);cj(a.hd,g,h)}}function dj(a,b){if(a.hd!==p&&!a.hd.mm&&(b===p||b.canAvoid()))a.hd.mm=i}
function pi(a,b,c){if(mf!==p){c instanceof w||(c=p);var d=Cf;c!==d&&(d!==p&&d.Xb.ue!==p&&d.Xb.ue.doSimulatedDragLeave(),c!==p&&c.Xb.ue!==p&&c.Xb.ue.doSimulatedDragEnter());Cf=c;if(c===p)return i;d=c.Xb.ue;d!==p&&(a!==p&&(b=c.Fg(a)),c.ac.O=b,c.ac.Rj=q,c.ac.Zi=q,d.doSimulatedDragOver());return i}return q}
function ri(a,b,c,d){if(mf!==p){d===p&&(d=p);var e=Cf;d!==e&&(e!==p&&e.Xb.ue!==p&&e.Xb.ue.doSimulatedDragLeave(),d!==p&&d.Xb.ue!==p&&d.Xb.ue.doSimulatedDragEnter());Cf=d;if(d===p)return mf.doCancel(),i;if(d!==a)return a=c,b!==p&&(a=d.Fg(b)),d.ac.O=a,d.ac.Rj=q,d.ac.Zi=i,b=d.Xb.ue,b!==p&&b.doSimulatedDrop(),mf!==p&&mf.doCancel(),i}return q}x.g(w,"autoScrollRegion",w.prototype.zC);
x.defineProperty(w,{zC:"autoScrollRegion"},t("kt"),function(a){"number"===typeof a?a=new gb(a):x.i(a,gb,w,"autoScrollRegion");var b=this.kt;b.K(a)||(this.kt=a=a.Q(),Ci(this),this.j("autoScrollRegion",b,a))});
function Nf(a){if(a.hh===p){a.hh={};var b;b=a.Ma!==a.Xb.ue?a.nF:a.oF;a.hh.isEnabled=i;var c=setInterval(function(){var b=c;a.hh!==p&&a.hh.isEnabled&&(a.hh=p,clearInterval(b),b=Mf(a,a.Qw),b.Li(a.position)||(a.position=b,a.P.O=a.FI(a.Qw),a.Ma.doMouseMove(),a.fi=i,zi(a,a.re()),a.oh=i,a.Zg(),Nf(a)))},b);a.hh.id=c}}function pf(a){a.hh!==p&&(a.hh.isEnabled&&clearInterval(a.hh.id),a.hh=p)}
function Mf(a,b){var c=a.position,d=a.zC;if(0>=d.top&&0>=d.left&&0>=d.right&&0>=d.bottom)return c;var e=a.Ya,g=new L(0,0,e.width,e.height),e=new K(0,0);if(b.x>=g.x&&b.x<g.x+d.left){var h=Math.max(a.Ms,1),h=h|0;e.x-=h;b.x<g.x+d.left/2&&(e.x-=h);b.x<g.x+d.left/4&&(e.x-=4*h)}else b.x<=g.x+g.width&&b.x>g.x+g.width-d.right&&(h=Math.max(a.Ms,1),h|=0,e.x+=h,b.x>g.x+g.width-d.right/2&&(e.x+=h),b.x>g.x+g.width-d.right/4&&(e.x+=4*h));b.y>=g.y&&b.y<g.y+d.top?(h=Math.max(a.Ns,1),h|=0,e.y-=h,b.y<g.y+d.top/2&&
(e.y-=h),b.y<g.y+d.top/4&&(e.y-=4*h)):b.y<=g.y+g.height&&b.y>g.y+g.height-d.bottom&&(h=Math.max(a.Ns,1),h|=0,e.y+=h,b.y>g.y+g.height-d.bottom/2&&(e.y+=h),b.y>g.y+g.height-d.bottom/4&&(e.y+=4*h));e.Li(new K(0,0))||(d=a.scale,c=new K(c.x+e.x/d,c.y+e.y/d));return c}w.prototype.makeImage=w.prototype.yL=function(a){var b=document.createElement("img");b.src=this.BH(a);return b instanceof HTMLImageElement?b:p};
w.prototype.makeImageData=w.prototype.BH=function(a){this.Zg();if(this.Ca===p)return"";a===f&&(a={});"object"!==typeof a&&x.m("properties argument must be an Object.");var b=a.size||p,c=a.scale||p,d=a.maxSize||new cb(2E3,2E3),e=a.position||p,g=a.parts||p,h=a.padding||1,j=a.background||p,k=a.omitTemporary;k===f&&(k=i);b!==p&&(isNaN(b.width)&&isNaN(b.height))&&(b=p);h&&"number"===typeof h&&(h=new gb(h));h||(h=new gb(0));this.Dt=q;si(this);var l=document.createElement("canvas"),m=l.getContext("2d");
if(!b&&!c&&!g&&!e)return l.width=this.Ca.width+Math.ceil(h.left+h.right),l.height=this.Ca.height+Math.ceil(h.top+h.bottom),Ii(this,m,h,new cb(l.width,l.height),this.Rb,this.ob,g,j,k),this.Dt=i,l.toDataURL(a.type,a.details);var n,r=new K(0,0);n=this.pc.copy();n.xI(this.padding);n.width-=r.x;n.height-=r.y;if(g){var s,v=i,g=g.l;for(g.reset();g.next();){var y=g.value;if(y instanceof z){var C=y.Ka;if(!C||C.visible)if((!C||!C.Cc)&&y.tb())y=y.ya,y.R()&&(v?(v=q,s=y.copy()):s.Yi(y))}}v&&(s=new L(0,0,0,0));
n.width=s.width;n.height=s.height;r.x=s.x;r.y=s.y}r.x+=n.x;r.y+=n.y;e!==p&&e.R()&&(r=e,c||(c=1));s=e=0;h&&(e=h.left+h.right,s=h.top+h.bottom);v=y=0;b&&(y=b.width,v=b.height,isFinite(y)&&(y=Math.max(0,y-e)),isFinite(v)&&(v=Math.max(0,v-s)));b&&c?b.R()?(b=y,n=v):isNaN(v)?(b=y,n=n.height*c):(b=n.width*c,n=v):b?b.R()?(c=Math.min(y/n.width,v/n.height),b=y,n=v):isNaN(v)?(c=y/n.width,b=y,n=n.height*c):(c=v/n.height,b=n.width*c,n=v):c?(b=n.width*c,n=n.height*c):(c=1,b=n.width,n=n.height);h?(b+=e,n+=s):h=
new gb(0);d&&(e=d.width,isNaN(e)&&(e=2E3),d=d.height,isNaN(d)&&(d=2E3),isFinite(e)&&(b=Math.min(b,e)),isFinite(d)&&(n=Math.min(n,d)));l.width=b;l.height=n;Ii(this,m,h,new cb(Math.ceil(b),Math.ceil(n)),c,r,g,j,k);this.Dt=i;return l.toDataURL(a.type,a.details)};w.inherit=function(a,b){x.k(a,"function",w,"inherit");x.k(b,"function",w,"inherit");x.Ja(a,b)};function ej(a){w.call(this,a);this.hv=i;this.Rk=q;this.hb=i;this.tv=Eb;this.Ub=new fj}x.S("Palette",ej);x.Ja(ej,w);
function Ji(a){w.call(this,a);this.xc=i;this.ri=p;var a=new z,b=new V;b.stroke="magenta";b.ib=2;b.fill=p;b.name="BOXSHAPE";a.Lo="BOXSHAPE";a.xs="BOXSHAPE";a.add(b);this.cj=a;this.oy=document.createElement("canvas");this.CF=this.oy.getContext("2d");a=new gj;a.Ef(this);this.Xb.Te.Bc(0,a);var c=this;this.kE=function(){hj(c)};this.jE=function(){c.ri!==p&&(Ci(c),Hh(c))};this.hb=i;this.me=q;this.Ly=Ai;this.Xb.sm=ef;this.xc=q}x.S("Overview",Ji);x.Ja(Ji,w);
Ji.prototype.Je=function(){this.Pb===p&&x.m("No div specified");this.Ca===p&&x.m("No canvas specified");if(this.oh){var a=this.ri;if(a!==p){var b=this.Ca,c=this.Bg,d=this.oy,e=this.CF;d.width=b.width;d.height=b.height;c.Lw="";c.setTransform(1,0,0,1,0,0);c.clearRect(0,0,this.Ca.width,this.Ca.height);var g=this.ld;g.reset();1!==this.Rb&&g.scale(this.scale);(0!==this.position.x||0!==this.position.y)&&g.translate(-this.ob.x,-this.ob.y);c.setTransform(g.m11,g.m12,g.m21,g.m22,g.dx,g.dy);for(var h=this.Ya,
j=a.jb.length,g=0;g<j;g++)for(var k=c,l=h,m=a.jb.o[g].nb,n=this.scale,r=m.length,s=0;s<r;s++){var v=m.o[s],y=v.ya;y.Oe(l)&&(1<y.width*n||1<y.height*n?v.Je(k,this):Gh(v,k))}e.drawImage(b,0,0);u&&u.Wn&&(e.fillStyle="red",e.fillRect(0,d.height/2,d.width,4));a=this.jb.length;for(g=0;g<a;g++)this.jb.o[g].Je(c,this);u&&(u.eD||u.Wn)&&u.cD(c,this);this.oh=this.Ck=q}}};x.g(Ji,"observed",Ji.prototype.MH);
x.defineProperty(Ji,{MH:"observed"},t("ri"),function(a){var b=this.ri;a!==p&&x.i(a,w,Ji,"observed");b!==a&&!(a instanceof Ji)&&(b!==p&&(this.remove(this.od),b.sE("ViewportBoundsChanged",this.kE),b.sE("DocumentBoundsChanged",this.jE),b.zu.remove(this),this.Xb.$r.at=p),this.ri=a,a!==p&&(a.nC("ViewportBoundsChanged",this.kE),a.nC("DocumentBoundsChanged",this.jE),a.zu.add(this),this.add(this.od),hj(this),this.Xb.$r.at=a),Ci(this),this.j("observed",b,a))});x.g(Ji,"box",Ji.prototype.od);
x.defineProperty(Ji,{od:"box"},t("cj"),function(a){var b=this.cj;b!==a&&(this.cj=a,this.j("box",b,a))});function hj(a){var b=a.od;if(b!==p){var c=a.ri;if(c!==p){a.oh=i;var c=c.Ya,d=b.Ko;d.za=new cb(c.width,c.height);a=2/a.scale;d instanceof V&&(d.ib=a);b.location=new K(c.x-a/2,c.y-a/2)}}}Ji.prototype.re=function(){var a=this.ri;return a===p?new L(0,0,0,0):a.pc};Ji.prototype.Hs=function(a){this.xc||(vi(this),Hh(this),Ei(this),Ci(this),hj(this),this.Ea("ViewportBoundsChanged",a))};
function gj(){cf.call(this);this.name="MoveBox"}x.Ja(gj,cf);gj.prototype.doStart=gj.prototype.fz=function(){this.Z=this.h.Hc=i};gj.prototype.doMouseMove=gj.prototype.Vg=function(){if(this.Z){var a=this.h;if(!(a===p||a.ri===p)){var b=a.ri,c=b.Ya,d=a.P.O;b.position=new K(d.x-c.width/2,d.y-c.height/2);a.Eb()}}};gj.prototype.doMouseUp=gj.prototype.te=function(){this.Z&&this.doMouseMove();this.stopTool()};gj.prototype.doStop=gj.prototype.Yk=function(){this.Z=q;var a=this.h;a.Hc=q;hj(a)};
function be(a){x.lc(this);this.fb=q;a===f?(this.V=ee,this.Jm="black"):"string"===typeof a?(this.V=ee,this.Jm=a):(u&&x.pb(a,be,be,"constructor:type"),this.V=a,this.Jm="black");a=this.V;a===fe?(this.un=Eb,this.Rm=Mb):this.Rm=a===ve?this.un=Kb:this.un=Bb;this.Pu=0;this.Et=NaN;this.NA=this.OA=this.Ag=this.Bu=this.yg=p}x.S("Brush",be);var ee;be.Solid=ee=x.s(be,"Solid",0);var fe;be.Linear=fe=x.s(be,"Linear",1);var ve;be.Radial=ve=x.s(be,"Radial",2);var ij;be.Pattern=ij=x.s(be,"Pattern",2);
be.prototype.copy=be.prototype.copy=function(){var a=new be;a.V=this.V;a.Jm=this.Jm;a.un=this.un;a.Rm=this.Rm;a.Pu=this.Pu;a.Et=this.Et;this.yg!==p&&(a.yg=this.yg.copy());a.Bu=this.Bu;return a};be.prototype.eb=function(){this.freeze();Object.freeze(this);return this};be.prototype.freeze=function(){this.fb=i;this.yg!==p&&this.yg.freeze();return this};be.prototype.Oa=function(){Object.isFrozen(this)&&x.m("cannot thaw constant: "+this);this.fb=q;this.yg!==p&&this.yg.Oa();return this};
be.prototype.toString=function(){var a="Brush(";if(this.type===ee)a+=this.color;else if(a=this.type===fe?a+"Linear ":this.type===ve?a+"Radial ":this.type===ij?a+"Pattern ":a+"(unknown) ",a+=this.start+" "+this.end,this.Yn!==p)for(var b=this.Yn.l;b.next();)a+=" "+b.key+":"+b.value;return a+")"};
be.prototype.addColorStop=be.prototype.addColorStop=function(a,b){x.C(this);(a===p||1<a||0>a)&&x.ra(a,"0 <= loc <= 1",be,"addColorStop:loc");x.k(b,"string",be,"addColorStop:color");this.yg===p&&(this.yg=new pa("number","string"));this.yg.add(a,b);this.V===ee&&(this.type=fe);this.Ag=p};x.g(be,"type",be.prototype.type);
x.defineProperty(be,{type:"type"},t("V"),function(a){x.C(this,a);x.pb(a,be,be,"type");this.V=a;yb(this.start)&&(a===fe?this.start=Eb:a===ve&&(this.start=Kb));yb(this.end)&&(a===fe?this.end=Mb:a===ve&&(this.end=Kb));this.Ag=p});x.g(be,"color",be.prototype.color);x.defineProperty(be,{color:"color"},t("Jm"),function(a){x.C(this,a);x.k(a,"string",be,"color");this.Jm=a;this.Ag=p});x.g(be,"start",be.prototype.start);
x.defineProperty(be,{start:"start"},t("un"),function(a){x.C(this,a);a instanceof N||x.kc(a,"Spot",be,"start");this.un=a.Q();this.Ag=p});x.g(be,"end",be.prototype.end);x.defineProperty(be,{end:"end"},t("Rm"),function(a){x.C(this,a);a instanceof N||x.kc(a,"Spot",be,"end");this.Rm=a.Q();this.Ag=p});x.g(be,"startRadius",be.prototype.Qo);x.defineProperty(be,{Qo:"startRadius"},t("Pu"),function(a){x.C(this,a);x.n(a,be,"startRadius");0>a&&x.ra(a,">= zero",be,"startRadius");this.Pu=a;this.Ag=p});
x.g(be,"endRadius",be.prototype.eo);x.defineProperty(be,{eo:"endRadius"},t("Et"),function(a){x.C(this,a);x.n(a,be,"endRadius");0>a&&x.ra(a,">= zero",be,"endRadius");this.Et=a;this.Ag=p});x.g(be,"colorStops",be.prototype.Yn);x.defineProperty(be,{Yn:"colorStops"},t("yg"),function(a){x.C(this,a);u&&x.i(a,pa,be,"colorStops");this.yg=a;this.Ag=p});x.g(be,"pattern",be.prototype.pattern);x.defineProperty(be,{pattern:"pattern"},t("Bu"),function(a){x.C(this,a);this.Bu=a;this.Ag=p});
be.randomColor=function(a,b){a===f&&(a=128);u&&(x.n(a,be,"randomColor:min"),(0>a||255<a)&&x.ra(a,"0 <= min <= 255",be,"randomColor:min"));b===f&&(b=Math.max(a,255));u&&(x.n(b,be,"randomColor:max"),(b<a||255<b)&&x.ra(b,"min <= max <= 255",be,"randomColor:max"));var c=Math.abs(b-a),d=Math.floor(a+Math.random()*c).toString(16),e=Math.floor(a+Math.random()*c).toString(16),c=Math.floor(a+Math.random()*c).toString(16);2>d.length&&(d="0"+d);2>e.length&&(e="0"+e);2>c.length&&(c="0"+c);return"#"+d+e+c};
function U(){x.lc(this);this.Jk=p;this.Gb="";this.Sf=this.Tg=i;this.ye=this.ze=p;this.ob=(new K(NaN,NaN)).freeze();this.Ce=(new cb(NaN,NaN)).freeze();this.Wd=lc;this.tj=ec;this.ld=new Ya;this.aj=new Ya;this.Gk=new Ya;this.Rb=1;this.sc=0;this.Ah=Wg;this.uq=(new gb(0)).freeze();this.Yc=(new L(NaN,NaN,NaN,NaN)).freeze();this.vb=(new L(NaN,NaN,NaN,NaN)).freeze();this.Nc=(new L(0,0,NaN,NaN)).freeze();this.Mc=this.dc=this.yl=this.an=i;this.Nq=p;this.nh=Bb;this.kh=10;this.jh=jj;this.mh=0;this.Jp=p;this.Lp=
this.Kp=q;this.Mp=Infinity;this.Fh=Bb;this.Ch=10;this.Bh=jj;this.Eh=0;this.xr=p;this.zr=this.yr=q;this.Ar=Infinity;this.Od=p;this.Ga=Cb;this.bq=q;this.bp=Cb;this.br=0;this.Mk=1;this.aa=0;this.ok=1;this.er=-Infinity;this.dr=0;this.fr=bc;this.gr=kj;this.op="";this.$h=this.Ai=this.mi=this.Cq=this.Bq=this.ni=this.oi=this.pi=this.Eq=this.Dq=this.Zh=this.bi=this.Yh=p;this.Vp=q;this.tc=this.Xo=this.$o=this.Zo=this.Yo=p;this.Gm=q;this.vl=p;this.bC=new L(NaN,NaN,NaN,NaN);this.hp=q;this.ip=p;this.Fm=q;this.Ol=
p}x.S("GraphObject",U);
U.prototype.Db=function(a){a.Gb=this.Gb;a.Tg=this.Tg;a.Sf=this.Sf;a.ze=this.ze;a.ye=this.ye;a.ob.bb(this.ob);a.Ce.bb(this.Ce);a.Wd=this.Wd.Q();a.tj=this.tj.Q();a.Rb=this.Rb;a.sc=this.sc;a.Ah=this.Ah;a.uq.bb(this.uq);a.Yc.bb(this.Yc);a.vb.bb(this.vb);a.Nc.bb(this.Nc);a.Nq=this.Nq;a.nh=this.nh.Q();a.kh=this.kh;a.jh=this.jh;a.mh=this.mh;a.Jp=this.Jp;a.Kp=this.Kp;a.Lp=this.Lp;a.Mp=this.Mp;a.Fh=this.Fh.Q();a.Ch=this.Ch;a.Bh=this.Bh;a.Eh=this.Eh;a.xr=this.xr;a.yr=this.yr;a.zr=this.zr;a.Ar=this.Ar;a.Ga=
this.Ga.Q();a.bq=this.bq;a.bp=this.bp.Q();a.br=this.br;a.Mk=this.Mk;a.aa=this.aa;a.ok=this.ok;a.er=this.er;a.dr=this.dr;a.fr=this.fr.Q();a.gr=this.gr;a.op=this.op;a.Yh=this.Yh;a.bi=this.bi;a.Zh=this.Zh;a.Dq=this.Dq;a.Eq=this.Eq;a.pi=this.pi;a.oi=this.oi;a.ni=this.ni;a.Bq=this.Bq;a.Cq=this.Cq;a.mi=this.mi;a.Ai=this.Ai;a.$h=this.$h;a.Vp=this.Vp;a.Yo=this.Yo;a.Zo=this.Zo;a.$o=this.$o;a.Xo=this.Xo;a.tc=this.tc;a.Gm=this.Gm;if(Array.isArray(this.vl)){a.vl=this.vl.slice(0);for(var b=0;b<this.vl.length;b++){var c=
this.vl[b];a[c]=this[c]}}a.Fm=this.Fm;a.dc=this.dc;a.Mc=this.Mc;a.Gk=this.Gk.copy()};U.prototype.Jh=function(a){a.Od=p;a.Ol=p;a.U()};U.prototype.copy=U.prototype.copy=function(){var a=new this.constructor;this.Db(a);return a};U.prototype.toString=function(){return x.$k(Object.getPrototypeOf(this))+"#"+x.gc(this)};var lj;U.None=lj=x.s(U,"None",0);var Wg;U.Default=Wg=x.s(U,"Default",0);var Wc;U.Fill=Wc=x.s(U,"Fill",3);var Xg;U.Uniform=Xg=x.s(U,"Uniform",1);var Yg;
U.UniformToFill=Yg=x.s(U,"UniformToFill",2);var mj;U.Vertical=mj=x.s(U,"Vertical",4);var nj;U.Horizontal=nj=x.s(U,"Horizontal",5);U.prototype.Uc=function(a,b,c,d,e,g,h){var j=this.fa;if(j!==p&&(j.tm(a,b,c,d,e,g,h),this.Gm&&(c===this&&a===Td)&&(a=this.fs(),a!==p)))for(c=this.tc.l;c.next();)d=c.value,e=a.data,g=d.Po,g!==p&&(e=a.Le(g)),e!==p&&(d.eF(this,e,b),g=d.Po,g!==p&&(e=a,""!==g&&(e=a.Le(g)),e!==p&&(g=d.ym,h=a,""!==g&&(h=a.Le(g)),h!==p&&d.fF(h,e,b))))};
U.prototype.j=function(a,b,c){this.Uc(Td,a,this,b,c)};function oj(a,b,c,d,e){var g=a.Yc,h=a.Gk;h.reset();pj(a,h,b,c,d,e);a.Gk=h;g.x=b;g.y=c;g.width=d;g.height=e;h.qs()||h.aF(g)}U.prototype.iD=function(a,b){if(this.Sf===q)return q;var c=this.Na,d=a.cm(b);return ab(a.x,a.y,0,0,0,c.height)<d||ab(a.x,a.y,0,c.height,c.width,c.height)<d||ab(a.x,a.y,c.width,c.height,c.width,0)<d||ab(a.x,a.y,c.width,0,0,0)<d?i:q};
function qj(a,b,c,d){if(a instanceof G)for(var e=a.xa.length;e--;){var g=a.xa.o[e];if(g.visible){var h=g.ya,j=a.ya;h.x>j.width||(h.y>j.height||0>h.x+h.width||0>h.y+h.height)||(qj(g,b,c,d),b!==p&&(g=b(g)),g&&(c===p||c(g))&&d.add(g))}}}U.prototype.Uh=ca(i);
U.prototype.containsPoint=U.prototype.Aa=function(a){u&&x.i(a,K,U,"containsPoint:p");var b=nb(this.transform,a),c=this.ya;if(!c.R())return q;if(x.ky){var d=this.Na,e=this.hm()*(this.h!==p?this.h.scale:1),g=1/e;if(10>d.width*e&&10>d.height*e)return lb(c.x-5*g,c.y-5*g,c.width+10*g,c.height+10*g,b.x,b.y)}return(this.Ec!==f||this instanceof V?lb(c.x-5,c.y-5,c.width+10,c.height+10,b.x,b.y):c.Aa(b))?this.ip&&!this.ip.Aa(b)?q:this.ye!==p&&c.Aa(b)||this.ze!==p&&this.Nc.Aa(a)?i:this.Lj(a):q};
U.prototype.Lj=function(a){var b=this.Na;return lb(0,0,b.width,b.height,a.x,a.y)};U.prototype.containsRect=U.prototype.Zl=function(a){u&&x.i(a,L,U,"containsRect:r");if(0===this.angle)return this.ya.Zl(a);var b=this.Na,b=new L(0,0,b.width,b.height),c=this.transform;return b.Aa(c.Pi(new K(a.x,a.y)))&&b.Aa(c.Pi(new K(a.x,a.bottom)))&&b.Aa(c.Pi(new K(a.right,a.bottom)))&&b.Aa(c.Pi(new K(a.right,a.y)))};
U.prototype.containedInRect=U.prototype.sv=function(a,b){u&&x.i(a,L,U,"containedInRect:r");if(b===f)return a.Zl(this.ya);var c=this.Na;return!a.Aa(b.Xa(new K(0,0)))||!a.Aa(b.Xa(new K(0,c.height)))||!a.Aa(b.Xa(new K(c.width,c.height)))||!a.Aa(b.Xa(new K(c.width,0)))?q:i};
U.prototype.intersectsRect=U.prototype.Oe=function(a,b){u&&x.i(a,L,U,"intersectsRect:r");if(b===f&&(b=this.transform,0===this.angle))return a.Oe(this.ya);var c=this.Na,d=b,e=new K(0,0),g=new K(0,c.height),h=new K(c.width,c.height),j=new K(c.width,0);if(a.Aa(d.Xa(e))||a.Aa(d.Xa(g))||a.Aa(d.Xa(h))||a.Aa(d.Xa(j)))return i;c=new L(0,0,c.width,c.height);return c.Aa(d.Pi(new K(a.x,a.y)))||c.Aa(d.Pi(new K(a.x,a.bottom)))||c.Aa(d.Pi(new K(a.right,a.bottom)))||c.Aa(d.Pi(new K(a.right,a.y)))||Ic(a,e,g)||Ic(a,
g,h)||Ic(a,h,j)||Ic(a,j,e)?i:q};U.prototype.getDocumentPoint=U.prototype.Tb=function(a){yb(a)&&x.m("Spot must be real");var b=this.Na,a=new K(a.x*b.width+a.offsetX,a.y*b.height+a.offsetY);this.le.Xa(a);return a};U.prototype.getDocumentAngle=U.prototype.jo=function(){var a=this.le;return Math.atan2(a.m12,a.m11)*(180/Math.PI)};U.prototype.getDocumentScale=U.prototype.hm=function(){var a=this.Rb;return this.ea!==p?a*this.ea.hm():a};U.prototype.getLocalPoint=U.prototype.qD=function(a){return this.le.Pi(a.copy())};
U.prototype.getNearestIntersectionPoint=U.prototype.rD=function(a,b,c){return this.js(a.x,a.y,b.x,b.y,c)};da=U.prototype;
da.js=function(a,b,c,d,e){var g=this.transform,h=1/(g.m11*g.m22-g.m12*g.m21),j=g.m22*h,k=-g.m12*h,l=-g.m21*h,m=g.m11*h,n=h*(g.m21*g.dy-g.m22*g.dx),r=h*(g.m12*g.dx-g.m11*g.dy);if(this.Ij!==p)return g=this.ya,Hc(g.left,g.top,g.right,g.bottom,a,b,c,d,e);if(!(this instanceof G)||this instanceof G&&this.background!==p)return h=a*j+b*l+n,a=a*k+b*m+r,j=c*j+d*l+n,c=c*k+d*m+r,e.Y(0,0),d=this.Na,c=Hc(0,0,d.width,d.height,h,a,j,c,e),e.transform(g),c;if(this instanceof G&&(this.Ij===p||this.Ij===f)){h=a*j+b*
l+n;a=a*k+b*m+r;j=c*j+d*l+n;d=c*k+d*m+r;e.Y(j,d);k=(j-h)*(j-h)+(d-a)*(d-a);c=q;m=this.xa.o;r=m.length;l=new K;for(n=0;n<r;n++)b=m[n],b.visible&&b.js(h,a,j,d,l)&&(c=i,b=(h-l.x)*(h-l.x)+(a-l.y)*(a-l.y),b<k&&(k=b,e.set(l)));e.transform(g);return c}x.m("Unknown GraphObject case");return q};
function Ch(a,b,c,d,e){if(a.dc!==q){var g=a.margin,h=g.top+g.bottom,b=Math.max(b-(g.right+g.left),0),c=Math.max(c-h,0),g=a.za,h=0;a.ib&&(h=a.ib);var b=isFinite(g.width)?g.width+h:b,c=isFinite(g.height)?g.height+h:c,g=d,h=e,j=a instanceof G;switch(rj(a)){case lj:h=g=0;j&&(c=b=Infinity);break;case Wc:isFinite(b)&&b>d&&(g=b);isFinite(c)&&c>e&&(h=c);break;case nj:isFinite(b)&&b>d&&(g=b);h=0;j&&(c=Infinity);break;case mj:isFinite(c)&&c>e&&(h=c),g=0,j&&(b=Infinity)}var j=a.fe,k=a.xe;g>j.width&&k.width<
j.width&&(g=j.width);h>j.height&&k.height<j.height&&(h=j.height);d=Math.max(g/a.scale,k.width);e=Math.max(h/a.scale,k.height);j.width<d&&(d=Math.min(k.width,d));j.height<e&&(e=Math.min(k.height,e));b=Math.min(j.width,b);c=Math.min(j.height,c);b=Math.max(d,b);c=Math.max(e,c);g=a.angle;if(90===g||270===g)g=b,b=c,c=g,g=d,d=e,e=g;a.Yc.Oa();a.ys(b,c,d,e);a.Yc.freeze();a.Yc.R()||x.m("Non-real measuredBounds has been set");a.dc=q}}
da.Fc=function(a,b,c,d,e){sj(this);var g=this.bC;g.set(this.vb);this.vb.Oa();if(this.Mc===q){var h=this.vb;h.x=a;h.y=b;h.width=c;h.height=d}else this.Kj(a,b,c,d);this.vb.freeze();this.ip=e===f?p:e;e!==f?this.hp=i:this.ea&&(c=this.ea.Nc,d=this.Ba,this.Ij!==p&&(d=this.vb),e=b+d.height,h=a+d.width,this.hp=!(0<=a&&h<=c.width&&0<=b&&e<=c.height),this instanceof ra&&(this.du>d.height&&(this.hp=i),this.mq.Ti>d.width&&(this.hp=i)));this.vb.R()||x.m("Non-real actualBounds has been set");tj(this,g,this.vb)};
da.Kj=aa();function uj(a,b,c,d,e){var g=a.ya;g.x=b;g.y=c;g.width=d;g.height=e;if(!a.za.R()){var g=a.Yc,c=a.margin,b=c.right+c.left,h=c.top+c.bottom,c=g.width+b,g=g.height+h,d=d+b,e=e+h,b=rj(a);c===d&&g===e&&(b=lj);switch(b){case lj:if(c>d||g>e)a.dc=i,Ch(a,c>d?d:c,g>e?e:g);break;case Wc:a.dc=i;Ch(a,d,e,0,0);break;case nj:a.dc=i;Ch(a,d,g,0,0);break;case mj:a.dc=i,Ch(a,c,e,0,0)}}}
function tj(a,b,c){a.Mc=q;var d=a.fa;if(d!==p){var e=d.h;if(e!==p)if(vj(d),a instanceof z){d=q;if(e.fi===q){var g=e.pc,h=e.padding,e=g.x+h.left,j=g.y+h.top,k=g.width-2*h.right,g=g.height-2*h.bottom;b.R()&&(b.x>e&&b.y>j&&b.right<k&&b.bottom<g&&c.x>e&&c.y>j&&c.right<k&&c.bottom<g)&&(d=i)}(a.uu===i||!b.K(c))&&Oi(a,d)}else if(wj(a,d),xj(a),b=a.fa,b!==p&&(b.Nk===a||b.Pl===a||b.Ql===a))b.uu=i}}function wj(a,b){a.Ue!==p&&(b.uu=i);if(a instanceof G)for(var c=a.xa,d=c.length,e=0;e<d;e++)wj(c.o[e],b)}
da.Je=function(a,b){if(this.Tg)if(this instanceof G&&(this.type===yj||this.type===zj)){var c=this.vb;0===c.width||(0===c.height||isNaN(c.x)||isNaN(c.y))||(this.ye!==p&&(Gj(this,a,this.ye,i,i),a.fillRect(c.x,c.y,c.width,c.height)),this.ze!==p&&(Gj(this,a,this.ze,i),a.fillRect(c.x,c.y,c.width,c.height)),this.co(a,b))}else{var d=q;if(this instanceof z){d=i;if(!this.tb())return;if(this.Mf){var e=this.tn;a.shadowOffsetX=e.x*b.scale;a.shadowOffsetY=e.y*b.scale;a.shadowColor=this.sn;a.shadowBlur=this.rn}}var g=
q;this.fa&&(g=this.fa.om);c=this.vb;if(!(0===c.width||0===c.height||isNaN(c.x)||isNaN(c.y))){u&&(u.Wn&&!(this instanceof Ye))&&u.JG(a,this);var e=this.transform,h=this.ea,j=this.aj;j.reset();h!==p&&(h.Uh()?j.multiply(h.le):h.ea!==p&&j.multiply(h.ea.le));j.multiply(this.ld);if(j=this.hp){u&&u.dD&&u.trace("clip"+this.toString());var k=h.Uh()?h.Na:h.ya;if(this.ip)var l=this.ip,m=Math.max(l.x,Math.max(c.x,k.x)),n=Math.max(l.y,Math.max(c.y,k.y)),r=Math.abs(m-Math.min(l.right,Math.min(c.right,k.right))),
l=Math.abs(n-Math.min(l.bottom,Math.min(c.bottom,k.bottom)));else m=Math.max(c.x,k.x),n=Math.max(c.y,k.y),r=Math.min(c.right,k.right)-m,l=Math.min(c.bottom,k.bottom)-n;if(m>c.width+c.x||c.x>k.width+k.x||n>c.height+c.y||c.y>k.height+k.y)return;u&&u.dD&&u.LG(a,m,n,r,l);a.save();a.beginPath();a.rect(m,n,r,l);a.clip()}this.ye!==p&&(Gj(this,a,this.ye,i,i),a.fillRect(c.x,c.y,c.width,c.height));e.qs()||a.transform(e.m11,e.m12,e.m21,e.m22,e.dx,e.dy);this.ze!==p&&(n=this.Na,k=c=0,m=n.width,n=n.height,r=0,
this instanceof V&&(n=this.La.Kb,c=n.x,k=n.y,m=n.width,n=n.height,r=this.Zd),Gj(this,a,this.ze,i),a.fillRect(c-r/2,k-r/2,m+r,n+r));u&&u.Wn&&u.KG(a,this);if(g&&(this.ze!==p||this.ye!==p||h!==p&&h.Fm||h!==p&&h.type===Sh&&h.Rl!==this)){this.Fm=i;var s=[a.shadowOffsetX,a.shadowOffsetY,a.shadowBlur];a.shadowOffsetX=0;a.shadowOffsetY=0;a.shadowBlur=0}else this.Fm=q;this.co(a,b);g&&this.Fm===i&&(a.shadowOffsetX=s[0],a.shadowOffsetY=s[1],a.shadowBlur=s[2]);d&&g&&(a.shadowOffsetX=0,a.shadowOffsetY=0,a.shadowBlur=
0);j?(a.restore(),si(b,a)):e.qs()||(d=1/(e.m11*e.m22-e.m12*e.m21),a.transform(e.m22*d,-e.m12*d,-e.m21*d,e.m11*d,d*(e.m21*e.dy-e.m22*e.dx),d*(e.m12*e.dx-e.m11*e.dy)))}}};da.co=aa();
function Gj(a,b,c,d,e){if(c!==p)if("string"===typeof c)d?b.ol!==c&&(b.fillStyle=c,b.ol=c):b.Cm!==c&&(b.strokeStyle=c,b.Cm=c);else if(c.type===ee)c=c.color,d?b.ol!==c&&(b.fillStyle=c,b.ol=c):b.Cm!==c&&(b.strokeStyle=c,b.Cm=c);else{var g,h=a.Na,j=h.width,h=h.height;if(c.Ag&&c.type===ij||c.OA==j&&c.NA==h)g=c.Ag;else{var k,l,m,n=m=0;e&&(a=a.ya,j=a.width,h=a.height,m=a.x,n=a.y);c.start instanceof K?(a=c.start.x,e=c.start.y):c.start instanceof N?(a=c.start.x*j,e=c.start.y*h):(a=Kb.x*j,e=Kb.y*h);c.end instanceof
K?(k=c.end.x,l=c.end.y):c.end instanceof N?(k=c.end.x*j,l=c.end.y*h):c.type===fe?(k=Mb.x*j,l=Mb.y*h):(k=Kb.x*j,l=Kb.y*h);a+=m;k+=m;e+=n;l+=n;c.type===fe?g=b.createLinearGradient(a,e,k,l):c.type===ve?(m=isNaN(c.eo)?Math.max(j,h)/2:c.eo,isNaN(c.Qo)?(g=0,m=Math.max(j,h)/2):g=c.Qo,g=b.createRadialGradient(a,e,g,k,l,m)):c.type===ij?g=b.createPattern(c.pattern,"repeat"):x.kc(c.type,"Brush type");if(c.type!==ij&&(m=c.Yn))for(m=m.l;m.next();)g.addColorStop(m.key,m.value);c.Ag=g;c.OA=j;c.NA=h}d?b.ol!==g&&
(b.fillStyle=g,b.ol=g):b.Cm!==g&&(b.strokeStyle=g,b.Cm=g)}}U.prototype.isContainedBy=U.prototype.Qi=function(a){if(a instanceof G)a:{if(!(this===a||a===p))for(var b=this.ea;b!==p;){if(b===a){a=i;break a}b=b.ea}a=q}else a=q;return a};U.prototype.isVisibleObject=U.prototype.dl=function(){if(!this.visible)return q;var a=this.ea;return a!==p?a.dl():i};
function Oj(a){if(a.an===i){var b=a.ld;b.reset();if(!a.vb.R()||!a.Yc.R()){a.an=q;return}b.translate(a.vb.x,a.vb.y);b.translate(-a.Ba.x,-a.Ba.y);var c=a.Na;pj(a,b,c.x,c.y,c.width,c.height);a.an=q;a.yl=i}a.yl===i&&(a.ea===p?(a.aj.set(a.ld),a.yl=q):a.ea.le!==p&&(b=a.aj,b.reset(),b.multiply(a.ea.aj),b.multiply(a.ld),a.yl=q))}
function pj(a,b,c,d,e,g){1!==a.scale&&b.scale(a.scale);if(0!==a.angle){var h=Kb;a.ig&&wb(a.ig)&&(h=a.ig);var j=new K;if(a instanceof z&&a.Vb!==a){c=a.Vb;d=c.Na;j.wm(d.x,d.y,d.width,d.height,h);c.Gk.Xa(j);j.offset(-c.Ba.x,-c.Ba.y);for(h=c.ea;h!==p&&h!==a;)h.Gk.Xa(j),j.offset(-h.Ba.x,-h.Ba.y),h=h.ea}else j.wm(c,d,e,g,h);b.rotate(a.angle,j.x,j.y)}}
U.prototype.U=function(a){if(this.dc!==i){this.Mc=this.dc=i;this.ea!==p?a||(this.ea.dc=q,this.ea.U()):(a=this.h,a!==p&&(a.ph.add(this),this instanceof A&&(a.wa.zb||this.Xg(),this.ad!==p&&Rj(this.ad)),a.Eb()));if(this instanceof G){var a=this.V===Sh,b=p,c=this.xa,d=c.length;a&&(b=Sj(this,c,d));for(var e=0;e<d;e++){var g=c.o[e];a&&g===b?g.U(i):g.za.R()||(g instanceof Vg||g instanceof G||rj(g)!==lj)&&g.U(i)}}xj(this)}};
function Tj(a){if(a.dc===q&&(a.dc=i,a.Mc=i,a instanceof G))for(var a=a.xa.o,b=a.length,c=0;c<b;c++)Tj(a[c])}function Rj(a){if(a.Mc===q){if(a.ea!==p)Rj(a.ea);else{var b=a.h;b!==p&&(b.ph.add(a),a instanceof A&&a.Xg(),b.Eb())}a.Mc=i}}function sj(a){if(a.an===q&&(a.an=i,a.yl=i,a instanceof G))for(a=a.elements;a.next();)Uj(a.value)}function Uj(a){a.yl=i;if(a instanceof G)for(a=a.elements;a.next();)Uj(a.value)}function xj(a){if(a.ea!==p)xj(a.ea);else{var b=a.h;b!==p&&a.vb.R()&&Hh(b,a.vb)}}
function rj(a){var b=a.Th,c=a.ea;if(c&&c.V===ia)return Vj(a,c.ce(a.rc),c.be(a.Gc));if(c&&c.V===Sh){if(c.Rl===p){var d=c.xa,e=d.length;Sj(c,d,e)}if(c.Rl===a)return Wc}if(b===Wg){if(c){c.V===Ug&&c.Rl===p&&(d=c.xa,e=d.length,Sj(c,d,e));if(c.Rl===a)return Wc;a=c.bz;return a===Wg?lj:a}return lj}return b}
function Vj(a,b,c){var d=a.Th;if(d!==Wg)return d;var e=d=f;switch(b.Th){case mj:e=i;break;case Wc:e=i}switch(c.Th){case nj:d=i;break;case Wc:d=i}a=a.ea.bz;d=d===f&&(a===nj||a===Wc)?i:q;e=e===f&&(a===mj||a===Wc)?i:q;return d===i&&e===i?Wc:d===i?nj:e===i?mj:lj}x.g(U,"segmentOrientation",U.prototype.Os);x.defineProperty(U,{Os:"segmentOrientation"},t("gr"),function(a){var b=this.gr;b!==a&&(u&&x.pb(a,F,U,"segmentOrientation"),this.gr=a,this.U(),this.j("segmentOrientation",b,a))});
x.g(U,"segmentIndex",U.prototype.Rh);x.defineProperty(U,{Rh:"segmentIndex"},t("er"),function(a){u&&x.k(a,"number",U,"segmentIndex");var a=Math.round(a),b=this.er;b!==a&&(this.er=a,this.U(),this.j("segmentIndex",b,a))});x.g(U,"segmentFraction",U.prototype.cA);x.defineProperty(U,{cA:"segmentFraction"},t("dr"),function(a){u&&x.k(a,"number",U,"segmentFraction");isNaN(a)?a=0:0>a?a=0:1<a&&(a=1);var b=this.dr;b!==a&&(this.dr=a,this.U(),this.j("segmentFraction",b,a))});x.g(U,"segmentOffset",U.prototype.dA);
x.defineProperty(U,{dA:"segmentOffset"},t("fr"),function(a){var b=this.fr;b.K(a)||(u&&x.i(a,K,U,"segmentOffset"),this.fr=a=a.Q(),this.U(),this.j("segmentOffset",b,a))});x.g(U,"stretch",U.prototype.Th);x.defineProperty(U,{Th:"stretch"},t("Ah"),function(a){var b=this.Ah;b!==a&&(u&&x.pb(a,U,U,"stretch"),this.Ah=a,this.U(),this.j("stretch",b,a))});x.g(U,"name",U.prototype.name);
x.defineProperty(U,{name:"name"},t("Gb"),function(a){var b=this.Gb;b!==a&&(u&&x.k(a,"string",U,"name"),this.Gb=a,this.j("name",b,a))});x.g(U,"visible",U.prototype.visible);x.defineProperty(U,{visible:"visible"},t("Tg"),function(a){var b=this.Tg;b!==a&&(u&&x.k(a,"boolean",U,"visible"),this.Tg=a,this.j("visible",b,a),b=this.ea,b!==p?b.U():this instanceof z&&(this.U(),vj(this),a?(this.G(Wj),this.$i()):(this.G(Xj),this.Hh())),xj(this),Yj(this))});x.g(U,"areaBackground",U.prototype.Ij);
x.defineProperty(U,{Ij:"areaBackground"},t("ye"),function(a){var b=this.ye;if(b!==a&&(a===p||"string"===typeof a||a instanceof be))a instanceof be&&a.freeze(),this.ye=a,xj(this),this.j("areaBackground",b,a)});x.g(U,"background",U.prototype.background);x.defineProperty(U,{background:"background"},t("ze"),function(a){var b=this.ze;if(b!==a&&(a===p||"string"===typeof a||a instanceof be))a instanceof be&&a.freeze(),this.ze=a,xj(this),this.j("background",b,a)});
x.u(U,{fa:"part"},function(){if(this instanceof z)return this;if(this.Ol)return this.Ol;var a;for(a=this.ea;a;){if(a instanceof z)return this.Ol=a;a=a.ea}return p});U.prototype.il=ba("Jk");x.u(U,{ea:"panel"},t("Jk"));x.u(U,{Ka:"layer"},function(){var a=this.fa;return a!==p?a.Ka:p});x.u(U,{h:"diagram"},function(){var a=this.fa;return a!==p?a.h:p},{configurable:i});x.g(U,"position",U.prototype.position);
x.defineProperty(U,{position:"position"},t("ob"),function(a){var b=this.ob;if(!b.K(a)){u&&x.i(a,K,U,"position");if(this instanceof z){if(!a.R())return;var c=this.rj,d=this.$t,e=c.copy();c.Y(a.x+d.x,a.y+d.y);c.K(e)||this.j("location",e,c);if(this.Mc===q){this.ob=a=a.Q();Zj(this);sj(this);this.j("position",b,a);return}}this.ob=a=a.Q();Rj(this);sj(this);this.j("position",b,a)}});x.u(U,{ya:"actualBounds"},t("vb"));x.g(U,"scale",U.prototype.scale);
x.defineProperty(U,{scale:"scale"},t("Rb"),function(a){var b=this.Rb;b!==a&&(u&&x.n(a,U,"scale"),0>=a&&x.m("GraphObject.scale must be greater than zero"),this.Rb=a,sj(this),this.U(),this.j("scale",b,a))});x.g(U,"angle",U.prototype.angle);x.defineProperty(U,{angle:"angle"},t("sc"),function(a){var b=this.sc;b!==a&&(u&&x.n(a,U,"angle"),a%=360,0>a&&(a+=360),this.sc=a,this.U(),sj(this),this.j("angle",b,a))});x.g(U,"desiredSize",U.prototype.za);
x.defineProperty(U,{za:"desiredSize"},t("Ce"),function(a){var b=this.Ce;b.K(a)||(u&&x.i(a,cb,U,"desiredSize"),this.Ce=a=a.Q(),this.U(),this instanceof V&&this.gg(),this.j("desiredSize",b,a))});x.g(U,"width",U.prototype.width);x.defineProperty(U,{width:"width"},function(){return this.Ce.width},function(a){if(this.Ce.width!==a){u&&x.k(a,"number",U,"width");var b=this.Ce;this.Ce=a=(new cb(a,this.Ce.height)).freeze();this.U();this instanceof V&&this.gg();this.j("desiredSize",b,a)}});x.g(U,"height",U.prototype.height);
x.defineProperty(U,{height:"height"},function(){return this.Ce.height},function(a){if(this.Ce.height!==a){u&&x.k(a,"number",U,"height");var b=this.Ce;this.Ce=a=(new cb(this.Ce.width,a)).freeze();this.U();this instanceof V&&this.gg();this.j("desiredSize",b,a)}});x.g(U,"minSize",U.prototype.xe);
x.defineProperty(U,{xe:"minSize"},t("Wd"),function(a){var b=this.Wd;b.K(a)||(u&&x.i(a,cb,U,"minSize"),a=a.copy(),isNaN(a.width)&&(a.width=0),isNaN(a.height)&&(a.height=0),a.freeze(),this.Wd=a,this.U(),this.j("minSize",b,a))});x.g(U,"maxSize",U.prototype.fe);x.defineProperty(U,{fe:"maxSize"},t("tj"),function(a){var b=this.tj;b.K(a)||(u&&x.i(a,cb,U,"maxSize"),a=a.copy(),isNaN(a.width)&&(a.width=Infinity),isNaN(a.height)&&(a.height=Infinity),a.freeze(),this.tj=a,this.U(),this.j("maxSize",b,a))});
x.u(U,{Ba:"measuredBounds"},t("Yc"));x.u(U,{Na:"naturalBounds"},t("Nc"),{configurable:i});x.g(U,"margin",U.prototype.margin);x.defineProperty(U,{margin:"margin"},t("uq"),function(a){"number"===typeof a?a=new gb(a):u&&x.i(a,gb,U,"margin");var b=this.uq;b.K(a)||(this.uq=a=a.Q(),this.U(),this.j("margin",b,a))});x.u(U,{transform:p},function(){this.an===i&&Oj(this);return this.ld});x.u(U,{le:p},function(){this.yl===i&&Oj(this);return this.aj});x.g(U,"alignment",U.prototype.Ib);
x.defineProperty(U,{Ib:"alignment"},t("Ga"),function(a){var b=this.Ga;b.K(a)||(u?x.i(a,N,U,"alignment"):yb(a)&&!Ab(a)&&x.m("alignment must be a real Spot or Spot.Default"),this.Ga=a=a.Q(),Rj(this),this.j("alignment",b,a))});x.g(U,"column",U.prototype.Gc);x.defineProperty(U,{Gc:"column"},t("aa"),function(a){u&&x.n(a,U,"column");var a=Math.round(a),b=this.aa;b!==a&&(0>a&&x.ra(a,">= 0",U,"column"),this.aa=a,this.U(),this.j("column",b,a))});x.g(U,"columnSpan",U.prototype.GC);
x.defineProperty(U,{GC:"columnSpan"},t("ok"),function(a){u&&x.n(a,U,"columnSpan");var a=Math.round(a),b=this.ok;b!==a&&(1>a&&x.ra(a,">= 1",U,"columnSpan"),this.ok=a,this.U(),this.j("columnSpan",b,a))});x.g(U,"row",U.prototype.rc);x.defineProperty(U,{rc:"row"},t("br"),function(a){u&&x.n(a,U,"row");var a=Math.round(a),b=this.br;b!==a&&(0>a&&x.ra(a,">= 0",U,"row"),this.br=a,this.U(),this.j("row",b,a))});x.g(U,"rowSpan",U.prototype.rowSpan);
x.defineProperty(U,{rowSpan:"rowSpan"},t("Mk"),function(a){u&&x.n(a,U,"rowSpan");var a=Math.round(a),b=this.Mk;b!==a&&(1>a&&x.ra(a,">= 1",U,"rowSpan"),this.Mk=a,this.U(),this.j("rowSpan",b,a))});x.g(U,"isPanelMain",U.prototype.Nh);x.defineProperty(U,{Nh:"isPanelMain"},t("bq"),function(a){var b=this.bq;b!==a&&(u&&x.k(a,"boolean",U,"isPanelMain"),this.bq=a,this.U(),this.j("isPanelMain",b,a))});x.g(U,"alignmentFocus",U.prototype.Fj);
x.defineProperty(U,{Fj:"alignmentFocus"},t("bp"),function(a){var b=this.bp;b.K(a)||(u?x.i(a,N,U,"alignmentFocus"):yb(a)&&!Ab(a)&&x.m("alignmentFocus must be a real Spot or Spot.Default"),this.bp=a=a.Q(),this.U(),this.j("alignmentFocus",b,a))});x.g(U,"portId",U.prototype.Ue);
x.defineProperty(U,{Ue:"portId"},t("Nq"),function(a){var b=this.Nq;if(b!==a){u&&a!==p&&x.k(a,"string",U,"portId");var c=this.fa;c!==p&&!(c instanceof A)&&(x.m("portID being set on a Link: "+a),c=p);b!==p&&c&&$j(c,this);this.Nq=a;a!==p&&c&&(c.Pc===p&&ak(c),bk(c,this));this.j("portId",b,a)}});function ck(a){var b={value:p};dk(a,b);return b.value}function dk(a,b){var c=a.ea;return c===p||!dk(c,b)&&a.visible?(b.value=a,q):i}function Yj(a){var b=a.fa;b instanceof A&&(a=a.h)&&!a.wa.zb&&b.Xg()}
x.g(U,"toSpot",U.prototype.ub);x.defineProperty(U,{ub:"toSpot"},t("Fh"),function(a){var b=this.Fh;b.K(a)||(u&&x.i(a,N,U,"toSpot"),this.Fh=a=a.Q(),this.j("toSpot",b,a),Yj(this))});x.g(U,"toEndSegmentLength",U.prototype.kl);x.defineProperty(U,{kl:"toEndSegmentLength"},t("Ch"),function(a){var b=this.Ch;b!==a&&(u&&x.k(a,"number",U,"toEndSegmentLength"),0>a&&x.ra(a,">= 0",U,"toEndSegmentLength"),this.Ch=a,this.j("toEndSegmentLength",b,a),Yj(this))});x.g(U,"toEndSegmentDirection",U.prototype.Vs);
x.defineProperty(U,{Vs:"toEndSegmentDirection"},t("Bh"),function(a){var b=this.Bh;b!==a&&(u&&x.pb(a,A,U,"toEndSegmentDirection"),this.Bh=a,this.j("toEndSegmentDirection",b,a),Yj(this))});x.g(U,"toShortLength",U.prototype.Ws);x.defineProperty(U,{Ws:"toShortLength"},t("Eh"),function(a){var b=this.Eh;b!==a&&(u&&x.k(a,"number",U,"toShortLength"),this.Eh=a,this.j("toShortLength",b,a),Yj(this))});x.g(U,"toLinkable",U.prototype.qA);
x.defineProperty(U,{qA:"toLinkable"},t("xr"),function(a){var b=this.xr;b!==a&&(u&&a!==p&&x.k(a,"boolean",U,"toLinkable"),this.xr=a,this.j("toLinkable",b,a))});x.g(U,"toLinkableDuplicates",U.prototype.TE);x.defineProperty(U,{TE:"toLinkableDuplicates"},t("yr"),function(a){var b=this.yr;b!==a&&(u&&x.k(a,"boolean",U,"toLinkableDuplicates"),this.yr=a,this.j("toLinkableDuplicates",b,a))});x.g(U,"toLinkableSelfNode",U.prototype.UE);
x.defineProperty(U,{UE:"toLinkableSelfNode"},t("zr"),function(a){var b=this.zr;b!==a&&(u&&x.k(a,"boolean",U,"toLinkableSelfNode"),this.zr=a,this.j("toLinkableSelfNode",b,a))});x.g(U,"toMaxLinks",U.prototype.VE);x.defineProperty(U,{VE:"toMaxLinks"},t("Ar"),function(a){var b=this.Ar;b!==a&&(u&&x.n(a,U,"toMaxLinks"),0>a&&x.ra(a,">= 0",U,"toMaxLinks"),this.Ar=a,this.j("toMaxLinks",b,a))});x.g(U,"fromSpot",U.prototype.qb);
x.defineProperty(U,{qb:"fromSpot"},t("nh"),function(a){var b=this.nh;b.K(a)||(u&&x.i(a,N,U,"fromSpot"),this.nh=a=a.Q(),this.j("fromSpot",b,a),Yj(this))});x.g(U,"fromEndSegmentLength",U.prototype.Zk);x.defineProperty(U,{Zk:"fromEndSegmentLength"},t("kh"),function(a){var b=this.kh;b!==a&&(u&&x.k(a,"number",U,"fromEndSegmentLength"),0>a&&x.ra(a,">= 0",U,"fromEndSegmentLength"),this.kh=a,this.j("fromEndSegmentLength",b,a),Yj(this))});x.g(U,"fromEndSegmentDirection",U.prototype.hs);
x.defineProperty(U,{hs:"fromEndSegmentDirection"},t("jh"),function(a){var b=this.jh;b!==a&&(u&&x.pb(a,A,U,"fromEndSegmentDirection"),this.jh=a,this.j("fromEndSegmentDirection",b,a),Yj(this))});x.g(U,"fromShortLength",U.prototype.is);x.defineProperty(U,{is:"fromShortLength"},t("mh"),function(a){var b=this.mh;b!==a&&(u&&x.k(a,"number",U,"fromShortLength"),this.mh=a,this.j("fromShortLength",b,a),Yj(this))});x.g(U,"fromLinkable",U.prototype.kz);
x.defineProperty(U,{kz:"fromLinkable"},t("Jp"),function(a){var b=this.Jp;b!==a&&(u&&a!==p&&x.k(a,"boolean",U,"fromLinkable"),this.Jp=a,this.j("fromLinkable",b,a))});x.g(U,"fromLinkableDuplicates",U.prototype.kD);x.defineProperty(U,{kD:"fromLinkableDuplicates"},t("Kp"),function(a){var b=this.Kp;b!==a&&(u&&x.k(a,"boolean",U,"fromLinkableDuplicates"),this.Kp=a,this.j("fromLinkableDuplicates",b,a))});x.g(U,"fromLinkableSelfNode",U.prototype.lD);
x.defineProperty(U,{lD:"fromLinkableSelfNode"},t("Lp"),function(a){var b=this.Lp;b!==a&&(u&&x.k(a,"boolean",U,"fromLinkableSelfNode"),this.Lp=a,this.j("fromLinkableSelfNode",b,a))});x.g(U,"fromMaxLinks",U.prototype.mD);x.defineProperty(U,{mD:"fromMaxLinks"},t("Mp"),function(a){var b=this.Mp;b!==a&&(u&&x.n(a,U,"fromMaxLinks"),0>a&&x.ra(a,">= 0",U,"fromMaxLinks"),this.Mp=a,this.j("fromMaxLinks",b,a))});x.g(U,"cursor",U.prototype.cursor);
x.defineProperty(U,{cursor:"cursor"},t("op"),function(a){var b=this.op;b!==a&&(x.k(a,"string",U,"cursor"),this.op=a,this.j("cursor",b,a))});x.g(U,"click",U.prototype.click);x.defineProperty(U,{click:"click"},t("Yh"),function(a){var b=this.Yh;b!==a&&(a!==p&&x.k(a,"function",U,"click"),this.Yh=a,this.j("click",b,a))});x.g(U,"doubleClick",U.prototype.dm);
x.defineProperty(U,{dm:"doubleClick"},t("bi"),function(a){var b=this.bi;b!==a&&(a!==p&&x.k(a,"function",U,"doubleClick"),this.bi=a,this.j("doubleClick",b,a))});x.g(U,"contextClick",U.prototype.Vr);x.defineProperty(U,{Vr:"contextClick"},t("Zh"),function(a){var b=this.Zh;b!==a&&(a!==p&&x.k(a,"function",U,"contextClick"),this.Zh=a,this.j("contextClick",b,a))});x.g(U,"mouseEnter",U.prototype.Jz);
x.defineProperty(U,{Jz:"mouseEnter"},t("Dq"),function(a){var b=this.Dq;b!==a&&(a!==p&&x.k(a,"function",U,"mouseEnter"),this.Dq=a,this.j("mouseEnter",b,a))});x.g(U,"mouseLeave",U.prototype.Kz);x.defineProperty(U,{Kz:"mouseLeave"},t("Eq"),function(a){var b=this.Eq;b!==a&&(a!==p&&x.k(a,"function",U,"mouseLeave"),this.Eq=a,this.j("mouseLeave",b,a))});x.g(U,"mouseOver",U.prototype.Ds);
x.defineProperty(U,{Ds:"mouseOver"},t("pi"),function(a){var b=this.pi;b!==a&&(a!==p&&x.k(a,"function",U,"mouseOver"),this.pi=a,this.j("mouseOver",b,a))});x.g(U,"mouseHover",U.prototype.Cs);x.defineProperty(U,{Cs:"mouseHover"},t("oi"),function(a){var b=this.oi;b!==a&&(a!==p&&x.k(a,"function",U,"mouseHover"),this.oi=a,this.j("mouseHover",b,a))});x.g(U,"mouseHold",U.prototype.Bs);
x.defineProperty(U,{Bs:"mouseHold"},t("ni"),function(a){var b=this.ni;b!==a&&(a!==p&&x.k(a,"function",U,"mouseHold"),this.ni=a,this.j("mouseHold",b,a))});x.g(U,"mouseDragEnter",U.prototype.dE);x.defineProperty(U,{dE:"mouseDragEnter"},t("Bq"),function(a){var b=this.Bq;b!==a&&(a!==p&&x.k(a,"function",U,"mouseDragEnter"),this.Bq=a,this.j("mouseDragEnter",b,a))});x.g(U,"mouseDragLeave",U.prototype.Iz);
x.defineProperty(U,{Iz:"mouseDragLeave"},t("Cq"),function(a){var b=this.Cq;b!==a&&(a!==p&&x.k(a,"function",U,"mouseDragLeave"),this.Cq=a,this.j("mouseDragLeave",b,a))});x.g(U,"mouseDrop",U.prototype.As);x.defineProperty(U,{As:"mouseDrop"},t("mi"),function(a){var b=this.mi;b!==a&&(a!==p&&x.k(a,"function",U,"mouseDrop"),this.mi=a,this.j("mouseDrop",b,a))});x.g(U,"actionDown",U.prototype.Dy);
x.defineProperty(U,{Dy:"actionDown"},t("Yo"),function(a){var b=this.Yo;b!==a&&(a!==p&&x.k(a,"function",U,"actionDown"),this.Yo=a,this.j("actionDown",b,a))});x.g(U,"actionUp",U.prototype.Fy);x.defineProperty(U,{Fy:"actionUp"},t("$o"),function(a){var b=this.$o;b!==a&&(a!==p&&x.k(a,"function",U,"actionUp"),this.$o=a,this.j("actionUp",b,a))});x.g(U,"actionMove",U.prototype.Ey);
x.defineProperty(U,{Ey:"actionMove"},t("Zo"),function(a){var b=this.Zo;b!==a&&(a!==p&&x.k(a,"function",U,"actionMove"),this.Zo=a,this.j("actionMove",b,a))});x.g(U,"actionCancel",U.prototype.Cy);x.defineProperty(U,{Cy:"actionCancel"},t("Xo"),function(a){var b=this.Xo;b!==a&&(a!==p&&x.k(a,"function",U,"actionCancel"),this.Xo=a,this.j("actionCancel",b,a))});x.g(U,"toolTip",U.prototype.Xs);
x.defineProperty(U,{Xs:"toolTip"},t("Ai"),function(a){var b=this.Ai;b!==a&&(a!==p&&x.i(a,Ye,U,"toolTip"),this.Ai=a,this.j("toolTip",b,a))});x.g(U,"contextMenu",U.prototype.contextMenu);x.defineProperty(U,{contextMenu:"contextMenu"},t("$h"),function(a){var b=this.$h;b!==a&&(a!==p&&x.i(a,Ye,U,"contextMenu"),this.$h=a,this.j("contextMenu",b,a))});x.g(U,"isActionable",U.prototype.ps);
x.defineProperty(U,{ps:"isActionable"},t("Vp"),function(a){var b=this.Vp;b!==a&&(x.k(a,"boolean",U,"isActionable"),this.Vp=a,this.j("isActionable",b,a))});x.g(U,"pickable",U.prototype.Rz);x.defineProperty(U,{Rz:"pickable"},t("Sf"),function(a){var b=this.Sf;b!==a&&(x.k(a,"boolean",U,"pickable"),this.Sf=a,this.j("pickable",b,a))});
U.prototype.bind=U.prototype.bind=function(a){a.Yf=this;var b=this.fs();b!==p&&ek(b)&&x.m("Cannot add a Binding to a template that has already been copied: "+a);this.tc===p&&(this.tc=new H(De));this.tc.add(a)};U.prototype.findTemplateBinder=U.prototype.fs=function(){for(var a=this instanceof G?this:this.ea;a!==p;){if(a.rl!==p&&a instanceof G)return a;a=a.ea}return p};U.fromSvg=function(a){return fk(a)};var gk;
U.make=gk=function(a,b){var c=p,d=p;if("function"===typeof a)d=a;else if("string"===typeof a){var e=hk.va(a);"function"===typeof e?c=e():d=ea[a]}c===p&&(d===f&&(c=window.$,c!==f&&c.noop!==f&&x.m("GraphObject.make failed to complete. Is it conflicting with another $ var? (such as jQuery)"),x.m("GraphObject.make failed to complete, it may be conflicting with another var.")),(d===p||!d.constructor)&&x.m("GraphObject.make requires a class function or class name, not: "+a),c=new d);e=1;c instanceof w&&
1<arguments.length&&(d=arguments[1],"string"===typeof d||d instanceof HTMLDivElement?(c.Ii=p,$h(c,d),e++):x.m("Unknown argument to Diagram constructor: "+d));for(;e<arguments.length;e++)if(d=arguments[e],d===f)x.m("Undefined value at argument "+e+" for object being constructed by GraphObject.make: "+c);else if("string"===typeof d)if(c instanceof ra)c.text=d;else if(c instanceof V)c.lb=d;else if(c instanceof ik)c.source=d;else if(c instanceof G){var g=x.fm(G,d);g!==p?c.type=g:x.m("Unknown Panel type as an argument to GraphObject.make: "+
d)}else c instanceof be?(g=x.fm(be,d),g!==p?c.type=g:x.m("Unknown Brush type as an argument to GraphObject.make: "+d)):c instanceof Tc?(g=x.fm(Tc,d),g!==p?c.type=g:x.m("Unknown Geometry type as an argument to GraphObject.make: "+d)):c instanceof S?(g=x.fm(S,d),g!==p?c.type=g:x.m("Unknown PathSegment type as an argument to GraphObject.make: "+d)):x.m("Unable to use a string as an argument to GraphObject.make: "+d);else if(d instanceof U)c instanceof G||x.m("A GraphObject can only be added to a Panel, not to: "+
c),c.add(d);else if(d instanceof jk)c instanceof G||x.m("A RowColumnDefinition can only be added to a Panel, not to: "+c),g=d.Ov?c.ce(d.index):c.be(d.index),x.i(d,jk,jk,"copyFrom:pd"),d.Ov?g.height=d.height:g.width=d.width,g.jg=d.jg,g.ge=d.ge,g.Ib=d.Ib,g.Rs=d.Rs,g.tc=d.tc;else if(d instanceof oa)c instanceof F&&d.oe===F?d===kk||d===Ef?c.Qh=d:d===lk||d===mk||d===nk?c.yf=d:d===ok||d===pk||d===qk?c.fv=d:d===rk||d===kj||x.m("Unknown Link enum value for a Link property: "+d):c instanceof G&&d.oe===G?c.type=
d:c instanceof ra&&d.oe===ra?c.wA=d:c instanceof U&&d.oe===F?0===d.name.indexOf("Orient")?c.Os=d:x.m("Unknown Link enum value for GraphObject.segmentOrientation property: "+d):c instanceof U&&d.oe===U?c.Th=d:c instanceof w&&d.oe===w?c.Ly=d:c instanceof be&&d.oe===be?c.type=d:c instanceof Tc&&d.oe===Tc?c.type=d:c instanceof S&&d.oe===S?c.type=d:c instanceof De&&d.oe===De?c.mode=d:c instanceof Dd&&d.oe===Dd?c.pd=d:c instanceof W&&d.oe===W?0===d.name.indexOf("Alignment")?c.Ib=d:0===d.name.indexOf("Arrangement")?
c.ne=d:0===d.name.indexOf("Compaction")?c.rv=d:0===d.name.indexOf("Path")?c.path=d:0===d.name.indexOf("Sorting")?c.rg=d:0===d.name.indexOf("Style")?c.cF=d:x.m("Unknown enum value: "+d):c instanceof Y&&d.oe===Y?0===d.name.indexOf("Aggressive")?c.rC=d:0===d.name.indexOf("Cycle")?c.NC=d:0===d.name.indexOf("Init")?c.FD=d:0===d.name.indexOf("Layer")?c.QD=d:x.m("Unknown enum value: "+d):c instanceof fj&&d.oe===fj?d===sk||d===tk||d===uk||d===vk?c.rg=d:d===wk||d===xk?c.ne=d:d===yk||d===zk?c.Ib=d:x.m("Unknown enum value: "+
d):c instanceof Ak&&d.oe===Ak?d===Bk||d===Ck||d===Dk||d===Ek||d===Fk?c.rg=d:d===Gk||d===Hk||d===Ik||d===Jk?c.direction=d:d===Kk||d===Lk||d===Mk||d===Nk?c.ne=d:d===Ok||d===Pk?c.Gs=d:x.m("Unknown enum value: "+d):x.m("No property to set for this enum value: "+d);else if(d instanceof De)c instanceof U||c instanceof jk?c.bind(d):x.m("A Binding can only be applied to a GraphObject or RowColumnDefinition, not to: "+c);else if(d instanceof Vc)c instanceof Tc?c.yb.add(d):x.m("A PathFigure can only be added to a Geometry, not to: "+
c);else if(d instanceof S)c instanceof Vc?c.Fa.add(d):x.m("A PathSegment can only be added to a PathFigure, not to: "+c);else if(x.sb(d))if(c instanceof be){var g={},h;for(h in d){var j=parseFloat(h);isNaN(j)?g[h]=d[h]:c.addColorStop(j,d[h])}x.gA(c,g)}else c instanceof jk?(d.row!==f?(g=d.row,(g===f||g===p||Infinity===g||isNaN(g)||0>g)&&x.m("Must specify non-negative integer row for RowColumnDefinition "+d),c.Cl=i,c.ha=g):d.column!==f?(g=d.column,(g===f||g===p||Infinity===g||isNaN(g)||0>g)&&x.m("Must specify non-negative integer column for RowColumnDefinition "+
d),c.Cl=q,c.ha=g):x.m("Must specify row or column value in a RowColumnDefinition "+d),g=x.wG(d,"row","column"),x.gA(c,g)):x.gA(c,d);else x.m('Unknown initializer "'+d+'" for object being constructed by GraphObject.make: '+c);return c};var hk;U.Builders=hk=new pa("string","function");
hk.add("Button",function(){var a=new be(fe);a.addColorStop(0,"white");a.addColorStop(1,"lightgray");var b=new be(fe);b.addColorStop(0,"white");b.addColorStop(1,"dodgerblue");var c=gk(G,Sh,{ps:i},gk(V,{name:"ButtonBorder",lb:"RoundedRectangle",fill:a,stroke:"gray"}));c.Jz=function(a,c){var g=c.ia(0),h=c._buttonFillOver;h===f&&(h=b);c._buttonFillNormal=g.fill;g.fill=h;h=c._buttonStrokeOver;h===f&&(h="blue");c._buttonStrokeNormal=g.stroke;g.stroke=h};c.Kz=function(b,c){var g=c.ia(0),h=c._buttonFillNormal;
h===f&&(h=a);g.fill=h;h=c._buttonStrokeNormal;h===f&&(h="gray");g.stroke=h};return c});
hk.add("TreeExpanderButton",function(){var a=gk("Button",gk(V,{name:"ButtonIcon",lb:"MinusLine",za:new cb(6,6)},(new De("figure","isTreeExpanded",function(a,c){var d=p,e=c.ea;e&&(d=a?e._treeExpandedFigure:e._treeCollapsedFigure);d||(d=a?"MinusLine":"PlusLine");return d})).Qz("")),{visible:q},(new De("visible","isTreeLeaf",function(a){return!a})).Qz(""));a.click=function(a,c){var d=c.fa;if(d instanceof A){var e=d.h;e===p||e.hb||(a.de=i,d.Qe?e.dg.collapseTree(d):e.dg.expandTree(d))}};return a});
hk.add("SubGraphExpanderButton",function(){var a=gk("Button",gk(V,{name:"ButtonIcon",lb:"MinusLine",za:new cb(6,6)},(new De("figure","isSubGraphExpanded",function(a,c){var d=p,e=c.ea;e&&(d=a?e._subGraphExpandedFigure:e._subGraphCollapsedFigure);d||(d=a?"MinusLine":"PlusLine");return d})).Qz("")));a.click=function(a,c){var d=c.fa;if(d instanceof B){var e=d.h;e===p||e.hb||(a.de=i,d.Pe?e.dg.collapseSubGraph(d):e.dg.expandSubGraph(d))}};return a});
hk.add("ContextMenuButton",function(){var a=gk("Button");a.Th=nj;var b=a.Le("ButtonBorder");b instanceof V&&(b.lb="Rectangle",b.v=new N(0,0,2,2),b.w=new N(1,1,-2,-2));return a});
function G(a){U.call(this);a===f?0===arguments.length?this.V=ah:x.m("invalid argument to Panel constructor: undefined"):(x.pb(a,G,G,"type"),this.V=a);this.xa=new H(U);this.ke=(new gb).freeze();this.rp=Cb;this.mc=Wg;this.qh=q;this.V===ui&&(this.qh=i);this.si=1;this.pf=[];this.af=[];this.jp=this.cr=Qk;this.fn=this.Bn=0;this.Fn=Xg;this.Qp=(new cb(10,10)).freeze();this.Rp=(new K(0,0)).freeze();this.rl=this.Mm=p;this.Bx="";this.Hg=this.Ek=p;this.bn="category";this.Nf=p;this.bc=new L(NaN,NaN,NaN,NaN);this.AF=
new L(0,0,0,0);this.QI=new cb(0,0);this.Rl=p}x.S("Panel",G);x.Ja(G,U);
G.prototype.Db=function(a){U.prototype.Db.call(this,a);a.V=this.V;a.ke.bb(this.ke);a.rp=this.rp.Q();a.mc=this.mc;if(0<this.pf.length){for(var b=[],c=this.pf,d=c.length,e=0;e<d;e++)if(c[e]!==f){var g=c[e].copy();g.il(a);b[e]=g}a.pf=b}if(0<this.af.length){b=[];c=this.af;d=c.length;for(e=0;e<d;e++)c[e]!==f&&(g=c[e].copy(),g.il(a),b[e]=g);a.af=b}a.cr=this.cr;a.jp=this.jp;a.Bn=this.Bn;a.fn=this.fn;a.Fn=this.Fn;a.Qp.bb(this.Qp);a.Rp.bb(this.Rp);a.qh=this.qh;a.si=this.si;a.Mm=this.Mm;a.rl=this.rl;a.Bx=this.Bx;
a.Ek=this.Ek;a.Hg=this.Hg;a.bn=this.bn;this._buttonFillNormal&&(a._buttonFillNormal=this._buttonFillNormal);this._buttonFillOver&&(a._buttonFillOver=this._buttonFillOver);this._buttonStrokeNormal&&(a._buttonStrokeNormal=this._buttonStrokeNormal);this._buttonStrokeOver&&(a._buttonStrokeOver=this._buttonStrokeOver);this._treeExpandedFigure&&(a._treeExpandedFigure=this._treeExpandedFigure);this._treeCollapsedFigure&&(a._treeCollapsedFigure=this._treeCollapsedFigure);this._subGraphExpandedFigure&&(a._subGraphExpandedFigure=
this._subGraphExpandedFigure);this._subGraphCollapsedFigure&&(a._subGraphCollapsedFigure=this._subGraphCollapsedFigure);a.bc=this.bc.copy()};G.prototype.Jh=function(a){U.prototype.Jh.call(this,a);a.xa=this.xa;for(var b=a.xa.l;b.next();)b.value.Jk=a};
G.prototype.copy=G.prototype.copy=function(){var a=U.prototype.copy.call(this);if(a instanceof G){var b=this.xa;if(0<b.length)for(var c=b.length,d=0;d<c;d++){var e=b.o[d].copy(),g=a;e.il(g);e.Ol=p;var h=g.xa,j=h.count;h.Bc(j,e);h=g.fa;if(h!==p){var k=g.h;k!==p&&k.wa.zb||h.Uc(Ud,"elements",g,p,e,p,j)}}return a}return p};G.prototype.toString=function(){return"Panel("+this.type+")#"+x.gc(this)};var ah;G.Position=ah=x.s(G,"Position",0);G.Horizontal=x.s(G,"Horizontal",1);var ai;
G.Vertical=ai=x.s(G,"Vertical",2);var Ug;G.Spot=Ug=x.s(G,"Spot",3);var Sh;G.Auto=Sh=x.s(G,"Auto",4);var ia;G.Table=ia=x.s(G,"Table",5);G.Viewbox=x.s(G,"Viewbox",6);var yj;G.TableRow=yj=x.s(G,"TableRow",7);var zj;G.TableColumn=zj=x.s(G,"TableColumn",8);var Kg;G.Link=Kg=x.s(G,"Link",9);var ui;G.Grid=ui=x.s(G,"Grid",10);x.u(G,{elements:"elements"},function(){return this.xa.l});x.u(G,{Na:"naturalBounds"},t("Nc"));x.g(G,"padding",G.prototype.padding);
x.defineProperty(G,{padding:"padding"},t("ke"),function(a){"number"===typeof a?a=new gb(a):x.i(a,gb,G,"padding");var b=this.ke;b.K(a)||(this.ke=a=a.Q(),this.U(),this.j("padding",b,a))});x.g(G,"type",G.prototype.type);x.defineProperty(G,{type:"type"},t("V"),function(a){var b=this.V;b!==a&&(u&&x.pb(a,G,G,"type"),(b===yj||b===zj)&&x.m("Cannot change Panel.type when it is already a TableRow or a TableColumn: "+a),this.V=a,this.V===ui&&(this.qh=i),this.U(),this.j("type",b,a))});
x.g(G,"defaultAlignment",G.prototype.Oj);x.defineProperty(G,{Oj:"defaultAlignment"},t("rp"),function(a){var b=this.rp;b.K(a)||(u&&x.i(a,N,G,"defaultAlignment"),this.rp=a=a.Q(),this.U(),this.j("defaultAlignment",b,a))});x.g(G,"defaultStretch",G.prototype.bz);x.defineProperty(G,{bz:"defaultStretch"},t("mc"),function(a){var b=this.mc;b!==a&&(x.pb(a,U,G,"defaultStretch"),this.mc=a,this.U(),this.j("defaultStretch",b,a))});x.g(G,"viewboxStretch",G.prototype.GI);
x.defineProperty(G,{GI:"viewboxStretch"},t("Fn"),function(a){var b=this.Fn;b!==a&&(x.pb(a,U,G,"viewboxStretch"),this.Fn=a,this.j("viewboxStretch",b,a))});x.g(G,"gridCellSize",G.prototype.ks);x.defineProperty(G,{ks:"gridCellSize"},t("Qp"),function(a){var b=this.Qp;b.K(a)||(x.i(a,cb,G,"gridCellSize"),(!a.R()||0===a.width||0===a.height)&&x.m("Invalid Panel.gridCellSize: "+a),this.Qp=a.Q(),this.h!==p&&this===this.h.Kv&&Gi(this.h),xj(this),this.j("gridCellSize",b,a))});x.g(G,"gridOrigin",G.prototype.nz);
x.defineProperty(G,{nz:"gridOrigin"},t("Rp"),function(a){var b=this.Rp;b.K(a)||(x.i(a,K,G,"gridOrigin"),a.R()||x.m("Invalid Panel.gridOrigin: "+a),this.Rp=a.Q(),xj(this),this.j("gridOrigin",b,a))});
G.prototype.co=function(a,b){var c=this.opacity,d=1;1!==c&&(d=a.globalAlpha,a.globalAlpha=d*c);if(this.V===ui){c=this.hm()*b.scale;0>=c&&(c=1);var e=this.ks,d=e.width,e=e.height,g=this.Na,h=g.width,g=g.height,j=Math.ceil(h/d),k=Math.ceil(g/e),l=this.nz;a.save();a.beginPath();a.rect(0,0,h,g);a.clip();for(var m=[],n=this.xa.o,r=this.xa.length,s=0;s<r;s++){var v=[];m.push(v);var y=n[s];if(y.visible)for(var y="LineV"===y.lb,C=s+1;C<r;C++){var D=n[C];D.visible&&"LineV"===D.lb===y&&(D=D.Ni,2<=D&&v.push(D))}}n=
this.xa.length;for(r=0;r<n;r++)if(y=this.xa.o[r],y.visible){s=m[r];v=y.Ni;if("LineV"===y.lb){a.lineWidth=y.ib;Gj(this,a,y.stroke,q);a.beginPath();for(C=y=Math.floor(-l.x/d);C<=y+j&&!(D=C*d+l.x,0<=D&&(D<h&&Rk(C,v,s))&&(a.moveTo(D,0),a.lineTo(D,g),2>d*v*c));C++);}else{a.lineWidth=y.ib;Gj(this,a,y.stroke,q);a.beginPath();for(C=y=Math.floor(-l.y/e);C<=y+k&&!(D=C*e+l.y,0<=D&&(D<=g&&Rk(C,v,s))&&(a.moveTo(0,D),a.lineTo(h,D),2>e*v*c));C++);}a.stroke()}a.restore();si(b,a)}else{e=this.xa.length;for(h=0;h<e;h++)this.xa.o[h].Je(a,
b);u&&u.NG&&this instanceof F&&u.MG(a,b,this);1!==c&&(a.globalAlpha=d)}};function Rk(a,b,c){if(0!==a%b)return q;for(var b=c.length,d=0;d<b;d++)if(0===a%c[d])return q;return i}
G.prototype.ys=function(a,b,c,d){var e=this.bc;e.width=0;e.height=0;var g=this.za,h=this.xe;c===f&&(c=h.width,d=h.height);var c=Math.max(c/this.scale,h.width),d=Math.max(d/this.scale,h.height),j=this.fe;isNaN(g.width)||(a=Math.min(g.width,j.width));isNaN(g.height)||(b=Math.min(g.height,j.height));var a=Math.max(c,a),b=Math.max(d,b),k=this.padding,a=Math.max(a-k.left-k.right,0),b=Math.max(b-k.top-k.bottom,0),l=this.xa,m=l.length;if(0===m){var n=this.Nc;db(n,!isNaN(g.width)?a:0,!isNaN(g.height)?b:0);
oj(this,0,0,n.width,n.height)}else{var r=this.V.Gb;switch(r){case "Position":var s=a,v=b,y=c,C=d;e.x=0;e.y=0;e.width=0;for(var D=e.height=0;D<m;D++){var I=l.o[D];if(I.visible||I===this.Vb){var E=I.margin,M=E.right+E.left,O=E.top+E.bottom;Ch(I,s,v,y,C);var X=I.Ba,sa=Math.max(X.width+M,0),ka=Math.max(X.height+O,0),va=I.position.x,Fa=I.position.y;isFinite(va)||(va=0);isFinite(Fa)||(Fa=0);if(I instanceof V&&I.uz)var Ga=I.ib/2,va=va-Ga,Fa=Fa-Ga;e.bc(va,Fa,sa,ka)}}break;case "Vertical":for(var Za=a,pb=
c,Wa=[],Ia=0;Ia<m;Ia++){var eb=l.o[Ia];if(eb.visible||eb===this.Vb){var Va=rj(eb);if(Va!==lj&&Va!==mj)Wa.push(eb);else{var mb=eb.margin,Ed=mb.right+mb.left,hf=mb.top+mb.bottom;Ch(eb,Za,Infinity,pb,0);var ce=eb.Ba,cc=Math.max(ce.width+Ed,0),Fd=Math.max(ce.height+hf,0);e.width=Math.max(e.width,cc);e.height+=Fd}}}var jf=Wa.length;if(0!==jf){this.za.width?Za=Math.min(this.za.width,this.fe.width):0!==e.width&&(Za=Math.min(e.width,this.fe.width));for(Ia=0;Ia<jf;Ia++)if(eb=Wa[Ia],eb.visible||eb===this.Vb)mb=
eb.margin,Ed=mb.right+mb.left,hf=mb.top+mb.bottom,Ch(eb,Za,Infinity,pb,0),ce=eb.Ba,cc=Math.max(ce.width+Ed,0),Fd=Math.max(ce.height+hf,0),e.width=Math.max(e.width,cc),e.height+=Fd}break;case "Horizontal":for(var Of=b,Aj=d,ge=[],he=0;he<m;he++){var hc=l.o[he];if(hc.visible||hc===this.Vb){var ci=rj(hc);if(ci!==lj&&ci!==nj)ge.push(hc);else{var Hd=hc.margin,lg=Hd.right+Hd.left,kh=Hd.top+Hd.bottom;Ch(hc,Infinity,Of,0,Aj);var mg=hc.Ba,Id=Math.max(mg.width+lg,0),ng=Math.max(mg.height+kh,0);e.width+=Id;e.height=
Math.max(e.height,ng)}}}var di=ge.length;if(0!==di){this.za.height?Of=Math.min(this.za.height,this.fe.height):0!==e.height&&(Of=Math.min(e.height,this.fe.height));for(he=0;he<di;he++)if(hc=ge[he],hc.visible||hc===this.Vb)Hd=hc.margin,lg=Hd.right+Hd.left,kh=Hd.top+Hd.bottom,Ch(hc,Infinity,Of,0,Aj),mg=hc.Ba,Id=Math.max(mg.width+lg,0),ng=Math.max(mg.height+kh,0),e.width+=Id,e.height=Math.max(e.height,ng)}break;case "Spot":a:{var og=a,pg=b,Bj=c,Cj=d,Jd=Sj(this,l,m),rb=Jd.margin,ie,qg,ei=rb.right+rb.left,
fi=rb.top+rb.bottom;Ch(Jd,og,pg,Bj,Cj);var Gb=Jd.Ba,Kd=Gb.width,Ld=Gb.height,Md=Math.max(Kd+ei,0),Je=Math.max(Ld+fi,0);e.x=-rb.left;e.y=-rb.top;e.width=Md;e.height=Je;for(var ob=0;ob<m;ob++){var zb=l.o[ob];if(zb!==Jd&&(zb.visible||zb===this.Vb)){rb=zb.margin;ie=rb.right+rb.left;qg=rb.top+rb.bottom;Ch(zb,og,pg,0,0);var Gb=zb.Ba,Md=Math.max(Gb.width+ie,0),Je=Math.max(Gb.height+qg,0),ic=zb.Ib;Ab(ic)&&(ic=this.Oj);wb(ic)||(ic=Kb);var Mc=zb.Fj;Ab(Mc)&&(Mc=Kb);e.bc(ic.x*Kd+ic.offsetX-(Mc.x*Gb.width-Mc.offsetX)-
rb.left,ic.y*Ld+ic.offsetY-(Mc.y*Gb.height-Mc.offsetY)-rb.top,Md,Je)}}var lh=Jd.Th;lh===Wg&&(lh=rj(Jd));switch(lh){case lj:break a;case Wc:if(!isFinite(og)&&!isFinite(pg))break a;break;case nj:if(!isFinite(og))break a;break;case mj:if(!isFinite(pg))break a}Gb=Jd.Ba;Kd=Gb.width;Ld=Gb.height;Md=Math.max(Kd+ei,0);Je=Math.max(Ld+fi,0);rb=Jd.margin;e.x=-rb.left;e.y=-rb.top;e.width=Md;e.height=Je;for(ob=0;ob<m;ob++)if(zb=l.o[ob],zb!==Jd&&(zb.visible||zb===this.Vb))rb=zb.margin,ie=rb.right+rb.left,qg=rb.top+
rb.bottom,Gb=zb.Ba,Md=Math.max(Gb.width+ie,0),Je=Math.max(Gb.height+qg,0),ic=zb.Ib,Ab(ic)&&(ic=this.Oj),wb(ic)||(ic=Kb),Mc=zb.Fj,Ab(Mc)&&(Mc=Kb),e.bc(ic.x*Kd+ic.offsetX-(Mc.x*Gb.width-Mc.offsetX)-rb.left,ic.y*Ld+ic.offsetY-(Mc.y*Gb.height-Mc.offsetY)-rb.top,Md,Je)}break;case "Auto":var Ke=a,Le=b,rg=c,sg=d,Hb=Sj(this,l,m),je=Hb.margin,mh=je.right+je.left,Me=je.top+je.bottom;Ch(Hb,Ke,Le,rg,sg);var id=Hb.Ba,tg=Math.max(id.width+mh,0),ug=Math.max(id.height+Me,0),Nd=(new K).wm(0,0,tg,ug,Sk(Hb)),Dj=(new K).wm(0,
0,tg,ug,Tk(Hb)),gi=new L(Nd,Dj),hi=Ke,Ne=Le;isFinite(Ke)&&(hi=gi.width);isFinite(Le)&&(Ne=gi.height);for(var Oe=new cb(0,0),Pf=0;Pf<m;Pf++){var Od=l.o[Pf];if(Od!==Hb&&(Od.visible||Od===this.Vb)){var je=Od.margin,sf=je.right+je.left,jc=je.top+je.bottom;Ch(Od,hi,Ne,rg,sg);id=Od.Ba;tg=Math.max(id.width+sf,0);ug=Math.max(id.height+jc,0);Oe=new cb(Math.max(tg,Oe.width),Math.max(ug,Oe.height))}}if(1===m)e.width=tg,e.height=ug;else{var jd=Sk(Hb),Qf=Tk(Hb),kd,Rf;Qf.x!==jd.x&&Qf.y!==jd.y&&(kd=Oe.width/Math.abs(Qf.x-
jd.x),Rf=Oe.height/Math.abs(Qf.y-jd.y));var Sf=0;Hb instanceof V&&(Sf=Hb.ib*Hb.scale);kd+=Math.abs(jd.offsetX)+Math.abs(Qf.offsetX)+Sf;Rf+=Math.abs(jd.offsetY)+Math.abs(Qf.offsetY)+Sf;var ke=Hb.Th;ke===Wg&&(ke=rj(Hb));switch(ke){case lj:sg=rg=0;break;case Wc:isFinite(Ke)&&(kd=Ke);isFinite(Le)&&(Rf=Le);break;case nj:isFinite(Ke)&&(kd=Ke);sg=0;break;case mj:rg=0,isFinite(Le)&&(Rf=Le)}Hb instanceof V&&(Hb.xh?Hb.pk=p:Hb.La=p);Tj(Hb);Ch(Hb,kd,Rf,rg,sg);e.width=Hb.Ba.width+mh;e.height=Hb.Ba.height+Me}break;
case "Table":for(var le=a,tf=b,Wb=m,vg=c,ib=d,uf=[],me=[],ya=0;ya<Wb;ya++){var ua=l.o[ya];if(ua instanceof G&&(ua.type===yj||ua.type===zj)){me.push(ua);for(var Ej=ua.xa,Cl=Ej.length,wc=0;wc<Cl;wc++){var wg=Ej.o[wc];ua.type===yj?wg.rc=ua.rc:ua.type===zj&&(wg.Gc=ua.Gc);uf.push(wg)}}else uf.push(ua)}for(var Wb=uf.length,pc=[],ya=0;ya<Wb;ya++)ua=uf[ya],ua.dc=i,ua.Mc=i,pc[ua.rc]||(pc[ua.rc]=[]),pc[ua.rc][ua.Gc]||(pc[ua.rc][ua.Gc]=[]),pc[ua.rc][ua.Gc].push(ua);for(var ii=[],nh=[],xg=[],Ib={count:0},ne=
{count:0},ld=le,kc=tf,ta,Cc,Fj=pc.length,ya=0;ya<Fj;ya++)if(pc[ya]){var Tf=pc[ya].length,jb=this.ce(ya);Uk(jb,0);for(wc=0;wc<Tf;wc++)if(pc[ya][wc]){var kb=this.be(wc);ii[wc]===f&&(Uk(kb,0),ii[wc]=i);for(var yg=pc[ya][wc],Dl=yg.length,Uf=0;Uf<Dl;Uf++)if(ua=yg[Uf],ua.visible||ua===this.Vb)if(1<ua.Mk||1<ua.ok)nh.push(ua);else{var ud=Vj(ua,jb,kb);if(ud!==lj&&!ua.za.R())Ib[wc]===f&&(Ib[wc]=-1,Ib.count++),ne[ya]===f&&(ne[ya]=-1,ne.count++),xg.push(ua),Ch(ua,Infinity,Infinity,vg,ib);else{var oe=isFinite(kb.width)?
kb.width:le,Vf=isFinite(jb.height)?jb.height:tf,Jb=new cb(Math.max(kb.jg,Math.min(oe,kb.ge)),Math.max(jb.jg,Math.min(Vf,jb.ge))),dc=ua.margin,xc=dc.right+dc.left,pe=dc.top+dc.bottom;Ch(ua,Infinity,Infinity,vg,ib);var Xc=ua.Ba,Nc=Math.max(Xc.width+xc,0),Pe=Math.max(Xc.height+pe,0);ta=this.ce(ya);Cc=Math.max(Pe-ta.ab,0);Cc>kc&&(Cc=kc);Uk(ta,ta.ab+Cc);kc=Math.max(kc-Cc,0);ta=this.be(wc);Cc=Math.max(Nc-ta.ab,0);Cc>ld&&(Cc=ld);Uk(ta,ta.ab+Cc);ld=Math.max(ld-Cc,0)}}}}for(var qe=0,re=0,Wb=this.ov,ya=0;ya<
Wb;ya++)this.af[ya]!==f&&(qe+=this.be(ya).ab);Wb=this.$v;for(ya=0;ya<Wb;ya++)this.pf[ya]!==f&&(re+=this.ce(ya).ab);ld=Math.max(le-qe,0);kc=Math.max(tf-re,0);Wb=xg.length;for(ya=0;ya<Wb;ya++){var ua=xg[ya],jb=this.ce(ua.rc),kb=this.be(ua.Gc),ji=ua.Ba,dc=ua.margin,xc=dc.right+dc.left,pe=dc.top+dc.bottom;Ib[ua.Gc]=Math.max(ji.width+xc-kb.md,0);ne[ua.rc]=Math.max(ji.height+pe-jb.md,0)}var oh=0,Oc=0;for(ya in ne)"count"!==ya&&(oh+=ne[ya]);for(ya in Ib)"count"!==ya&&(Oc+=Ib[ya]);for(ya=0;ya<Wb;ya++)if(ua=
xg[ya],ua.visible||ua===this.Vb){jb=this.ce(ua.rc);kb=this.be(ua.Gc);oe=isFinite(kb.width)?kb.width:isFinite(ld)?kb.md+Ib[ua.Gc]/Oc*ld:kb.md||ld;Vf=isFinite(jb.height)?jb.height:isFinite(kc)?jb.md+ne[ua.rc]/oh*kc:jb.md||kc;Jb=new cb(Math.max(kb.jg,Math.min(oe,kb.ge)),Math.max(jb.jg,Math.min(Vf,jb.ge)));ud=Vj(ua,jb,kb);switch(ud){case nj:Jb.height=Infinity;break;case mj:Jb.width=Infinity}dc=ua.margin;xc=dc.right+dc.left;pe=dc.top+dc.bottom;Tj(ua);Ch(ua,Jb.width,Jb.height,kb.jg,jb.jg);var Xc=ua.Ba,
Nc=Math.max(Xc.width+xc,0),Pe=Math.max(Xc.height+pe,0),vf;vf=jb.md;Uk(jb,Math.max(jb.ab,Pe));Cc=jb.md-vf;kc=Math.max(kc-Cc,0);vf=kb.md;Uk(kb,Math.max(kb.ab,Nc));Cc=kb.md-vf;ld=Math.max(ld-Cc,0)}Wb=nh.length;for(ya=0;ya<Wb;ya++)if(ua=nh[ya],ua.visible||ua===this.Vb){jb=this.ce(ua.rc);kb=this.be(ua.Gc);Jb=new cb(Math.max(kb.jg,Math.min(le,kb.ge)),Math.max(jb.jg,Math.min(tf,jb.ge)));ud=Vj(ua,jb,kb);switch(ud){case Wc:0!==kb.md&&(Jb.width=Math.min(Jb.width,kb.md));0!==jb.md&&(Jb.height=Math.min(Jb.height,
jb.md));break;case nj:0!==kb.md&&(Jb.width=Math.min(Jb.width,kb.md));break;case mj:0!==jb.md&&(Jb.height=Math.min(Jb.height,jb.md))}isFinite(kb.width)&&(Jb.width=kb.width);isFinite(jb.height)&&(Jb.height=jb.height);for(var se=new cb(0,0),sb=1;sb<ua.Mk&&!(ua.rc+sb>=this.$v);sb++)ta=this.ce(ua.rc+sb),se.height+=Math.max(ta.jg,isNaN(ta.qf)?ta.ge:Math.min(ta.qf,ta.ge));for(sb=1;sb<ua.ok&&!(ua.Gc+sb>=this.ov);sb++)ta=this.be(ua.Gc+sb),se.width+=Math.max(ta.jg,isNaN(ta.qf)?ta.ge:Math.min(ta.qf,ta.ge));
Jb.width+=se.width;Jb.height+=se.height;dc=ua.margin;xc=dc.right+dc.left;pe=dc.top+dc.bottom;Ch(ua,Jb.width,Jb.height,vg,ib);for(var Xc=ua.Ba,Nc=Math.max(Xc.width+xc,0),Pe=Math.max(Xc.height+pe,0),zg=0,sb=0;sb<ua.Mk;sb++)ta=this.ce(ua.rc+sb),zg+=ta.ab||0;if(zg<Pe)for(var vd=Pe-zg;0<vd;){var nd=ta.ab||0;isNaN(ta.height)&&ta.ge>nd&&(Uk(ta,Math.min(ta.ge,nd+vd)),ta.ab!==nd&&(vd-=ta.ab-nd));if(-1===ta.index-1)break;ta=this.ce(ta.index-1)}for(var ph=0,sb=0;sb<ua.ok;sb++)ta=this.be(ua.Gc+sb),ph+=ta.ab||
0;if(ph<Nc)for(vd=Nc-ph;0<vd;){nd=ta.ab||0;isNaN(ta.width)&&ta.ge>nd&&(Uk(ta,Math.min(ta.ge,nd+vd)),ta.ab!==nd&&(vd-=ta.ab-nd));if(-1===ta.index-1)break;ta=this.be(ta.index-1)}}for(var Pd=0,Qd=0,ud=rj(this),wf=this.za,ki=this.fe,Qe=re=qe=0,Pc=0,Wb=this.ov,ya=0;ya<Wb;ya++)this.af[ya]!==f&&(ta=this.be(ya),isFinite(ta.width)?Qe+=ta.width:Vk(ta)===Wk?Qe+=ta.ab:qe+=ta.ab);var Pd=isFinite(wf.width)?Math.min(wf.width,ki.width):ud!==lj&&isFinite(le)?le:qe,Pd=Math.max(Pd,this.xe.width),Pd=Math.max(Pd-Qe,0),
Re=Math.max(Pd/qe,1);isFinite(Re)||(Re=1);for(ya=0;ya<Wb;ya++)this.af[ya]!==f&&(ta=this.be(ya),!isFinite(ta.width)&&Vk(ta)!==Wk&&Uk(ta,ta.ab*Re),ta.ob=e.width,e.width+=ta.ab);Wb=this.$v;for(ya=0;ya<Wb;ya++)this.pf[ya]!==f&&(ta=this.ce(ya),isFinite(ta.height)?Pc+=ta.height:Vk(ta)===Wk?Pc+=ta.ab:re+=ta.ab);var Qd=isFinite(wf.height)?Math.min(wf.height,ki.height):ud!==lj&&isFinite(tf)?tf:re,Qd=Math.max(Qd,this.xe.height),Qd=Math.max(Qd-Pc,0),Bg=Math.max(Qd/re,1);isFinite(Bg)||(Bg=1);for(ya=0;ya<Wb;ya++)this.pf[ya]!==
f&&(ta=this.ce(ya),!isFinite(ta.height)&&Vk(ta)!==Wk&&Uk(ta,ta.ab*Bg),ta.ob=e.height,e.height+=ta.ab);Wb=me.length;for(ya=0;ya<Wb;ya++){var qc=me[ya];qc.type===yj?(oe=e.width,ta=this.ce(qc.rc),Vf=ta.md):(ta=this.be(qc.Gc),oe=ta.md,Vf=e.height);qc.Yc.Y(0,0,oe,Vf);qc.dc=q;pc[qc.rc]||(pc[qc.rc]=[]);pc[qc.rc][qc.Gc]||(pc[qc.rc][qc.Gc]=[]);pc[qc.rc][qc.Gc].push(qc)}this.yF=pc;break;case "Viewbox":var Cg=a,xf=b,Se=c,qh=d;1<m&&x.m("Viewbox Panel cannot contain more than one GraphObject.");var Dc=l.o[0];
Dc.Rb=1;Tj(Dc);Ch(Dc,Infinity,Infinity,Se,qh);var wd=Dc.Ba,Hj=Dc.margin,mo=Hj.right+Hj.left,no=Hj.top+Hj.bottom;if(isFinite(Cg)||isFinite(xf)){var gq=Dc.scale,oo=wd.width,po=wd.height,qo=Math.max(Cg-mo,0),ro=Math.max(xf-no,0);Dc.Rb=this.Fn===Xg?Dc.Rb*Math.min(qo/oo,ro/po):Dc.Rb*Math.max(qo/oo,ro/po);gq!==Dc.scale&&(Dc.dc=i,Ch(Dc,Infinity,Infinity,Se,qh))}wd=Dc.Ba;e.width=isFinite(Cg)?Cg:Math.max(wd.width+mo,0);e.height=isFinite(xf)?xf:Math.max(wd.height+no,0);break;case "Link":var so=this instanceof
Ye?this.Mn:this;if(0===m){var Ij=this.Nc;db(Ij,0,0);var od=this.Ba;od.Y(0,0,0,0)}else{var Jj=this.Pp(),te=this.ei(),ue=te.copy();ue.x=0;ue.y=0;var Dg,rh=this.ox();Dg=this.oa!==f?this.oa:rh.count;for(var Kj=new K(Infinity,Infinity),Eg=0;Eg<Dg;Eg++){var to=rh.o[Eg];Kj.x=Math.min(to.x,Kj.x);Kj.y=Math.min(to.y,Kj.y)}this.rj=new K(te.x,te.y);this.Xh.clear();Jj!==p&&(Xk(Jj,te.width,te.height),od=Jj.Ba,ue.Yi(od),this.Xh.add(od));for(var Fg=p,Wf=p,yf=p,Eg=0;Eg<m;Eg++){var Xb=l.o[Eg];if(Xb!==Jj)if(Xb.Nh&&
Xb instanceof V)Xk(Xb,te.width,te.height),od=Xb.Ba,ue.Yi(od),this.Xh.add(od);else if(2>Dg)Ch(Xb,Infinity,Infinity),od=Xb.Ba,ue.Yi(od),this.Xh.add(od);else{Fg===p&&(Fg=new Ya,Wf=new K,yf=new K);var zf=Xb.Rh,vo=Xb.cA,El=Xb.Fj;yb(El)&&(El=Kb);var Lj=Xb.Os,hq=Xb.dA,li,mi,Mj=0;if(zf<-Dg||zf>=Dg){var wo=so.bE,Nj=so.aE;Lj!==kj&&(Mj=Yk(Lj,Nj),Xb.angle=Mj);li=wo.x-te.x;mi=wo.y-te.y}else{var Te,sh;if(0<=zf)Te=rh.o[zf],sh=zf<Dg-1?rh.o[zf+1]:Te;else{var Fl=Dg+zf;Te=rh.o[Fl];sh=0<Fl?rh.o[Fl-1]:Te}Nj=0<=zf?Te.Hi(sh):
sh.Hi(Te);Lj!==kj&&(Mj=Yk(Lj,Nj),Xb.sc=Mj);li=Te.x+(sh.x-Te.x)*vo-te.x;mi=Te.y+(sh.y-Te.y)*vo-te.y}Ch(Xb,Infinity,Infinity);var od=Xb.Ba,Ij=Xb.Na,ni=0;Xb instanceof V&&(ni=Xb.ib);var xo=Ij.width+ni,yo=Ij.height+ni;Fg.reset();Fg.translate(-od.x,-od.y);Fg.scale(Xb.scale,Xb.scale);Fg.rotate(Xb.angle,xo/2,yo/2);var zo=new L(0,0,xo,yo);Wf.Mo(zo,El);Fg.Xa(Wf);var iq=-Wf.x+ni/2,jq=-Wf.y+ni/2;yf.set(hq);isNaN(yf.x)&&(yf.x=0<=zf?Wf.x+3:-(Wf.x+3));isNaN(yf.y)&&(yf.y=-(Wf.y+3));yf.rotate(Nj);li+=yf.x;mi+=yf.y;
var oi=zo;oi.set(od);oi.x=li+iq;oi.y=mi+jq;this.Xh.add(oi);ue.Yi(oi)}}if(this.Fe)for(var Ao=this.Si;Ao.next();)Ch(Ao.value,Infinity,Infinity);this.bc=ue;var Pj=this.rj;Pj&&Pj.Y(Pj.x+ue.x,Pj.y+ue.y);db(e,ue.width||0,ue.height||0)}break;case "Grid":break;case "TableRow":case "TableColumn":x.m(this.toString()+" is not an element of a Table Panel. TableRow and TableColumn Panels can only be elements of a Table Panel.");break;default:x.m("Unknown panel type: "+r)}var Rd=e.width,Sd=e.height,Qj=this.padding,
kq=Qj.top+Qj.bottom,Rd=Rd+(Qj.left+Qj.right),Sd=Sd+kq;isFinite(g.width)&&(Rd=g.width);isFinite(g.height)&&(Sd=g.height);Rd=Math.min(j.width,Rd);Sd=Math.min(j.height,Sd);Rd=Math.max(h.width,Rd);Sd=Math.max(h.height,Sd);Rd=Math.max(c,Rd);Sd=Math.max(d,Sd);e.width=Rd;e.height=Sd;n=this.Nc;db(n,Rd,Sd);oj(this,0,0,Rd,Sd)}};function Sj(a,b,c){for(var d=0;d<c;d++){var e=b.o[d];if(e.Nh===i)return a.Rl=e}b=b.o[0];return a.Rl=b}
G.prototype.Kj=function(a,b,c,d){var e=this.bc,g=this.xa,h=g.length,j=this.AF;j.reset();if(0===h){var k=this.ya;k.x=a;k.y=b;k.width=c;k.height=d}else{if(!this.za.R()){var l=rj(this),m=this.Yc,n=m.width,r=m.height,s=this.margin,v=s.left+s.right,y=s.top+s.bottom;n===c&&r===d&&(l=lj);switch(l){case lj:if(n>c||r>d)this.U(),Ch(this,n>c?c:n,r>d?d:r);break;case Wc:this.dc=i;Ch(this,c+v,d+y,0,0);break;case nj:this.dc=i;Ch(this,c+v,r+y,0,0);break;case mj:this.dc=i,Ch(this,n+v,d+y,0,0)}}k=this.ya;k.x=a;k.y=
b;k.width=c;k.height=d;var C=this.V.Gb;switch(C){case "Position":for(var D=e.x-this.padding.left,I=e.y-this.padding.top,E=0;E<h;E++){var M=g.o[E],O=M.Ba,X=M.margin,sa=M.position.x,ka=M.position.y;j.x=isNaN(sa)?-D:sa-D;j.y=isNaN(ka)?-I:ka-I;if(M instanceof V&&M.uz){var va=M.ib/2;j.x-=va;j.y-=va}j.x+=X.left;j.y+=X.top;j.width=O.width;j.height=O.height;M.visible&&M.Fc(j.x,j.y,j.width,j.height)}break;case "Vertical":for(var Fa=this.padding.left,Ga=this.padding.top,Za=0;Za<h;Za++){var pb=Fa,Wa=g.o[Za],
Ia=Wa.Ba,eb=Wa.margin,Va=eb.left+eb.right,mb=Fa+this.padding.right,Ed=Ia.width,hf=rj(Wa);if(isNaN(Wa.za.width)&&hf===Wc||hf===nj)Ed=Math.max(e.width-Va-mb,0);var ce=Ed+Va+mb,cc=Wa.Ib;Ab(cc)&&(cc=this.Oj);wb(cc)||(cc=Kb);j.x=pb+cc.offsetX+eb.left+(e.width*cc.x-ce*cc.x);j.y=Ga+cc.offsetY+eb.top;j.width=Ed;j.height=Ia.height;Wa.visible&&(Wa.Fc(j.x,j.y,j.width,j.height),Ga+=Ia.height+eb.bottom+eb.top)}break;case "Horizontal":for(var Fd=this.padding.top,jf=this.padding.left,Of=0;Of<h;Of++){var Aj=Fd,ge=
g.o[Of],he=ge.Ba,hc=ge.margin,ci=hc.top+hc.bottom,Hd=Fd+this.padding.bottom,lg=he.height,kh=rj(ge);if(isNaN(ge.za.height)&&kh===Wc||kh===mj)lg=Math.max(e.height-ci-Hd,0);var mg=lg+ci+Hd,Id=ge.Ib;Ab(Id)&&(Id=this.Oj);wb(Id)||(Id=Kb);j.x=jf+Id.offsetX+hc.left;j.y=Aj+Id.offsetY+hc.top+(e.height*Id.y-mg*Id.y);j.width=he.width;j.height=lg;ge.visible&&(ge.Fc(j.x,j.y,j.width,j.height),jf+=he.width+hc.left+hc.right)}break;case "Spot":var ng=Sj(this,g,h),di=ng.Ba,og=di.width,pg=di.height,Bj=this.padding,Cj=
Bj.left,Jd=Bj.top;j.x=Cj-e.x;j.y=Jd-e.y;ng.Fc(j.x,j.y,og,pg);for(var rb=0;rb<h;rb++){var ie=g.o[rb];if(ie!==ng){var qg=ie.Ba,ei=qg.width,fi=qg.height,Gb=ie.Ib;Ab(Gb)&&(Gb=this.Oj);wb(Gb)||(Gb=Kb);var Kd=ie.Fj;Ab(Kd)&&(Kd=Kb);j.x=Gb.x*og+Gb.offsetX-(Kd.x*ei-Kd.offsetX);j.y=Gb.y*pg+Gb.offsetY-(Kd.y*fi-Kd.offsetY);j.x-=e.x;j.y-=e.y;ie.visible&&ie.Fc(Cj+j.x,Jd+j.y,ei,fi)}}break;case "Auto":var Ld=Sj(this,g,h),Md=Ld.Ba,Je=new L(0,0,Md.width,Md.height),ob=new L(0,0,1,1),zb=Ld.margin,ic=zb.left,Mc=zb.top,
lh=this.padding,Ke=lh.left,Le=lh.top;j.x=ic;j.y=Mc;j.width=Md.width;j.height=Md.height;Ld.Fc(Ke+j.x,Le+j.y,j.width,j.height);var rg=Sk(Ld),sg=Tk(Ld),Hb=(new K).Mo(Je,rg),je=(new K).Mo(Je,sg);ob.x=Hb.x;ob.y=Hb.y;ob.kw(je);ob.x+=ic+Ke;ob.y+=Mc+Le;for(var mh=0;mh<h;mh++){var Me=g.o[mh];if(Me!==Ld){var id=Me.Ba,zb=Me.margin,tg=Math.max(id.width+zb.right+zb.left,0),ug=Math.max(id.height+zb.top+zb.bottom,0),Nd=Me.Ib;Ab(Nd)&&(Nd=this.Oj);wb(Nd)||(Nd=Kb);j.x=ob.width*Nd.x+Nd.offsetX-tg*Nd.x+zb.left+ob.x;
j.y=ob.height*Nd.y+Nd.offsetY-ug*Nd.y+zb.top+ob.y;j.width=ob.width;j.height=ob.height;Me.visible&&(lb(ob.x,ob.y,ob.width,ob.height,j.x,j.y,id.width,id.height)?Me.Fc(j.x,j.y,id.width,id.height):Me.Fc(j.x,j.y,id.width,id.height,new L(ob.x,ob.y,ob.width,ob.height)))}}break;case "Table":for(var Dj=this.padding,gi=Dj.left,hi=Dj.top,Ne=this.yF,Oe,Pf,Od=Ne.length,sf=0,jc=0;jc<Od;jc++)Ne[jc]&&(sf=Math.max(sf,Ne[jc].length));for(var jd=Math.min(this.Bn,Od-1);jd!==Od&&(this.pf[jd]===f||0===this.pf[jd].ab);)jd++;
for(var jd=Math.min(jd,Od-1),Qf=-this.pf[jd].ob,kd=Math.min(this.fn,sf-1);kd!==sf&&(this.af[kd]===f||0===this.af[kd].ab);)kd++;for(var kd=Math.min(kd,sf-1),Rf=-this.af[kd].ob,jc=0;jc<Od;jc++)if(Ne[jc]){var sf=Ne[jc].length,Sf=this.ce(jc);Pf=Sf.ob+Qf+hi;for(var ke=0;ke<sf;ke++)if(Ne[jc][ke]){var le=this.be(ke);Oe=le.ob+Rf+gi;for(var tf=Ne[jc][ke],Wb=tf.length,vg=0;vg<Wb;vg++){var ib=tf[vg],uf=ib.Ba;if(ib instanceof G&&(ib.type===yj||ib.type===zj)){ib.vb.Oa();var me=ib.vb;me.x=ib.type===yj?gi:Oe;me.y=
ib.type===zj?hi:Pf;me.width=uf.width;me.height=uf.height;ib.vb.freeze();ib.Mc=q}else{for(var ya=new cb(0,0),ua=1;ua<ib.rowSpan&&!(jc+ua>=this.$v);ua++){var Ej=this.ce(jc+ua);ya.height+=Ej.ab}for(ua=1;ua<ib.GC&&!(ke+ua>=this.ov);ua++){var Cl=this.be(ke+ua);ya.width+=Cl.ab}var wc=le.ab+ya.width,wg=Sf.ab+ya.height;j.x=Oe;j.y=Pf;j.width=wc;j.height=wg;var pc=Oe,ii=Pf,nh=wc,xg=wg,Ib=ib.Ib.copy();if(Ab(Ib)){Ib.bb(this.Oj);wb(Ib)||Ib.bb(Kb);var ne=le.Ib;wb(ne)&&(Ib.x=ne.x,Ib.offsetX=ne.offsetX);var ld=Sf.Ib;
wb(ld)&&(Ib.y=ld.y,Ib.offsetY=ld.offsetY)}wb(Ib)||(Ib=Kb);var kc=uf.width,ta=uf.height,Cc=ib.fe,Fj=ib.xe,kc=Math.min(Cc.width,kc),ta=Math.min(Cc.height,ta),kc=Math.max(Fj.width,kc),ta=Math.max(Fj.height,ta),Tf=ib.margin,jb=Tf.left+Tf.right,kb=Tf.top+Tf.bottom,yg=Vj(ib,Sf,le);if(isNaN(ib.za.width)&&yg===Wc||yg===nj)kc=Math.max(wc-jb,0);if(isNaN(ib.za.height)&&yg===Wc||yg===mj)ta=Math.max(wg-kb,0);var Dl=ta+kb;j.x+=j.width*Ib.x-(kc+jb)*Ib.x+Ib.offsetX+Tf.left;j.y+=j.height*Ib.y-Dl*Ib.y+Ib.offsetY+Tf.top;
ib.visible&&(lb(pc,ii,nh,xg,j.x,j.y,kc,ta)?ib.Fc(j.x,j.y,kc,ta):ib.Fc(j.x,j.y,kc,ta,new L(pc,ii,nh,xg)))}}}}for(jc=0;jc<h;jc++)if(ib=g.o[jc],ib instanceof G&&(ib.type===yj||ib.type===zj))me=ib.vb,ib.Nc.Oa(),ib.Nc.No(0,0,me.width,me.height),ib.Nc.freeze();break;case "Viewbox":var Uf=g.o[0],ud=Uf.Ba,oe=Uf.margin,Vf=oe.top+oe.bottom,Jb=Math.max(ud.width+(oe.right+oe.left),0),dc=Math.max(ud.height+Vf,0),xc=Uf.Ib;Ab(xc)&&(xc=this.Oj);wb(xc)||(xc=Kb);j.x=e.width*xc.x-Jb*xc.x+xc.offsetX;j.y=e.height*xc.y-
dc*xc.y+xc.offsetY;j.width=ud.width;j.height=ud.height;Uf.Fc(j.x,j.y,j.width,j.height);break;case "Link":var pe=this.Pp(),Xc=0;if(pe!==p&&Xc<this.Xh.count){var Nc=this.Xh.o[Xc];Xc++;pe.Fc(Nc.x-this.bc.x,Nc.y-this.bc.y,Nc.width,Nc.height)}for(var Pe=0;Pe<h;Pe++){var qe=g.o[Pe];qe!==pe&&Xc<this.Xh.count&&(Nc=this.Xh.o[Xc],Xc++,qe.Fc(Nc.x-this.bc.x,Nc.y-this.bc.y,Nc.width,Nc.height))}var re=this.ox(),ji=re.count;if(2<=ji&&this.Fe)for(var oh=this.Si;oh.next();){var Oc=oh.value,vf=ji,se=re,sb=Oc.Rh,zg=
Oc.cA,vd=Oc.Fj;yb(vd)&&(vd=Kb);var nd=Oc.Os,ph=Oc.dA,Pd=f,Qd=f,wf=0;if(sb<-vf||sb>=vf){var ki=this.bE,Qe=this.aE;nd!==kj&&(wf=Yk(nd,Qe),Oc.angle=wf);Pd=ki.x;Qd=ki.y}else{var Pc=f,Re=f;if(0<=sb)Pc=se.o[sb],Re=sb<vf-1?se.o[sb+1]:Pc;else var Bg=vf+sb,Pc=se.o[Bg],Re=0<Bg?se.o[Bg-1]:Pc;Qe=0<=sb?Pc.Hi(Re):Re.Hi(Pc);nd!==kj&&(wf=Yk(nd,Qe),Oc.angle=wf);Pd=Pc.x+(Re.x-Pc.x)*zg;Qd=Pc.y+(Re.y-Pc.y)*zg}var qc=new Ya;qc.scale(Oc.scale,Oc.scale);qc.rotate(Oc.angle,0,0);var Cg=Oc.Na,xf=new L(0,0,Cg.width,Cg.height),
Se=new K;Se.Mo(xf,vd);qc.Xa(Se);var qh=-Se.x,Dc=-Se.y,wd=ph.copy();isNaN(wd.x)&&(wd.x=0<=sb?Se.x+3:-(Se.x+3));isNaN(wd.y)&&(wd.y=-(Se.y+3));wd.rotate(Qe);Pd+=wd.x;Qd+=wd.y;qc.aF(xf);qh+=xf.x;Dc+=xf.y;Oc.position=new K(Pd+qh,Qd+Dc)}this.Qv();break;case "Grid":break;case "TableRow":case "TableColumn":x.m(this.toString()+" is not an element of a Table Panel.TableRow and TableColumn panels can only be elements of a Table Panel.");break;default:x.m("Unknown panel type: "+C)}}};
G.prototype.Lj=function(a){var b=this.Na;if(lb(0,0,b.width,b.height,a.x,a.y)){for(var c=this.xa.length,b=new K;c--;){var d=this.xa.o[0];if(d.visible||d===this.Vb)if($a(b.set(a),d.transform),d.Aa(b))return i}return this.ze===p&&this.ye===p?q:i}return q};function Zk(a,b,c){c(a,b);if(b instanceof G)for(b=b.elements;b.next();)Zk(a,b.value,c)}function Mi(a,b,c){c(b);for(b=b.elements;b.next();){var d=b.value;d instanceof G&&Mi(a,d,c)}}
function $k(a,b,c){if(c(b))return b;if(b instanceof G)for(b=b.elements;b.next();){var d=$k(a,b.value,c);if(d!==p)return b.Dg(),d}return p}G.prototype.findObject=G.prototype.Le=function(a){if(this.name===a)return this;for(var b=this.elements;b.next();){var c=b.value;if(c.name===a)return c;if(c instanceof G&&!c.oH()&&(c=c.Le(a),c!==p))return c}return p};function bf(a,b){for(var c=a.elements;c.next();){var d=c.value;if(b(d))return d;if(d instanceof G&&(d=bf(d,b),d!==p))return d}return p}da=G.prototype;
da.Uh=function(){return!(this.type===yj||this.type===zj)};
da.qd=function(a,b,c){if(this.Sf===q)return p;b===f&&(b=p);c===f&&(c=p);if(this.Mc)return p;var d=this.Na,e=1/this.hm(),g=this.Uh()?a:$a((new K).set(a),this.transform);if(lb(-(5*e),-(5*e),d.width+10*e,d.height+10*e,g.x,g.y)){if(!this.qh)for(var h=this.xa.length,e=new K;h--;){var j=this.xa.o[h];if(j.visible||j===this.Vb){j.Uh()?$a(e.set(a),j.transform):e.set(a);var k=p;j instanceof G?k=j.qd(e,b,c):j.Sf===i&&j.Aa(e)&&(k=j);if(k!==p&&(b!==p&&(k=b(k)),k&&(c===p||c(k))))return k}}return this.background===
p&&this.Ij===p?p:lb(0,0,d.width,d.height,g.x,g.y)?this:p}return p};
da.ho=function(a,b,c,d){if(this.Sf===q)return q;b===f&&(b=p);c===f&&(c=p);!(d instanceof H)&&!(d instanceof qa)&&(d=new H(U));var e=this.Na,g=this.Uh()?a:$a((new K).set(a),this.transform);if(lb(0,0,e.width,e.height,g.x,g.y)){if(!this.qh){g=this.xa.length;for(e=new K;g--;){var h=this.xa.o[g];if(h.visible||h===this.Vb)if(h.Uh()?$a(e.set(a),h.transform):e.set(a),(h instanceof G?h.ho(e,b,c,d):h.Aa(e))&&h.Sf!==q)b!==p&&(h=b(h)),h&&(c===p||c(h))&&d.add(h)}}return this.background!==p||this.Ij!==p}return q};
da.gm=function(a,b,c,d,e,g){if(this.Sf===q)return q;g===f&&(g=new Ya);b===f&&(b=p);c===f&&(c=p);g.multiply(this.transform);if(this.sv(a,g))return qj(this,b,c,e),i;if(this.Oe(a,g)){if(!this.qh)for(var h=this.xa.length;h--;){var j=this.xa.o[h];if(j.visible||j===this.Vb){var k=j.ya,l=this.ya;if(!(k.x>l.width||k.y>l.height||0>k.x+k.width||0>k.y+k.height)){if(j instanceof G)k=j.gm(a,b,c,d,e,g.copy());else{var k=j,l=a,m=d,n=g.copy();k.Sf===q?k=q:(n===f&&(n=new Ya),n.multiply(k.transform),k=m?k.Oe(l,n):
k.sv(l,n))}k&&(b!==p&&(j=b(j)),j&&(c===p||c(j))&&e.add(j))}}}return d}return q};
da.io=function(a,b,c,d,e){if(this.Sf===q)return q;c===f&&(c=p);d===f&&(d=p);var g=this.Na,h=this.Uh()?a:$a((new K).set(a),this.transform),j=this.Uh()?b:$a((new K).set(b),this.transform),j=h.cm(j);if(0<h.x&&h.x<g.width&&0<h.y&&h.y<g.height||ab(h.x,h.y,0,0,0,g.height)<j||ab(h.x,h.y,0,g.height,g.width,g.height)<j||ab(h.x,h.y,g.width,g.height,g.width,0)<j||ab(h.x,h.y,g.width,0,0,0)<j){if(!this.qh){g=new K;h=new K;for(j=this.xa.length;j--;){var k=this.xa.o[j];if(k.visible||k===this.Vb){var l=k.ya,m=this.ya;
if(!(l.x>m.width||l.y>m.height||0>l.x+l.width||0>l.y+l.height))if(l=k.transform,k.Uh()?($a(g.set(a),l),$a(h.set(b),l)):(g.set(a),h.set(b)),k instanceof G?k.io(g,h,c,d,e):k.iD(g,h))c!==p&&(k=c(k)),k&&(d===p||d(k))&&e.add(k)}}}return i}return q};function Sk(a){var b=a.v;if(b===f||b===Cb)b=p;b===p&&a instanceof V&&(a=a.La,a!==p&&(b=a.v));b===p&&(b=Db);return b}function Tk(a){var b=a.w;if(b===f||b===Cb)b=p;b===p&&a instanceof V&&(a=a.La,a!==p&&(b=a.w));b===p&&(b=Nb);return b}
G.prototype.add=G.prototype.add=function(a){x.i(a,U,G,"add:element");this.Bc(this.xa.count,a)};G.prototype.elt=G.prototype.ia=function(a){return this.xa.ia(a)};
G.prototype.insertAt=G.prototype.Bc=function(a,b){b instanceof z&&x.m("Cannot add a Part to a Panel: "+b);if(this===b||this.Qi(b))this===b&&x.m("Cannot make a Panel contain itself: "+this.toString()),x.m("Cannot make a Panel indirectly contain itself: "+this.toString()+" already contains "+b.toString());var c=b.ea;c!==p&&c!==this&&x.m("Cannot add a GraphObject that already belongs to another Panel to this Panel: "+b.toString()+", already contained by "+c.toString()+", cannot be shared by this Panel: "+
this.toString());this.V===ui&&!(b instanceof V)&&x.m("Can only add Shapes to a Grid Panel, not: "+b);b.il(this);b.Ol=p;if(this.vs!==p){var d=b.data;d!==p&&"object"===typeof d&&(this.Nf===p&&(this.Nf=new pa(Object,G)),this.Nf.add(d,b))}var e=this.xa,d=-1;if(c===this){for(var g=-1,h=e.count,j=0;j<h;j++)if(e.o[j]===b){g=j;break}if(-1!==g){if(g===a||g+1>=e.count&&a>=e.count)return;e.Ve(g);d=g}else x.m("element "+b.toString()+" has panel "+c.toString()+" but is not contained by it.")}if(0>a||a>e.count)a=
e.count;e.Bc(a,b);this.U();b.U();c=this.fa;c!==p&&(e=this.h,e!==p&&e.wa.zb||(-1!==d&&c.Uc(Vd,"elements",this,b,p,d,p),c.Uc(Ud,"elements",this,p,b,p,a)))};G.prototype.remove=G.prototype.remove=function(a){x.i(a,U,G,"remove:element");for(var b=this.xa,c=b.count,d=-1,e=0;e<c;e++)if(b.o[e]===a){d=e;break}-1!==d&&this.Qd(d)};G.prototype.removeAt=G.prototype.Ve=function(a){u&&x.n(a,G,"removeAt:idx");0<=a&&this.Qd(a)};
G.prototype.Qd=function(a){var b=this.xa,c=b.ia(a);c.Ol=p;c.il(p);if(this.Nf!==p){var d=c.data;"object"===typeof d&&this.Nf.remove(d)}b.Ve(a);this.dc=q;this.U();b=this.fa;b!==p&&(d=this.h,d!==p&&d.wa.zb||b.Uc(Vd,"elements",this,c,p,a,p))};x.u(G,{$v:"rowCount"},function(){return this.pf.length});
G.prototype.getRowDefinition=G.prototype.ce=function(a){u&&x.n(a,G,"getRowDefinition:idx");0>a&&x.ra(a,">= 0",G,"getRowDefinition:idx");var a=Math.round(a),b=this.pf;if(b[a]===f){var c=new jk;c.il(this);c.Cl=i;c.ha=a;b[a]=c}return b[a]};G.prototype.removeRowDefinition=G.prototype.$L=function(a){u&&x.n(a,G,"removeRowDefinition:idx");0>a&&x.ra(a,">= 0",G,"removeRowDefinition:idx");var a=Math.round(a),b=this.pf;b[a]&&(b[a]=f)};x.u(G,{ov:"columnCount"},function(){return this.af.length});
G.prototype.getColumnDefinition=G.prototype.be=function(a){u&&x.n(a,G,"getColumnDefinition:idx");0>a&&x.ra(a,">= 0",G,"getColumnDefinition:idx");var a=Math.round(a),b=this.af;if(b[a]===f){var c=new jk;c.il(this);c.Cl=i;c.ha=a;b[a]=c}return b[a]};G.prototype.removeColumnDefinition=G.prototype.ZL=function(a){u&&x.n(a,G,"removeColumnDefinition:idx");0>a&&x.ra(a,">= 0",G,"removeColumnDefinition:idx");var a=Math.round(a),b=this.af;b[a]&&(b[a]=f)};x.g(G,"rowSizing",G.prototype.DE);
x.defineProperty(G,{DE:"rowSizing"},t("cr"),function(a){var b=this.cr;b!==a&&(a!==Qk&&a!==Wk&&x.m("rowSizing must be RowColumnDefinition.ProportionalExtra or RowColumnDefinition.None"),this.cr=a,this.U(),this.j("rowSizing",b,a))});x.g(G,"columnSizing",G.prototype.FC);
x.defineProperty(G,{FC:"columnSizing"},t("jp"),function(a){var b=this.jp;b!==a&&(a!==Qk&&a!==Wk&&x.m("columnSizing must be RowColumnDefinition.ProportionalExtra or RowColumnDefinition.None"),this.jp=a,this.U(),this.j("columnSizing",b,a))});x.g(G,"topIndex",G.prototype.tA);x.defineProperty(G,{tA:"topIndex"},t("Bn"),function(a){var b=this.Bn;b!==a&&((!isFinite(a)||0>a)&&x.m("topIndex must be greater than zero and a real number. Was "+a),this.Bn=a,Rj(this),this.j("topIndex",b,a))});
x.g(G,"leftIndex",G.prototype.Bz);x.defineProperty(G,{Bz:"leftIndex"},t("fn"),function(a){var b=this.fn;b!==a&&((!isFinite(a)||0>a)&&x.m("leftIndex must be greater than zero and a real number. Was "+a),this.fn=a,Rj(this),this.j("leftIndex",b,a))});x.g(G,"data",G.prototype.data);
x.defineProperty(G,{data:"data"},t("Mm"),function(a){var b=this.Mm;if(b!==a){var c=this instanceof z&&!(this instanceof Ye);c&&x.k(a,"object",G,"data");$e(this);this.Mm=a;var d=this.h;d!==p&&(c?this instanceof F?(b!==p&&d.rk.remove(b),a!==p&&d.rk.add(a,this)):(b!==p&&d.ai.remove(b),a!==p&&d.ai.add(a,this)):(c=this.ea,c!==p&&c.Nf!==p&&(b!==p&&c.Nf.remove(b),a!==p&&c.Nf.add(a,this))));this.j("data",b,a);d!==p&&d.wa.zb||a!==p&&this.Bb()}});function ek(a){a=a.rl;return a!==p&&a.fb}
function $e(a){var b=a.rl;if(b===p)a.data!==p&&x.m("Template cannot have .data be non-null: "+a),a.rl=b=new H(De);else if(b.fb)return;var c=new H(U);Zk(a,a,function(a,d){var e=d.tc;if(e!==p){d.Gm=q;for(var g=e.l;g.next();){e=g.value;e.mode===Fe&&(d.Gm=i);var h=e.Po;if(h!==p){var r=a;""!==h&&(r=a.Le(h));r!==p&&(c.add(r),r.qr===f&&(r.qr=new H(De)),r.qr.add(e))}b.add(e)}}if(d instanceof G){if(0<d.pf.length){g=d.pf;h=g.length;for(r=0;r<h;r++){var s=g[r];if(s!==f&&s.tc!==p)for(var v=s.tc.l;v.next();)e=
v.value,e.Yf=s,e.my=2,e.Uu=s.index,b.add(e)}}if(0<d.af.length){g=d.af;h=g.length;for(r=0;r<h;r++)if(s=g[r],s!==f&&s.tc!==p)for(v=s.tc.l;v.next();)e=v.value,e.Yf=s,e.my=1,e.Uu=s.index,b.add(e)}}});for(var d=c.l;d.next();){var e=d.value;if(e.qr!==f){e.Gm=i;for(var g=e.qr.l;g.next();){var h=g.value;e.tc===p&&(e.tc=new H(De));e.tc.add(h)}}delete e.qr}for(d=b.l;d.next();)e=d.value,g=e.Yf,g!==p&&(e.Yf=p,g===a?e.ym="":(g instanceof jk&&(g=g.ea),e.ym=""!==g.name?g.name:g.name="_"+x.gc(g)));b.freeze();a instanceof
z&&a.ee()&&(Ch(a,Infinity,Infinity),a.Fc())}
G.prototype.updateTargetBindings=G.prototype.Bb=function(a){var b=this.rl;if(b!==p){a===f&&(a="");for(b=b.l;b.next();){var c=b.value,d=c.kA;if(!(""!==a&&d!==a)&&(d=c.mA,!(c.IC===p&&""===d))){var d=this.data,e=c.Po;e!==p&&(d=this.Le(e));if(d===p)u&&x.trace("Binding error: missing GraphObject named "+e+" in "+this.toString());else{var e=this,g=c.ym;if(""!==g){if(e=this.Le(g),e===p)continue}else c.Yf!==p&&(e=c.Yf);g=c.my;if(0!==g){if(!(e instanceof G))continue;1===g?e=e.be(c.Uu):2===g&&(e=e.ce(c.Uu))}e!==
f&&c.fF(e,d)}}}}};x.g(G,"itemArray",G.prototype.vs);x.defineProperty(G,{vs:"itemArray"},t("Ek"),function(a){var b=this.Ek;if(b!==a){u&&(a!==p&&!x.isArray(a))&&x.m("Panel.itemArray must be an Array-like object or null, not: "+a);var c=this.h;c!==p&&b!==p&&Pi(c,this);this.Ek=a;c!==p&&a!==p&&Ni(c,this);this.j("itemArray",b,a);c!==p&&c.wa.zb||this.Vz()}});
G.prototype.rebuildItemElements=G.prototype.Vz=function(){var a=0;if(this.type===Ug||this.type===Sh||this.type===Kg)a=1;for(;this.xa.length>a;)this.Qd(a);a=this.vs;if(a!==p)for(var b=x.Yb(a),c=0;c<b;c++)Th(this,x.Jb(a,c))};
function Th(a,b,c){if(!(b===f||b===p)){var d=a.getCategoryForItemData(b),e=a.findTemplateForItemData(b,d);e instanceof G&&($e(e),e=e.copy(),"object"===typeof b&&(a.Nf===p&&(a.Nf=new pa(Object,G)),a.Nf.add(b,e)),"number"===typeof c?((a.type===Ug||a.type===Sh)&&c++,a.Bc(c,e),al(e,c),Uh(a,c)):(a.add(e),al(e,a.xa.count-1)),e.Bx=d,e.data=b)}}function Uh(a,b){for(var c=a.xa,d=b+1;d<c.length;){var e=c.ia(d);e instanceof G&&al(e,d);d++}}function al(a,b){a.type===yj?a.rc=b:a.type===zj&&(a.Gc=b)}
G.prototype.isItemPanel=G.prototype.oH=function(){return this.Ek!==p||this.Hg!==p};x.g(G,"itemTemplate",G.prototype.uH);x.defineProperty(G,{uH:"itemTemplate"},function(){return this.Hg===p?p:this.Hg.va("")},function(a){this.Hg===p&&(this.Hg=new pa("string",G));var b=this.Hg.va("");b!==a&&(x.i(a,G,G,"itemTemplate"),a instanceof z&&x.m("itemTemplate must not be a Part: "+a),this.Hg.add("",a),this.j("itemTemplate",b,a),a=this.h,a!==p&&a.wa.zb||this.Vz())});x.g(G,"itemTemplateMap",G.prototype.OD);
x.defineProperty(G,{OD:"itemTemplateMap"},t("Hg"),function(a){var b=this.Hg;if(b!==a){x.i(a,pa,G,"itemTemplateMap");for(var c=a.l;c.next();){var d=c.value;d instanceof z&&x.m("Template in itemTemplateMap must not be a Part: "+d)}this.Hg=a;this.j("itemTemplateMap",b,a);a=this.h;a!==p&&a.wa.zb||this.Vz()}});x.g(G,"itemCategoryProperty",G.prototype.tH);
x.defineProperty(G,{tH:"itemCategoryProperty"},t("bn"),function(a){var b=this.bn;b!==a&&("string"!==typeof a&&"function"!==typeof a&&x.kc(a,"string or function",G,"itemCategoryProperty"),this.bn=a,this.j("itemCategoryProperty",b,a))});
G.prototype.getCategoryForItemData=G.prototype.MK=function(a){if(a===p)return"";var b=this.bn;if("function"===typeof b)b=b(a);else if("string"===typeof b&&"object"===typeof a){if(""===b)return"";b=x.$a(a,b)}else return"";if(b===f)return"";if("string"===typeof b)return b;u&&x.trace("Panel.getCategoryForItemData found a non-string category for "+a+": "+b);return""};
G.prototype.findTemplateForItemData=G.prototype.CK=function(a,b){var c=this.OD,d=p;c!==p&&(d=c.va(b));d===p&&(x.JF||(x.JF=i,x.trace('No item template Panel found for category "'+b+'" on '+this),x.trace("  Using default item template."),c=new G,d=new ra,d.bind(new De("text","",Wd)),c.add(d),x.rF=c),d=x.rF);return d instanceof G?d:p};x.g(G,"isAtomic",G.prototype.mH);
x.defineProperty(G,{mH:"isAtomic"},t("qh"),function(a){var b=this.qh;b!==a&&(x.k(a,"boolean",G,"isAtomic"),this.qh=a,this.j("isAtomic",b,a))});x.g(G,"opacity",G.prototype.opacity);x.defineProperty(G,{opacity:"opacity"},t("si"),function(a){var b=this.si;b!==a&&(x.k(a,"number",G,"opacity"),(0>a||1<a)&&x.ra(a,"0 <= val <= 1",G,"opacity"),this.si=a,this.j("opacity",b,a),a=this.h,a!==p&&Hh(a))});
function jk(){x.lc(this);this.Jk=p;this.Cl=i;this.ha=0;this.qf=NaN;this.Jl=0;this.Il=Infinity;this.Ga=Cb;this.ob=this.ab=0;this.tc=p;this.nr=bl;this.Ah=Wg}x.S("RowColumnDefinition",jk);jk.prototype.copy=function(){var a=new jk;a.Cl=this.Cl;a.ha=this.ha;a.qf=this.qf;a.Jl=this.Jl;a.Il=this.Il;a.Ga=this.Ga;a.ab=this.ab;a.ob=this.ob;a.Ah=this.Ah;a.nr=this.nr;a.tc=this.tc;return a};var bl;jk.Default=bl=x.s(jk,"Default",0);var Wk;jk.None=Wk=x.s(jk,"None",1);var Qk;
jk.ProportionalExtra=Qk=x.s(jk,"ProportionalExtra",2);jk.prototype.il=ba("Jk");function Uk(a,b){a.ab=isNaN(a.qf)?Math.max(Math.min(a.Il,b),a.Jl):Math.max(Math.min(a.Il,a.qf),a.Jl)}jk.prototype.Xd=function(a,b,c,d,e){var g=this.Jk;if(g!==p){g.U();for(var h=this.Ov,j=g.xa,k=j.length,l=0;l<k;l++){var m=j.o[l];(h?m.rc:m.Gc)===this.index&&m.U()}g.Uc(Td,a,this,b,c,d,e);if(this.tc!==p&&(b=g.fs(),b!==p&&(b=b.data,b!==p)))for(c=this.tc.l;c.next();)c.value.eF(this,b,a)}};x.u(jk,{ea:"panel"},t("Jk"));
x.u(jk,{Ov:"isRow"},t("Cl"));x.u(jk,{index:"index"},t("ha"));x.g(jk,"height",jk.prototype.height);x.defineProperty(jk,{height:"height"},t("qf"),function(a){var b=this.qf;b!==a&&(u&&x.k(a,"number",jk,"height"),0>a&&x.ra(a,">= 0",jk,"height"),this.qf=a,Uk(this,this.ab),this.Xd("size",b,a))});x.g(jk,"width",jk.prototype.width);
x.defineProperty(jk,{width:"width"},t("qf"),function(a){var b=this.qf;b!==a&&(u&&x.k(a,"number",jk,"width"),0>a&&x.ra(a,">= 0",jk,"width"),this.qf=a,Uk(this,this.ab),this.Xd("size",b,a))});x.g(jk,"minimum",jk.prototype.jg);x.defineProperty(jk,{jg:"minimum"},t("Jl"),function(a){var b=this.Jl;b!==a&&(u&&x.k(a,"number",jk,"minimum"),(0>a||!isFinite(a))&&x.ra(a,">= 0",jk,"minimum"),this.Jl=a,Uk(this,this.ab),this.Xd("minimum",b,a))});x.g(jk,"maximum",jk.prototype.ge);
x.defineProperty(jk,{ge:"maximum"},t("Il"),function(a){var b=this.Il;b!==a&&(u&&x.k(a,"number",jk,"maximum"),0>a&&x.ra(a,">= 0",jk,"maximum"),this.Il=a,Uk(this,this.ab),this.Xd("maximum",b,a))});x.g(jk,"alignment",jk.prototype.Ib);x.defineProperty(jk,{Ib:"alignment"},t("Ga"),function(a){var b=this.Ga;b.K(a)||(u&&x.i(a,N,jk,"alignment"),this.Ga=a.Q(),this.Xd("alignment",b,a))});x.g(jk,"stretch",jk.prototype.Th);
x.defineProperty(jk,{Th:"stretch"},t("Ah"),function(a){var b=this.Ah;b!==a&&(u&&x.pb(a,U,jk,"stretch"),this.Ah=a,this.Xd("stretch",b,a))});x.g(jk,"sizing",jk.prototype.Rs);x.defineProperty(jk,{Rs:"sizing"},t("nr"),function(a){var b=this.nr;b!==a&&(u&&x.pb(a,jk,jk,"sizing"),this.nr=a,this.Xd("sizing",b,a))});function Vk(a){if(a.Rs===bl){var b=a.Jk;return a.Ov?b.DE:b.FC}return a.Rs}x.u(jk,{md:"actual"},t("ab"));x.u(jk,{position:"position"},t("ob"));
jk.prototype.bind=jk.prototype.bind=function(a){a.Yf=this;var b=this.ea;b!==p&&(b=b.fs(),b!==p&&ek(b)&&x.m("Cannot add a Binding to a RowColumnDefinition that is already frozen: "+a));this.tc===p&&(this.tc=new H(De));this.tc.add(a)};
function V(){U.call(this);this.La=p;this.Gp="None";this.xh=q;this.Op=Wg;this.pk=p;this.oc=this.Ee="black";this.Zd=1;this.wn="butt";this.xn="miter";this.yn=10;this.sr=p;this.rf=0;this.yi=this.xi=Cb;this.Lq=this.Kq=0;this.Xp=q;this.cq=i;this.BF=new L;this.Tm=this.An="None";this.Up=1}x.S("Shape",V);x.Ja(V,U);
V.prototype.Db=function(a){U.prototype.Db.call(this,a);a.La=this.La;a.Gp=this.Gp;a.xh=this.xh;a.Op=this.Op;a.pk=this.pk;a.Ee=this.Ee;a.oc=this.oc;a.Zd=this.Zd;a.wn=this.wn;a.xn=this.xn;a.yn=this.yn;a.sr=this.sr;a.rf=this.rf;a.xi=this.xi.Q();a.yi=this.yi.Q();a.Kq=this.Kq;a.Lq=this.Lq;a.Xp=this.Xp;a.cq=this.cq;a.An=this.An;a.Tm=this.Tm;a.Up=this.Up};V.prototype.toString=function(){return"Shape("+("None"!==this.lb?this.lb:"None"!==this.Bm?this.Bm:this.Iv)+")#"+x.gc(this)};
V.prototype.co=function(a){if(!(this.oc===p&&this.Ee===p)){this.Ee!==p&&Gj(this,a,this.Ee,i);this.oc!==p&&Gj(this,a,this.oc,q);var b=this.Zd;if(0===b){var c=this.fa;c instanceof Ye&&(c.type===Kg&&c.Ec instanceof V)&&(b=c.Ec.ib)}a.lineWidth=b;a.lineJoin=this.xn;a.lineCap=this.wn;a.miterLimit=this.yn;var d=q;this.fa&&(d=this.fa.om);var e=i;this.oc!==p&&this.Ee===p&&(e=q);b=q;c=this.RE;if(c!==p){var g=b=i;a.setLineDash!==f?(a.setLineDash(c),a.lineDashOffset=this.rf):a.webkitLineDash!==f?(a.webkitLineDash=
c,a.webkitLineDashOffset=this.rf):a.mozDash!==f?(a.mozDash=c,a.mozDashOffset=this.rf):g=q}var h=this.La;if(h!==p){if(h.V===Yc)a.beginPath(),b&&!g?cl(a,h.Hb,h.Sb,h.Dc,h.Lc,c,this.rf):(a.moveTo(h.Hb,h.Sb),a.lineTo(h.Dc,h.Lc)),this.Ee!==p&&a.fill(),this.oc!==p&&a.stroke();else if(h.V===Zc){var j=h.Hb,k=h.Sb,l=h.Dc,h=h.Lc,m=Math.min(j,l),n=Math.min(k,h),j=Math.abs(l-j),k=Math.abs(h-k);this.Ee!==p&&a.fillRect(m,n,j,k);if(this.oc!==p){if(e&&d){var r=[a.shadowOffsetX,a.shadowOffsetY,a.shadowBlur];a.shadowOffsetX=
0;a.shadowOffsetY=0;a.shadowBlur=0}b&&!g?(g=[[m,n],[m+j,n],[m+j,n+k],[m,n+k],[m,n]],a.beginPath(),dl(a,g,c,this.rf),a.stroke()):a.strokeRect(m,n,j,k);e&&d&&(a.shadowOffsetX=r[0],a.shadowOffsetY=r[1],a.shadowBlur=r[2])}}else if(h.V===$c)j=h.Hb,k=h.Sb,l=h.Dc,h=h.Lc,m=Math.abs(l-j)/2,n=Math.abs(h-k)/2,j=Math.min(j,l)+m,k=Math.min(k,h)+n,a.beginPath(),a.moveTo(j,k-n),a.bezierCurveTo(j+ac*m,k-n,j+m,k-ac*n,j+m,k),a.bezierCurveTo(j+m,k+ac*n,j+ac*m,k+n,j,k+n),a.bezierCurveTo(j-ac*m,k+n,j-m,k+ac*n,j-m,k),
a.bezierCurveTo(j-m,k-ac*n,j-ac*m,k-n,j,k-n),a.closePath(),this.Ee!==p&&a.fill(),b&&!g&&(g=[],uc(j,k-n,j+ac*m,k-n,j+m,k-ac*n,j+m,k,0.5,g),uc(j+m,k,j+m,k+ac*n,j+ac*m,k+n,j,k+n,0.5,g),uc(j,k+n,j-ac*m,k+n,j-m,k+ac*n,j-m,k,0.5,g),uc(j-m,k,j-m,k-ac*n,j-ac*m,k-n,j,k-n,0.5,g),a.beginPath(),dl(a,g,c,this.rf)),this.oc!==p&&(e&&d&&(r=[a.shadowOffsetX,a.shadowOffsetY,a.shadowBlur],a.shadowOffsetX=0,a.shadowOffsetY=0,a.shadowBlur=0),a.stroke(),e&&d&&(a.shadowOffsetX=r[0],a.shadowOffsetY=r[1],a.shadowBlur=r[2]));
else if(h.V===Uc){for(var m=h.uk,n=m.length,s=0;s<n;s++){var v=m.o[s];a.beginPath();a.moveTo(v.sa,v.ta);for(var y=v.Fa.o,C=y.length,D=p,I=0;I<C;I++){var E=y[I];switch(E.V){case qd:a.moveTo(E.I,E.J);break;case bd:a.lineTo(E.I,E.J);break;case rd:a.bezierCurveTo(E.jf,E.kf,E.ui,E.vi,E.Tf,E.Uf);break;case sd:a.quadraticCurveTo(E.jf,E.kf,E.Tf,E.Uf);break;case td:if(E.radiusX===E.radiusY)D=Math.PI/180,a.arc(E.Hm,E.Im,E.radiusX,E.fh*D,(E.fh+E.Wi)*D,0>E.Wi?i:q);else for(var D=xd(E,v),M=D.length,O=0;O<M;O++){var X=
D[O];0===O&&a.lineTo(X.x1,X.y1);a.bezierCurveTo(X.x2,X.y2,X.Gf,X.Hf,X.bd,X.cd)}break;case gd:D&&D.type===td?(D=xd(D,v),D=D[D.length-1]||p,D!==p&&(j=D.bd,l=D.cd)):(j=D?D.I:v.sa,l=D?D.J:v.ta);D=yd(E,v,j,l);M=D.length;for(O=0;O<M;O++)X=D[O],a.bezierCurveTo(X.x2,X.y2,X.Gf,X.Hf,X.bd,X.cd);break;default:x.m("Segment not of valid type")}E.gi&&a.closePath();D=E}d?v.Mf?(v.Al===i&&this.Ee!==p?(a.fill(),e=i):e=q,this.oc!==p&&(e&&(r=[a.shadowOffsetX,a.shadowOffsetY,a.shadowBlur],a.shadowOffsetX=0,a.shadowOffsetY=
0,a.shadowBlur=0),(!b||g)&&a.stroke(),e&&(a.shadowOffsetX=r[0],a.shadowOffsetY=r[1],a.shadowBlur=r[2]))):(e&&(r=[a.shadowOffsetX,a.shadowOffsetY,a.shadowBlur],a.shadowOffsetX=0,a.shadowOffsetY=0,a.shadowBlur=0),v.Al===i&&this.Ee!==p&&a.fill(),this.oc!==p&&(!b||g)&&a.stroke(),e&&(a.shadowOffsetX=r[0],a.shadowOffsetY=r[1],a.shadowBlur=r[2])):(v.Al===i&&this.Ee!==p&&a.fill(),this.oc!==p&&(!b||g)&&a.stroke())}if(b&&!g){r=e;g=h.uk;e=g.length;for(h=0;h<e;h++){j=g.o[h];a.beginPath();l=[];l.push([j.sa,j.ta]);
m=j.sa;n=j.ta;s=m;v=n;y=j.Fa.o;C=y.length;for(I=0;I<C;I++){E=y[I];switch(E.V){case qd:dl(a,l,c,this.rf);l=[];l.push([E.I,E.J]);m=E.I;n=E.J;s=m;v=n;break;case bd:l.push([E.I,E.J]);m=E.I;n=E.J;break;case rd:D=[];uc(m,n,E.jf,E.kf,E.ui,E.vi,E.Tf,E.Uf,0.5,D);l=l.concat(D);m=E.I;n=E.J;break;case sd:D=[];zc(m,n,E.jf,E.kf,E.Tf,E.Uf,0.5,D);l=l.concat(D);m=E.I;n=E.J;break;case td:M=xd(E,j);O=M.length;for(X=0;X<O;X++){var sa=M[X],D=[];uc(m,n,sa.x2,sa.y2,sa.Gf,sa.Hf,sa.bd,sa.cd,0.5,D);l=l.concat(D);m=sa.bd;n=
sa.cd}break;case gd:M=yd(E,j,m,n);O=M.length;for(X=0;X<O;X++)sa=M[X],D=[],uc(m,n,sa.x2,sa.y2,sa.Gf,sa.Hf,sa.bd,sa.cd,0.5,D),l=l.concat(D),m=sa.bd,n=sa.cd;break;default:x.m("Segment not of valid type")}E.gi&&(l.push([s,v]),dl(a,l,c,this.rf))}dl(a,l,c,this.rf);this.oc!==p&&(r&&d&&(k=[a.shadowOffsetX,a.shadowOffsetY,a.shadowBlur],a.shadowOffsetX=0,a.shadowOffsetY=0,a.shadowBlur=0),a.stroke(),r&&d&&(a.shadowOffsetX=k[0],a.shadowOffsetY=k[1],a.shadowBlur=k[2]))}}}b&&(a.setLineDash!==f?(a.setLineDash(p),
a.lineDashOffset=0):a.webkitLineDash!==f?(a.webkitLineDash=[],a.webkitLineDashOffset=0):a.mozDash!==f&&(a.mozDash=p,a.mozDashOffset=0))}}};function cl(a,b,c,d,e,g,h){var j=0.0010,k=g.length;a.moveTo(b,c);d-=b;j=e-c;0===d&&(d=0.0010);for(var e=j/d,l=Math.sqrt(d*d+j*j),m=0,n=i,r=0===h?q:i;0.1<=l;){r?(j=g[m++%k],h%=j,j-=h,r=q):j=g[m++%k];j>l&&(j=l);var s=Math.sqrt(j*j/(1+e*e));0>d&&(s=-s);b+=s;c+=e*s;n?a.lineTo(b,c):a.moveTo(b,c);l-=j;n=!n}}
function dl(a,b,c,d){var e=0.0010,g=c.length,h,j,k,l=b.length;if(!(2>l))if(h=b[0][0],j=b[0][1],2===l)cl(a,h,j,b[1][0],b[1][1],c,d);else{a.moveTo(h,j);for(var m,n,r,s=0,v=[],y=1;y<l;y++)m=b[y],e=m[0],k=m[1],m=e-h,h=k-j,0===m&&(m=0.0010),n=h/m,h=Math.sqrt(m*m+h*h),v.push([m,n,h]),s+=h,h=e,j=k;h=b[0][0];j=b[0][1];b=0;l=i;e=c[b%g];y=0===d?q:i;k=0;r=v[k];m=r[0];n=r[1];r=r[2];for(var C=0;0.1<=s;){0===C&&(y?(e=c[b%g],b++,d%=e,e-=d,y=q):(e=c[b%g],b++));e>s&&(e=s);e>r?(C=e-r,e=r):C=0;var D=Math.sqrt(e*e/(1+
n*n));0>m&&(D=-D);h+=D;j+=n*D;l?a.lineTo(h,j):a.moveTo(h,j);s-=e;r-=e;if(0!==C){k++;if(k===v.length)break;r=v[k];m=r[0];n=r[1];r=r[2];e=C}else l=!l}}}V.prototype.getDocumentPoint=V.prototype.Tb=function(a){yb(a)&&x.m("Spot must be real");var b=this.Na,c=this.ib,a=new K(a.x*(b.width+c)-c/2+b.x+a.offsetX,a.y*(b.height+c)-c/2+b.y+a.offsetY);this.le.Xa(a);return a};
V.prototype.Lj=function(a,b){var c=this.La;if(c===p||this.fill===p&&this.stroke===p)return q;var d=c.Kb,e=this.ib/2;c.type===Yc&&!b&&(e+=2);var g=this.BF;g.set(d);g.Wg(e+2,e+2);if(!g.Aa(a))return q;d=e+1E-4;if(c.type===Yc){if(this.stroke===p)return q;d=(c.I-c.sa)*(a.x-c.sa)+(c.J-c.ta)*(a.y-c.ta);return 0>(c.sa-c.I)*(a.x-c.I)+(c.ta-c.J)*(a.y-c.J)||0>d?q:rc(c.sa,c.ta,c.I,c.J,e,a.x,a.y)}if(c.type===Zc){var h=c.sa,j=c.ta,k=c.I,l=c.J,c=Math.min(h,k),m=Math.min(j,l),h=Math.abs(k-h),j=Math.abs(l-j);g.x=
c;g.y=m;g.width=h;g.height=j;if(this.fill===p){g.Wg(-d,-d);if(g.Aa(a))return q;g.Wg(d,d)}this.stroke!==p&&g.Wg(e,e);return g.Aa(a)}if(c.type===$c){h=c.sa;j=c.ta;k=c.I;l=c.J;c=Math.min(h,k);m=Math.min(j,l);h=Math.abs(k-h);j=Math.abs(l-j);g=h/2;j/=2;c=a.x-(c+g);m=a.y-(m+j);if(this.fill===p){g-=d;j-=d;if(0>=g||0>=j||1>=c*c/(g*g)+m*m/(j*j))return q;g+=d;j+=d}this.stroke!==p&&(g+=e,j+=e);return 0>=g||0>=j?q:1>=c*c/(g*g)+m*m/(j*j)}if(c.type===Uc)return this.fill===p?Ad(c,a.x,a.y,e):c.Aa(a,e,1<this.ib,b);
x.m("Unknown Geometry type");return q};
V.prototype.ys=function(a,b,c,d){var e=this.za,g=this.Zd,a=Math.max(a,0),b=Math.max(b,0),h;this.xh?h=this.La.Kb:(el[this.lb]===f&&x.m("Unsupported Figure:"+this.lb),h=el[this.lb].Kb);var j=h.width,k=h.height,l=h.width,m=h.height;switch(rj(this)){case lj:d=c=0;break;case Wc:l=Math.max(a-g,0);m=Math.max(b-g,0);break;case nj:l=Math.max(a-g,0);d=0;break;case mj:c=0,m=Math.max(b-g,0)}isFinite(e.width)&&(l=e.width);isFinite(e.height)&&(m=e.height);e=this.fe;h=this.xe;c=Math.max(c/this.scale,h.width)-g;
d=Math.max(d/this.scale,h.height)-g;l=Math.min(e.width,l);m=Math.min(e.height,m);l=isFinite(l)?Math.max(c,l):Math.max(j,c);m=isFinite(m)?Math.max(d,m):Math.max(k,d);c=this.Jv;c=this.xh?c===Wg?Wc:c:c===Wg?el[this.lb].mc:c;switch(c){case lj:break;case Wc:j=l;k=m;break;case Xg:c=Math.min(l/j,m/k);isFinite(c)||(c=1);j*=c;k*=c;break;default:x.m(c+" is not a valid geometryStretch.")}if(this.xh){h=this.$c;d=j;e=k;c=h.copy();h=h.Kb;d/=h.width;e/=h.height;isFinite(d)||(d=1);isFinite(e)||(e=1);if(!(1===d&&
1===e)){switch(c.type){case Yc:case Zc:case $c:c.Hb*=d;c.Sb*=e;c.Dc*=d;c.Lc*=e;break;case Uc:h=c.yb;for(var n=h.length,r=0;r<n;r++){var s=h.o[r];s.sa*=d;s.ta*=e;for(var s=s.Fa,v=s.length,y=0;y<v;y++){var C=s.o[y];switch(C.type){case bd:case qd:C.I*=d;C.J*=e;break;case rd:C.jf*=d;C.kf*=e;C.ui*=d;C.vi*=e;C.I*=d;C.J*=e;break;case sd:C.ic*=d;C.Tc*=e;C.I*=d;C.J*=e;break;case td:C.ua*=d;C.Da*=e;C.radiusX*=d;C.radiusY!==f&&(C.radiusY*=e);break;case gd:C.I*=d;C.J*=e;C.radiusX*=d;C.radiusY*=e;break;default:x.m("Unknown Segment type: "+
C.type)}}}}c.Sa=i}this.La=c}else if(this.La===p||this.La.Rt!==a||this.La.Qt!==b)c=j,d=k,h=this.za,e=h.width,h=h.height,c!==f&&(!isNaN(c)&&isFinite(c))&&(e=c),d!==f&&(!isNaN(d)&&isFinite(d))&&(h=d),isFinite(e)||(e=100),isFinite(h)||(h=100),n=f,"None"!==this.Bm?n=fl(this.Bm):"None"!==this.Iv?n=fl(this.Iv):(r=gl[this.lb],"string"===typeof r&&(r=gl[r]),r===f&&x.m("Unknown Shape.figure: "+this.lb),n=r(this,e,h),n.Wd=new cb(e,h)),n===f&&(r=gl.Rectangle)&&(n=r(this,e,h)),n.Rt=c,n.Qt=d,this.La=n;h=this.La.Kb;
Infinity===a||Infinity===b?oj(this,h.x-g/2,h.y-g/2,0===a&&0===j?0:h.width+g,0===b&&0===k?0:h.height+g):oj(this,-(g/2),-(g/2),l+g,m+g)};
function Xk(a,b,c){if(a.dc!==q){a.Yc.Oa();var d=a.Zd;if(0===d){var e=a.fa;e instanceof Ye&&(e.type===Kg&&e.Ec instanceof V)&&(d=e.Ec.ib)}d*=a.Rb;oj(a,-(d/2),-(d/2),b+d,c+d);b=a.Yc;c=a.fe;d=a.xe;b.width=Math.min(c.width,b.width);b.height=Math.min(c.height,b.height);b.width=Math.max(d.width,b.width);b.height=Math.max(d.height,b.height);a.Yc.freeze();a.Yc.R()||x.m("Non-real measuredBounds has been set");a.dc=q}}V.prototype.Kj=function(a,b,c,d){uj(this,a,b,c,d)};
V.prototype.getNearestIntersectionPoint=V.prototype.rD=function(a,b,c){return this.js(a.x,a.y,b.x,b.y,c)};
V.prototype.js=function(a,b,c,d,e){var g=this.transform,h=1/(g.m11*g.m22-g.m12*g.m21),j=g.m22*h,k=-g.m12*h,l=-g.m21*h,m=g.m11*h,n=h*(g.m21*g.dy-g.m22*g.dx),r=h*(g.m12*g.dx-g.m11*g.dy),g=a*j+b*l+n,h=a*k+b*m+r,j=c*j+d*l+n,k=c*k+d*m+r,l=this.ib/2,n=this.La;n===p&&(Ch(this,Infinity,Infinity),n=this.La);r=n.Kb;m=q;if(n.type===Yc)if(1.5>=this.ib)m=Fc(n.Hb,n.Sb,n.Dc,n.Lc,g,h,j,k,e);else{var s;n.Hb===n.Dc?(s=l,r=0):(b=(n.Lc-n.Sb)/(n.Dc-n.Hb),r=l/Math.sqrt(1+b*b),s=r*b);b=[];d=new K;Fc(n.Hb+s,n.Sb+r,n.Dc+
s,n.Lc+r,g,h,j,k,d)&&b.push(d);d=new K;Fc(n.Hb-s,n.Sb-r,n.Dc-s,n.Lc-r,g,h,j,k,d)&&b.push(d);d=new K;Fc(n.Hb+s,n.Sb+r,n.Hb-s,n.Sb-r,g,h,j,k,d)&&b.push(d);d=new K;Fc(n.Dc+s,n.Lc+r,n.Dc-s,n.Lc-r,g,h,j,k,d)&&b.push(d);d=b.length;if(0===d)return q;m=i;r=Infinity;for(s=0;s<d;s++){var j=b[s],v=(j.x-g)*(j.x-g)+(j.y-h)*(j.y-h);v<r&&(r=v,e.x=j.x,e.y=j.y)}}else if(n.type===Zc)d=r.x-l,m=Hc(d,r.y-l,r.x+r.width+l,r.y+r.height+l,g,h,j,k,e);else if(n.type===$c)a:if(b=r.copy().Wg(l,l),0===b.width)m=Fc(b.x,b.y,b.x,
b.y+b.height,g,h,j,k,e);else if(0===b.height)m=Fc(b.x,b.y,b.x+b.width,b.y,g,h,j,k,e);else{var a=b.width/2,y=b.height/2,d=b.x+a,b=b.y+y,c=9999;g!==j&&(c=(h-k)/(g-j));if(9999>Math.abs(c)){m=h-b-c*(g-d);if(0>a*a*c*c+y*y-m*m){e.x=NaN;e.y=NaN;m=q;break a}l=Math.sqrt(a*a*c*c+y*y-m*m);j=(-(a*a*c*m)+a*y*l)/(y*y+a*a*c*c)+d;a=(-(a*a*c*m)-a*y*l)/(y*y+a*a*c*c)+d;k=c*(j-d)+m+b;b=c*(a-d)+m+b;d=Math.abs((g-j)*(g-j))+Math.abs((h-k)*(h-k));h=Math.abs((g-a)*(g-a))+Math.abs((h-b)*(h-b));d<h?(e.x=j,e.y=k):(e.x=a,e.y=
b)}else{j=y*y;k=g-d;j-=j/(a*a)*k*k;if(0>j){e.x=NaN;e.y=NaN;m=q;break a}l=Math.sqrt(j);k=b+l;b-=l;d=Math.abs(k-h);h=Math.abs(b-h);d<h?(e.x=g,e.y=k):(e.x=g,e.y=b)}m=i}else if(n.type===Uc){var C,D,I,E=new K;s=j-g;r=k-h;r=s*s+r*r;e.x=j;e.y=k;for(s=0;s<n.yb.count;s++){var M=n.yb.o[s],O=M.Fa;C=M.sa;D=M.ta;for(var X=C,sa=D,ka,va,Fa=0;Fa<O.count;Fa++){ka=O.o[Fa];va=ka.type;v=ka.I;I=ka.J;var Ga=q;switch(va){case qd:X=v;sa=I;break;case bd:Ga=hl(C,D,v,I,g,h,j,k,E);break;case rd:Ga=ka.ic;va=ka.Tc;var Za=ka.dh,
pb=ka.eh,Ga=Ac(C,D,Ga,va,Za,pb,v,I,g,h,j,k,0.5,E);break;case sd:Ga=(C+2*ka.ic)/3;va=(D+2*ka.Tc)/3;Za=(2*ka.ic+v)/3;pb=(2*ka.ic+v)/3;Ga=Ac(C,D,Ga,va,Za,pb,v,I,g,h,j,k,0.5,E);break;case td:case gd:I=ka.type===td?xd(ka,M):yd(ka,M,C,D);va=I.length;for(s=0;s<va;s++)y=I[s],0===s&&hl(C,D,y.x1,y.y1,g,h,j,k,E)&&(v=il(g,h,E,r,e),v<r&&(r=v,m=i)),Ac(y.x1,y.y1,y.x2,y.y2,y.Gf,y.Hf,y.bd,y.cd,g,h,j,k,0.5,E)&&(v=il(g,h,E,r,e),v<r&&(r=v,m=i));v=y.bd;I=y.cd;break;default:x.m("Unknown Segment type: "+ka.type)}C=v;D=
I;Ga&&(v=il(g,h,E,r,e),v<r&&(r=v,m=i));ka.Lv&&(v=X,I=sa,hl(C,D,v,I,g,h,j,k,E)&&(v=il(g,h,E,r,e),v<r&&(r=v,m=i)))}}g=c-a;h=d-b;d=Math.sqrt(g*g+h*h);e.x-=g/d*l;e.y-=h/d*l}else x.m("Invalid Geometry type");if(!m)return q;d=nb(this.transform,e);e.x=d.x;e.y=d.y;return i};function il(a,b,c,d,e){a=c.x-a;b=c.y-b;b=a*a+b*b;return b<d?(e.x=c.x,e.y=c.y,b):d}
function hl(a,b,c,d,e,g,h,j,k){var l=q,m=(e-h)*(b-d)-(g-j)*(a-c);if(0===m)return q;k.x=((e*j-g*h)*(a-c)-(e-h)*(a*d-b*c))/m;k.y=((e*j-g*h)*(b-d)-(g-j)*(a*d-b*c))/m;if((a>c?a-c:c-a)<(b>d?b-d:d-b)){if(e=b<d?b:d,a=b<d?d:b,(k.y>e||Ta(k.y,e))&&(k.y<a||Ta(k.y,a)))l=i}else if(e=a<c?a:c,a=a<c?c:a,(k.x>e||Ta(k.x,e))&&(k.x<a||Ta(k.x,a)))l=i;return l}
V.prototype.containedInRect=V.prototype.sv=function(a,b){if(b===f)return a.Zl(this.ya);var c=this.La;c===p&&(Ch(this,Infinity,Infinity),c=this.La);var c=c.Kb,d=this.ib/2;return!a.Aa(b.Xa(new K(c.x-d,c.y-d)))||!a.Aa(b.Xa(new K(c.x-d,c.bottom+d)))||!a.Aa(b.Xa(new K(c.right+d,c.bottom+d)))||!a.Aa(b.Xa(new K(c.right+d,c.y-d)))?q:i};
V.prototype.intersectsRect=V.prototype.Oe=function(a,b){function c(a,b){k.x=a*d.m11+b*d.m21+d.dx;k.y=a*d.m12+b*d.m22+d.dy}if(this.sv(a,b)||b===f&&(b=this.transform,a.Zl(this.ya)))return i;var d=b.copy();d.GD();var e=a.left,g=a.right,h=a.top,j=a.bottom,k=new K;c(e,h);if(this.Lj(k,i))return i;c(g,h);if(this.Lj(k,i))return i;c(e,j);if(this.Lj(k,i))return i;c(g,j);if(this.Lj(k,i))return i;var l=new K,m=new K;d.set(b);d.fE(this.transform);d.GD();l.x=g;l.y=h;l.transform(d);k.x=e;k.y=h;k.transform(d);if(jl(this,
k,l,m))return i;k.x=g;k.y=j;k.transform(d);if(jl(this,k,l,m))return i;l.x=e;l.y=j;l.transform(d);if(jl(this,k,l,m))return i;k.x=e;k.y=h;k.transform(d);return jl(this,k,l,m)?i:q};function jl(a,b,c,d){if(!a.rD(b,c,d))return q;var a=b.x,b=b.y,e=c.x,g=c.y,c=d.x,d=d.y;if(a===e){var h;b<g?(h=b,a=g):(h=g,a=b);return d>=h&&d<=a}a<e?(h=a,a=e):h=e;return c>=h&&c<=a}
V.prototype.iD=function(a,b){if(this.fill!==p&&this.Lj(a,i))return i;var c=a.cm(b),d=c;1.5<this.ib&&(c=this.ib/2+Math.sqrt(c),c*=c);var e=this.La;e===p&&(Ch(this,Infinity,Infinity),e=this.La);var g=e.Hb,h=e.Sb,j=e.Dc,k=e.Lc;if(e.type===Yc){var e=ab(a.x,a.y,g,h,j,k),l=(g-j)*(a.x-j)+(h-k)*(a.y-k);if(e<=(0<=(j-g)*(a.x-g)+(k-h)*(a.y-h)&&0<=l?c:d))return i}else if(e.type===Zc){if(ab(a.x,a.y,g,h,g,k)<=c||ab(a.x,a.y,g,h,j,h)<=c||ab(a.x,a.y,j,h,j,k)<=c||ab(a.x,a.y,g,k,j,k)<=c)return i}else if(e.type===$c){var e=
a.x-(g+j)/2,d=a.y-(h+k)/2,l=Math.abs(j-g)/2,m=Math.abs(k-h)/2;if(0===l||0===m)return e=ab(a.x,a.y,g,h,j,k),e<=c?i:q;g=new K(Infinity,Infinity);Gc(e,d,0,0,-l,-m,l,m,g);Gc(e,d,0,m,-l,-m,l,m,g);Gc(e,d,0,-m,-l,-m,l,m,g);Gc(e,d,0,l,-l,-m,l,m,g);Gc(e,d,0,-l,-l,-m,l,m,g);Gc(e,d,l/2,m/2,-l,-m,l,m,g);Gc(e,d,-l/2,m/2,-l,-m,l,m,g);Gc(e,d,l/2,-m/2,-l,-m,l,m,g);Gc(e,d,-l/2,-m/2,-l,-m,l,m,g);if((g.x-e)*(g.x-e)+(g.y-d)*(g.y-d)<c)return i}else if(e.type===Uc){k=e.Kb;g=k.x;h=k.y;j=k.x+k.width;k=k.y+k.height;if(a.x>
j&&a.x<g&&a.y>k&&a.y<h&&ab(a.x,a.y,g,h,g,k)>c&&ab(a.x,a.y,g,h,j,h)>c&&ab(a.x,a.y,j,k,g,k)>c&&ab(a.x,a.y,j,k,j,h)>c)return q;c=Math.sqrt(c);if(this.fill===p?Ad(e,a.x,a.y,c):e.Aa(a,c,i))return i}return q};x.g(V,"geometry",V.prototype.$c);x.defineProperty(V,{$c:"geometry"},function(){return this.pk?this.pk:this.La},function(a){var b=this.La;b!==a&&(a!==p?(u&&x.i(a,Tc,V,"geometry"),this.pk=this.La=a.freeze()):this.pk=this.La=p,this.xh=i,this.U(),this.j("geometry",b,a))});x.g(V,"geometryString",V.prototype.nD);
x.defineProperty(V,{nD:"geometryString"},function(){return this.$c.toString()},function(a){var b=ed(a),a=b.normalize();this.$c=b;b=this.position;this.position=b.R()?new K(b.x-a.x,b.y-a.y):new K(-a.x,-a.y)});x.defineProperty(V,{uz:"isGeometryPositioned"},t("Xp"),function(a){u&&x.k(a,"boolean",V,"isGeometryPositioned");var b=this.Xp;b!==a&&(this.Xp=a,this.U(),this.j("isGeometryPositioned",b,a))});V.prototype.gg=function(){this.xh?this.pk=p:this.La=p;this.U()};x.g(V,"fill",V.prototype.fill);
x.defineProperty(V,{fill:"fill"},t("Ee"),function(a){var b=this.Ee;if(b!==a&&(a===p||"string"===typeof a||a instanceof be))a instanceof be&&a.freeze(),this.Ee=a,xj(this),this.j("fill",b,a)});x.g(V,"stroke",V.prototype.stroke);x.defineProperty(V,{stroke:"stroke"},t("oc"),function(a){var b=this.oc;if(b!==a&&(a===p||"string"===typeof a||a instanceof be))a instanceof be&&a.freeze(),this.oc=a,xj(this),this.j("stroke",b,a)});x.g(V,"strokeWidth",V.prototype.ib);
x.defineProperty(V,{ib:"strokeWidth"},t("Zd"),function(a){var b=this.Zd;b!==a&&(u&&x.n(a,V,"strokeWidth"),0<=a&&(this.Zd=a,this.U(),this.j("strokeWidth",b,a)))});x.g(V,"strokeCap",V.prototype.QE);x.defineProperty(V,{QE:"strokeCap"},t("wn"),function(a){var b=this.wn;b!==a&&("string"===typeof a&&("butt"===a||"round"===a||"square"===a)?(this.wn=a,xj(this),this.j("strokeCap",b,a)):x.ra(a,'"butt", "round", or "square"',V,"strokeCap"))});x.g(V,"strokeJoin",V.prototype.vI);
x.defineProperty(V,{vI:"strokeJoin"},t("xn"),function(a){var b=this.xn;b!==a&&("string"===typeof a&&("miter"===a||"bevel"===a||"round"===a)?(this.xn=a,xj(this),this.j("strokeJoin",b,a)):x.ra(a,'"miter", "bevel", or "round"',V,"strokeJoin"))});x.g(V,"strokeMiterLimit",V.prototype.wI);x.defineProperty(V,{wI:"strokeMiterLimit"},t("yn"),function(a){var b=this.yn;b!==a&&(u&&x.n(a,V,"strokeMiterLimit"),0<a&&(this.yn=a,xj(this),this.j("strokeMiterLimit",b,a)))});x.g(V,"strokeDashArray",V.prototype.RE);
x.defineProperty(V,{RE:"strokeDashArray"},t("sr"),function(a){var b=this.sr;b!==a&&(this.sr=a,xj(this),this.j("strokeDashArray",b,a))});x.g(V,"strokeDashOffset",V.prototype.uI);x.defineProperty(V,{uI:"strokeDashOffset"},t("rf"),function(a){var b=this.rf;b!==a&&(u&&x.n(a,V,"strokeDashOffset"),0<a&&(this.rf=a,xj(this),this.j("strokeDashOffset",b,a)))});x.g(V,"figure",V.prototype.lb);
x.defineProperty(V,{lb:"figure"},t("Gp"),function(a){var b=this.Gp;if(b!==a){u&&x.k(a,"string",V,"figure");var c=gl[a];"function"===typeof c?c=a:(c=gl[a.toLowerCase()])||x.m("Unknown Shape.figure: "+a);b!==c&&(this.Gp=c,this.xh=q,this.gg(),this.j("figure",b,c))}});x.g(V,"toArrow",V.prototype.Bm);
x.defineProperty(V,{Bm:"toArrow"},t("An"),function(a){var b=this.An;a===i?a="Standard":a===q&&(a="None");if(b!==a){u&&x.k(a,"string",V,"toArrow");var c=fl(a);c instanceof Tc?c=a:(c=fl(a.toLowerCase()))||x.m("Unknown Shape.toArrow: "+a);b!==c&&(this.An=c,this.xh=q,this.gg(),kl(this,c),this.j("toArrow",b,c))}});x.g(V,"fromArrow",V.prototype.Iv);
x.defineProperty(V,{Iv:"fromArrow"},t("Tm"),function(a){var b=this.Tm;a===i?a="Standard":a===q&&(a="None");if(b!==a){u&&x.k(a,"string",V,"fromArrow");var c=fl(a);c instanceof Tc?c=a:(c=fl(a.toLowerCase()))||x.m("Unknown Shape.fromArrow: "+a);b!==c&&(this.Tm=c,this.xh=q,this.gg(),kl(this,c),this.j("fromArrow",b,c))}});
function kl(a,b){var c=a.h;if(!(c!==p&&c.wa.zb)){a.Os=ll;c=Qb;switch(b){case "halfarrowtop":c=Nb;break;case "halftriangletop":c=Nb;break;case "openrighttriangletop":c=Nb;break;case "opentriangletop":c=Nb}"None"!==a.An?(a.Rh=-1,a.Fj=c):"None"!==a.Tm&&(a.Rh=0,a.Fj=new N(1-c.x,c.y))}}x.defineProperty(V,{v:"spot1"},t("xi"),function(a){x.i(a,N,V,"spot1");var b=this.xi;b.K(a)||(this.xi=a=a.Q(),this.U(),this.j("spot1",b,a))});
x.defineProperty(V,{w:"spot2"},t("yi"),function(a){x.i(a,N,V,"spot2");var b=this.yi;b.K(a)||(this.yi=a=a.Q(),this.U(),this.j("spot2",b,a))});x.defineProperty(V,{hc:"parameter1"},t("Kq"),function(a){var b=this.Kq;b!==a&&(this.Kq=a,this.U(),this.j("parameter1",b,a))});x.defineProperty(V,{Is:"parameter2"},t("Lq"),function(a){var b=this.Lq;b!==a&&(this.Lq=a,this.U(),this.j("parameter2",b,a))});
x.u(V,{Na:"naturalBounds"},function(){if(this.La!==p)return this.Nc.bb(this.La.Kb),this.Nc;var a=this.za;return new L(0,0,a.width,a.height)});x.g(V,"isRectangular",V.prototype.qH);x.defineProperty(V,{qH:"isRectangular"},t("cq"),function(a){var b=this.cq;b!==a&&(u&&x.k(a,"boolean",V,"isRectangular"),this.cq=a,this.U(),this.j("isRectangular",b,a))});x.g(V,"geometryStretch",V.prototype.Jv);
x.defineProperty(V,{Jv:"geometryStretch"},t("Op"),function(a){var b=this.Op;b!==a&&(x.pb(a,U,V,"geometryStretch"),this.Op=a,this.j("geometryStretch",b,a))});x.g(V,"interval",V.prototype.Ni);x.defineProperty(V,{Ni:"interval"},t("Up"),function(a){var b=this.Up;u&&x.n(a,V,"interval");a=Math.floor(a);b!==a&&0<=a&&(this.Up=a,this.U(),this.j("interval",b,a))});
function ra(){U.call(this);this.Pd="";this.oc="black";this.lj="13px sans-serif";this.sf="start";this.$p=i;this.Wt=q;this.Tl=ml;this.du=this.Gl=0;this.vk=this.Gx=this.Hx=p;this.mq={};this.Ep=q;this.De=this.Ej=this.wr=p}x.S("TextBlock",ra);x.Ja(ra,U);
ra.prototype.Db=function(a){U.prototype.Db.call(this,a);a.Pd=this.Pd;a.oc=this.oc;a.lj=this.lj;a.sf=this.sf;a.$p=this.$p;a.Wt=this.Wt;a.Tl=this.Tl;a.Gl=this.Gl;a.du=this.du;a.Hx=this.Hx;a.Gx=this.Gx;a.vk=this.vk;a.mq=this.mq;a.Ep=this.Ep;a.wr=this.wr;a.Ej=this.Ej;a.De=this.De};ra.prototype.toString=function(){return 22<this.Pd.length?'TextBlock("'+this.Pd.substring(0,20)+'"...)':'TextBlock("'+this.Pd+'")'};var nl;ra.None=nl=x.s(ra,"None",0);var ol;ra.WrapFit=ol=x.s(ra,"WrapFit",1);var ml;
ra.WrapDesiredSize=ml=x.s(ra,"WrapDesiredSize",2);ra.prototype.U=function(){U.prototype.U.call(this);this.vk=this.Gx=this.Hx=p};x.g(ra,"font",ra.prototype.font);x.defineProperty(ra,{font:"font"},t("lj"),function(a){var b=this.lj;b!==a&&(u&&x.k(a,"string",ra,"font"),this.lj=a,this.U(),this.j("font",b,a))});x.g(ra,"text",ra.prototype.text);x.defineProperty(ra,{text:"text"},t("Pd"),function(a){var b=this.Pd,a=a!==p&&a!==f?a.toString():"";b!==a&&(this.Pd=a,this.U(),this.j("text",b,a))});
x.g(ra,"textAlign",ra.prototype.textAlign);x.defineProperty(ra,{textAlign:"textAlign"},t("sf"),function(a){var b=this.sf;b!==a&&(u&&x.k(a,"string",ra,"textAlign"),"start"===a||"end"===a||"left"===a||"right"===a||"center"===a?(this.sf=a,xj(this),this.j("textAlign",b,a)):x.ra(a,'"start", "end", "left", "right", or "center"',ra,"textAlign"))});
x.u(ra,{Na:"naturalBounds"},function(){if(!this.Nc.R()){var a=pl(this,this.Pd,this.font,{},999999).width,b=ql(this,a,{}),c=this.za;isNaN(c.width)||(a=c.width);isNaN(c.height)||(b=c.height);db(this.Nc,a,b)}return this.Nc});x.g(ra,"isMultiline",ra.prototype.Nv);x.defineProperty(ra,{Nv:"isMultiline"},t("$p"),function(a){var b=this.$p;b!==a&&(u&&x.k(a,"boolean",ra,"isMultiline"),this.$p=a,this.U(),this.j("isMultiline",b,a))});x.g(ra,"wrap",ra.prototype.wA);
x.defineProperty(ra,{wA:"wrap"},t("Tl"),function(a){var b=this.Tl;b!==a&&(u&&x.pb(a,ra,ra,"wrap"),this.Tl=a,this.U(),this.j("wrap",b,a))});x.g(ra,"stroke",ra.prototype.stroke);x.defineProperty(ra,{stroke:"stroke"},t("oc"),function(a){var b=this.oc;if(b!==a&&(a===p||"string"===typeof a||a instanceof be))a instanceof be&&a.freeze(),this.oc=a,xj(this),this.j("stroke",b,a)});x.u(ra,{xL:"lineCount"},t("Gl"));x.g(ra,"editable",ra.prototype.yv);
x.defineProperty(ra,{yv:"editable"},t("Ep"),function(a){var b=this.Ep;b!==a&&(u&&x.k(a,"boolean",ra,"editable"),this.Ep=a,this.j("editable",b,a))});x.g(ra,"textEditor",ra.prototype.oA);x.defineProperty(ra,{oA:"textEditor"},t("wr"),function(a){var b=this.wr;b!==a&&(a instanceof HTMLElement||x.m("textEditor must be an HTMLElement"),this.wr=a,this.j("textEditor",b,a))});x.g(ra,"errorFunction",ra.prototype.as);
x.defineProperty(ra,{as:"errorFunction"},t("De"),function(a){var b=this.De;b!==a&&(a!==p&&x.k(a,"function",ra,"errorFunction"),this.De=a,this.j("errorFunction",b,a))});
ra.prototype.co=function(a,b){if(this.oc!==p&&0!==this.Pd.length){var c=this.lj;if(c!==p){var d=this.Na.width,e=Dh(this,c);a.Lw!==c&&(a.font=c,a.Lw=c);a.textAlign=this.sf;Gj(this,a,this.oc,i);this.Wt&&(Gj(this,a,this.oc,q),a.lineWidth=0.05*e);var c=this.mq,g=0,h=q,j=this.le.Xa(new K(0,0)),k=this.le.Xa(new K(0,e)),j=j.cm(k),k=b.scale;8>j*k*k&&(h=i);j=c.Jj.length;for(k=0;k<j;k++){var l=c.Jj[k],m=c.Vn[k];l>d&&(l=d);var n=a,r=g,s=e,v=h,y=0;"start"===this.sf||"left"===this.sf?y=0:"end"===this.sf||"right"===
this.sf?y=d:"center"===this.sf?y=d/2:x.m("textAlign must be start, end, left, right, or center");v?n.fillRect(0+y,r+0.25*s,l,1):(n.fillText(m,0+y,r+s-0.25*s),this.Wt&&("end"===this.sf||"right"===this.sf?y-=l:"center"===this.sf&&(y-=l/2),n.moveTo(0+y,r+s-0.2*s),n.lineTo(0+y+l,r+s-0.2*s),n.stroke()));g+=e}}}};
ra.prototype.ys=function(a,b,c,d){var e={},g=0,h=0;if(isNaN(this.za.width)){g=this.Pd;if(0===g.length)g=0;else if(this.Nv){for(var j=h=0,k=q,l={Wh:0};!k;){var m=rl(g,j,l);-1===m&&(m=g.length,k=i);j=sl(g.substr(j,m-j).replace(/^\s+|\s+$/g,""),this.lj);j>h&&(h=j);j=l.Wh}g=h}else h=rl(g,0,{}),0<=h&&(g=g.substr(0,h)),g=j=sl(g,this.lj);g=Math.min(g,a/this.scale);g=Math.max(8,g)}else g=this.za.width;this.ea&&(g=Math.min(g,this.ea.fe.width),g=Math.max(g,this.ea.xe.width));h=ql(this,g,e);h=isNaN(this.za.height)?
Math.min(h,b/this.scale):this.za.height;if(this.wA===ol||isNaN(this.za.width))g=e.Ti,isNaN(this.za.width)&&(g=Math.max(8,g));g=Math.max(c,g);h=Math.max(d,h);db(this.Nc,g,h);oj(this,0,0,g,h);this.mq=e};ra.prototype.Kj=function(a,b,c,d){uj(this,a,b,c,d)};
function pl(a,b,c,d,e){b=b.replace(/^\s+|\s+$/g,"");d.Ti===f&&(d.Ti=0);d.Jj===f&&(d.Jj=[]);d.Vn===f&&(d.Vn=[]);var g=0,h;if(a.Tl===nl)return d.Wh=1,d.Ti=sl(b,c),d.Jj.push(d.Ti),d.Vn.push(b),new cb(d.Ti,Dh(a,c));a.vk===p&&(a.vk=Dh(a,c));var a=a.vk,j=b,k=0;0===j.length&&(k=1,d.Jj.push(0),d.Vn.push(j));for(;0<j.length;){for(var l=tl(j),j=j.substr(l.length);sl(l,c)>e;){var m=1,b=sl(l.substr(0,m),c);for(h=0;b<=e;)m++,h=b,b=sl(l.substr(0,m),c);1===m?(d.Jj[k]=b,g=Math.max(g,b)):(d.Jj[k]=h,g=Math.max(g,h));
m--;1>m&&(m=1);d.Vn[k]=l.substr(0,m);k++;l=l.substr(m)}h=tl(j);for(b=sl(l+h,c);0<h.length&&b<=e;)l+=h,j=j.substr(h.length),h=tl(j),b=sl((l+h).replace(/^\s+|\s+$/g,""),c);l=l.replace(/^\s+|\s+$/g,"");""!==l&&(0===h.length?(d.Jj.push(b),g=Math.max(g,b)):(h=sl(l,c),d.Jj.push(h),g=Math.max(g,h)),d.Vn.push(l),k++)}d.Wh=k;d.Ti=Math.max(d.Ti,g);return new cb(d.Ti,a*d.Wh)}function tl(a){for(var b=a.length,c=0;c<b&&" "!==a.charAt(c);)c++;for(;c<b&&" "===a.charAt(c);)c++;return c>=b?a:a.substr(0,c)}
function sl(a,b){x.Mu!==b&&(x.Lu.font=b,x.Mu=b);return x.Lu.measureText(a).width}function Dh(a,b){if(a.vk!==p)return a.vk;x.Mu!==b&&(x.Lu.font=b,x.Mu=b);var c=0;x.nx[b]!==f&&5E3>x.jB?c=x.nx[b]:(c=1.3*x.Lu.measureText("M").width,x.nx[b]=c,x.jB++);return c}function rl(a,b,c){c.Wh===f&&(c.Wh=0);var d=a.indexOf("\r",b);-1===d&&(d=a.indexOf("\n",b));0<=d&&(c.Wh="\r"===a[d]&&d+1<a.length&&"\n"===a[d+1]?d+2:d+1);return d}
function ql(a,b,c){var d=a.Pd,e=a.lj,g=Dh(a,e);if(0===d.length)return c.Ti=0,a.Gl=1,g;if(!a.Nv){var h=rl(d,0,{});0<=h&&(d=d.substr(0,h))}for(var j=h=0,k=0,l=-1,m={Wh:0},n=q;!n;)l=rl(d,k,m),-1===l&&(l=d.length,n=i),k<=l&&(k=d.substr(k,l-k),a.Tl!==nl?(c.Wh=0,k=pl(a,k,e,c,b),h+=k.height,j+=c.Wh):(pl(a,k,e,c,Infinity),h+=g,j++)),k=m.Wh;a.Gl=j;return a.du=h}x.g(ra,"textValidation",ra.prototype.Us);
x.defineProperty(ra,{Us:"textValidation"},t("Ej"),function(a){var b=this.Ej;b!==a&&(a!==p&&x.k(a,"function",ra,"textValidation"),this.Ej=a,this.j("textValidation",b,a))});function ik(){U.call(this);this.di=p;this.pr="";this.Dj=(new L(NaN,NaN,NaN,NaN)).freeze();this.Ym=Wc;this.Su=this.De=p;this.St=this.Hl=q}x.S("Picture",ik);x.Ja(ik,U);ik.prototype.Db=function(a){U.prototype.Db.call(this,a);a.element=this.di;a.pr=this.pr;a.Dj.bb(this.Dj);a.Ym=this.Ym;a.De=this.De};
ik.prototype.toString=function(){return"Picture("+this.source+")#"+x.gc(this)};x.g(ik,"element",ik.prototype.element);
x.defineProperty(ik,{element:"element"},t("di"),function(a){var b=this.di;if(b!==a){a instanceof HTMLImageElement||(a instanceof HTMLVideoElement||a instanceof HTMLCanvasElement)||x.m("Picture.element must be an instance of Image, Canvas, or Video.");var c=this;a instanceof HTMLCanvasElement?this.St=i:(this.St=q,a.onerror=function(a){c.De!==p&&c.De(c,a)});this.di=a;this.j("element",b,a);a.complete===i||a.complete===f?(this.Hl=i,this.za.R()||(this.dc=q,this.U())):(x.xy.push(this),x.Cu===p&&(x.Cu=setInterval(function(){for(var a=
[],b=x.xy,c=b.length,h=0;h<c;h++){var j=b[h];ul(j)||a.push(j)}0===a.length&&(clearInterval(x.Cu),x.Cu=p);x.xy=a},600)))}});function ul(a){var b=a.di;if(!b)return i;if(!b.complete)return q;if(a.Hl===i)return i;a.Hl=i;if(a.h)a.za.R()||(a.dc=q,a.U(),a.h.Oi()),Hh(a.h);else{var a=x.$A,c=a.length;if(0===c)for(var c=document.getElementsByTagName("canvas"),d=c.length,b=0;b<d;b++){var e=c[b];e.parentElement&&e.parentElement.ca&&a.push(e.parentElement.ca)}c=a.length;for(b=0;b<c;b++)Hh(a[b])}return i}
x.g(ik,"source",ik.prototype.source);x.defineProperty(ik,{source:"source"},t("pr"),function(a){var b=this.pr;if(b!==a)if(x.k(a,"string",ik,"source"),this.pr=a,this.j("source",b,a),b=x.tF,b[a]!==f)this.element=b[a];else{var c=document.createElement("img");c.src=a;b[a]=c;c instanceof HTMLImageElement&&(this.element=c)}});x.g(ik,"sourceRect",ik.prototype.Sh);
x.defineProperty(ik,{Sh:"sourceRect"},t("Dj"),function(a){var b=this.Dj;b.K(a)||(x.i(a,L,ik,"sourceRect"),this.Dj=a=a.Q(),this.j("sourceRect",b,a))});x.g(ik,"imageStretch",ik.prototype.gH);x.defineProperty(ik,{gH:"imageStretch"},t("Ym"),function(a){var b=this.Ym;b!==a&&(x.pb(a,U,ik,"imageStretch"),this.Ym=a,this.j("imageStretch",b,a))});x.g(ik,"errorFunction",ik.prototype.as);
x.defineProperty(ik,{as:"errorFunction"},t("De"),function(a){var b=this.De;if(b!==a){a!==p&&x.k(a,"function",ik,"errorFunction");this.De=a;if(this.di){var c=this;this.di.onerror=function(a){c.De!==p&&c.De(c,a)}}this.j("errorFunction",b,a)}});
ik.prototype.co=function(a,b){if(!b.Dt){if(this.Su===p){var c=document.createElement("canvas").getContext("2d");c.drawImage(this.di,0,0);try{c.getImageData(0,0,1,1),this.Su=q}catch(d){this.Su=i}}if(this.Su)return}c=this.di;if(c!==p){var e=c.src;(e===p||""===e)&&x.m("Element has no source attribute: "+c);var e=this.Na,g=0,h=0,j=this.St,k=j?+c.width:c.naturalWidth,j=j?+c.height:c.naturalHeight;if(!(0===k||0===j)){k===f&&c.videoWidth&&(k=c.videoWidth||e.width);j===f&&c.videoHeight&&(j=c.videoHeight||
e.height);this.Sh.R()&&(g=this.Dj.x,h=this.Dj.y,k=this.Dj.width,j=this.Dj.height);var l=k,m=j,n=this.Ym;switch(n){case lj:if(this.Sh.R())break;g+=Math.max((l-e.width)/2,0);h+=Math.max((m-e.height)/2,0);k=Math.min(e.width,l);j=Math.min(e.height,m);break;case Wc:l=e.width;m=e.height;break;case Xg:case Yg:n===Xg?(n=Math.min(e.height/m,e.width/l),l*=n,m*=n):n===Yg&&(n=Math.max(e.height/m,e.width/l),l*=n,m*=n,g+=(l-e.width)/2,h+=(m-e.height)/2,k*=1/(l/e.width),j*=1/(m/e.height),l=e.width,m=e.height)}a.drawImage(c,
g,h,k,j,Math.max((e.width-l)/2,0),Math.max((e.height-m)/2,0),Math.min(e.width,l),Math.min(e.height,m))}}};x.u(ik,{Na:"naturalBounds"},t("Nc"));
ik.prototype.ys=function(a,b,c,d){var e=this.za,g=rj(this),h=this.di,j=this.St;if(j||!this.Hl&&h&&h.complete)this.Hl=i;h===p&&(b=a=0);g!==Wc&&g!==nj?isFinite(e.width)?a=e.width:h!==p&&this.Hl!==q&&(a=this.Sh.R()?this.Sh.width:j?+h.width:h.naturalWidth):(isFinite(a)||(a=this.Sh.R()?this.Sh.width:j?+h.width:h.naturalWidth),c=0);g!==Wc&&g!==mj?isFinite(e.height)?b=e.height:h!==p&&this.Hl!==q&&(b=this.Sh.R()?this.Sh.height:j?+h.height:h.naturalHeight):(isFinite(b)||(b=this.Sh.R()?this.Sh.height:j?+h.height:
h.naturalHeight),d=0);e=this.fe;g=this.xe;c=Math.max(c/this.scale,g.width);d=Math.max(d/this.scale,g.height);a=Math.min(e.width,a);b=Math.min(e.height,b);a=Math.max(c,a);b=Math.max(d,b);h!==p&&!h.complete&&(isFinite(a)||(a=0),isFinite(b)||(b=0));db(this.Nc,a,b);oj(this,0,0,a,b)};ik.prototype.Kj=function(a,b,c,d){uj(this,a,b,c,d)};function P(){this.q=new Tc;this.Qb=p}
function Q(a,b,c,d,e,g){a.q===p&&x.m("StreamGeometryContext has been closed");e!==f&&e===i?(a.Qb===p&&x.m("Need to call beginFigure first"),d=new S(qd),d.I=b,d.J=c,a.Qb.Fa.add(d)):(a.Qb=new Vc,a.Qb.sa=b,a.Qb.ta=c,a.Qb.nm=d,a.q.yb.add(a.Qb));g!==f&&(a.Qb.Mf=g)}function hd(a){a.q===p&&x.m("StreamGeometryContext has been closed");a.Qb===p&&x.m("Need to call beginFigure first");var b=a.Qb.Fa.length;0<b&&a.Qb.Fa.o[b-1].close()}
function md(a){a.q===p&&x.m("StreamGeometryContext has been closed");a.Qb===p&&x.m("Need to call beginFigure first");a.Qb.om=q}P.prototype.moveTo=function(a,b,c){this.q===p&&x.m("StreamGeometryContext has been closed");this.Qb===p&&x.m("Need to call beginFigure first");var d=new S(qd);d.I=a;d.J=b;c&&d.close();this.Qb.Fa.add(d)};
P.prototype.lineTo=function(a,b,c){this.q===p&&x.m("StreamGeometryContext has been closed");this.Qb===p&&x.m("Need to call beginFigure first");var d=new S(bd);d.I=a;d.J=b;c&&d.close();this.Qb.Fa.add(d)};function R(a,b,c,d,e,g,h,j){a.q===p&&x.m("StreamGeometryContext has been closed");a.Qb===p&&x.m("Need to call beginFigure first");var k=new S(rd);k.ic=b;k.Tc=c;k.dh=d;k.eh=e;k.I=g;k.J=h;j&&k.close();a.Qb.Fa.add(k)}
function fd(a,b,c,d,e){a.q===p&&x.m("StreamGeometryContext has been closed");a.Qb===p&&x.m("Need to call beginFigure first");var g=new S(sd);g.ic=b;g.Tc=c;g.I=d;g.J=e;a.Qb.Fa.add(g)}P.prototype.arcTo=function(a,b,c,d,e,g,h){this.q===p&&x.m("StreamGeometryContext has been closed");this.Qb===p&&x.m("Need to call beginFigure first");var j=new S(td);j.fh=a;j.Wi=b;j.ua=c;j.Da=d;j.radiusX=e;j.radiusY=g?g:e;h&&j.close();this.Qb.Fa.add(j)};
function vl(a,b,c,d,e,g,h,j,k,l,m,n,r,s){var v=1-k,a=a*v+c*k,b=b*v+d*k,c=c*v+e*k,d=d*v+g*k,e=e*v+h*k,g=g*v+j*k,j=a*v+c*k,h=b*v+d*k,c=c*v+e*k,d=d*v+g*k;l.x=a;l.y=b;m.x=j;m.y=h;n.x=j*v+c*k;n.y=h*v+d*k;r.x=c;r.y=d;s.x=e;s.y=g}function wl(a){var a=xl(a),b=[];b[0]=a[0];for(var c=1,d=1;c<a.length;c+=2,d+=3)b[d]=a[c],b[d+1]=a[c],b[d+2]=a[c+1];return b}
function xl(a){for(var b=yl(a),c=[],d=Math.floor(b.length/2),e=b.length-1,a=0===a%2?2:1,g=0;g<e;g++){var h=b[g],j=b[g+1],k=b[(d+g-1)%e],l=b[(d+g+a)%e];c[2*g]=h;c[2*g+1]=zl(h.x,h.y,k.x,k.y,j.x,j.y,l.x,l.y)}c[c.length]=c[0];return c}function zl(a,b,c,d,e,g,h,j){c=a-c;h=e-h;0===c||0===h?0===c?(h=(g-j)/h,j=a,e=h*j+(g-h*e)):(d=(b-d)/c,j=e,e=d*j+(b-d*a)):(d=(b-d)/c,h=(g-j)/h,a=b-d*a,j=(g-h*e-a)/(d-h),e=d*j+a);return new K(j,e)}
function yl(a){for(var b=[],c=1.5*Math.PI,d=0,e=0;e<a;e++)d=2*Math.PI/a*e+c,b[e]=new K(0.5+0.5*Math.cos(d),0.5+0.5*Math.sin(d));b.push(b[0]);return b}
var gl={None:"Rectangle",Rectangle:function(a,b,c){a=new Tc;a.type=Zc;a.sa=0;a.ta=0;a.I=b;a.J=c;return a},Circle:function(a,b,c){a=new Tc;a.mc=Xg;a.type=$c;a.sa=0;a.ta=0;a.I=b;a.J=c;a.v=new N(0.156,0.156);a.w=new N(0.844,0.844);return a},Connector:"Ellipse",Ellipse:function(a,b,c){a=new Tc;a.type=$c;a.sa=0;a.ta=0;a.I=b;a.J=c;a.v=new N(0.156,0.156);a.w=new N(0.844,0.844);return a},TriangleRight:function(a,b,c){var a=new Tc,d=new Vc,e=new S;e.I=b;e.J=0.5*c;d.Fa.add(e);b=new S;b.I=0;b.J=c;d.Fa.add(b.close());
a.yb.add(d);a.v=new N(0,0.25);a.w=new N(0.5,0.75);return a},TriangleDown:function(a,b,c){var a=new Tc,d=new Vc,e=new S;e.I=b;e.J=0;d.Fa.add(e);e=new S;e.I=0.5*b;e.J=c;d.Fa.add(e.close());a.yb.add(d);a.v=new N(0.25,0);a.w=new N(0.75,0.5);return a},TriangleLeft:function(a,b,c){var a=new Tc,d=new Vc;d.sa=b;d.ta=c;var e=new S;e.I=0;e.J=0.5*c;d.Fa.add(e);c=new S;c.I=b;c.J=0;d.Fa.add(c.close());a.yb.add(d);a.v=new N(0.5,0.25);a.w=new N(1,0.75);return a},TriangleUp:function(a,b,c){var a=new Tc,d=new Vc;
d.sa=b;d.ta=c;var e=new S;e.I=0;e.J=c;d.Fa.add(e);c=new S;c.I=0.5*b;c.J=0;d.Fa.add(c.close());a.yb.add(d);a.v=new N(0.25,0.5);a.w=new N(0.75,1);return a},Line1:function(a,b,c){a=new Tc;a.type=Yc;a.sa=0;a.ta=0;a.I=b;a.J=c;return a},Line2:function(a,b,c){a=new Tc;a.type=Yc;a.sa=b;a.ta=0;a.I=0;a.J=c;return a},MinusLine:"LineH",LineH:function(a,b,c){a=new Tc;a.type=Yc;a.sa=0;a.ta=c/2;a.I=b;a.J=c/2;return a},LineV:function(a,b,c){a=new Tc;a.type=Yc;a.sa=b/2;a.ta=0;a.I=b/2;a.J=c;return a},Curve1:function(a,
b,c){a=new P;Q(a,0,0,q);R(a,ac*b,0,1*b,(1-ac)*c,b,c);return a.q},Curve2:function(a,b,c){a=new P;Q(a,0,0,q);R(a,0,ac*c,(1-ac)*b,c,b,c);return a.q},Curve3:function(a,b,c){a=new P;Q(a,1*b,0,q);R(a,1*b,ac*c,ac*b,1*c,0,1*c);return a.q},Curve4:function(a,b,c){a=new P;Q(a,1*b,0,q);R(a,(1-ac)*b,0,0,(1-ac)*c,0,1*c);return a.q},Alternative:"Triangle",Merge:"Triangle",Triangle:function(a,b,c){a=new P;Q(a,0.5*b,0*c,i);a.lineTo(0*b,1*c);a.lineTo(1*b,1*c,i);b=a.q;b.v=new N(0.25,0.5);b.w=new N(0.75,1);return b},
Decision:"Diamond",Diamond:function(a,b,c){a=new P;Q(a,0.5*b,0,i);a.lineTo(0,0.5*c);a.lineTo(0.5*b,1*c);a.lineTo(1*b,0.5*c,i);b=a.q;b.v=new N(0.25,0.25);b.w=new N(0.75,0.75);return b},Pentagon:function(a,b,c){var a=yl(5),d=new P;Q(d,a[0].x*b,a[0].y*c,i);for(var e=1;5>e;e++)d.lineTo(a[e].x*b,a[e].y*c);hd(d);b=d.q;b.v=new N(0.2,0.22);b.w=new N(0.8,0.9);return b},DataTransmission:"Hexagon",Hexagon:function(a,b,c){var a=yl(6),d=new P;Q(d,a[0].x*b,a[0].y*c,i);for(var e=1;6>e;e++)d.lineTo(a[e].x*b,a[e].y*
c);hd(d);b=d.q;b.v=new N(0.07,0.25);b.w=new N(0.93,0.75);return b},Heptagon:function(a,b,c){var a=yl(7),d=new P;Q(d,a[0].x*b,a[0].y*c,i);for(var e=1;7>e;e++)d.lineTo(a[e].x*b,a[e].y*c);hd(d);b=d.q;b.v=new N(0.2,0.15);b.w=new N(0.8,0.85);return b},Octagon:function(a,b,c){var a=yl(8),d=new P;Q(d,a[0].x*b,a[0].y*c,i);for(var e=1;8>e;e++)d.lineTo(a[e].x*b,a[e].y*c);hd(d);b=d.q;b.v=new N(0.15,0.15);b.w=new N(0.85,0.85);return b},Nonagon:function(a,b,c){var a=yl(9),d=new P;Q(d,a[0].x*b,a[0].y*c,i);for(var e=
1;9>e;e++)d.lineTo(a[e].x*b,a[e].y*c);hd(d);b=d.q;b.v=new N(0.17,0.13);b.w=new N(0.82,0.82);return b},Decagon:function(a,b,c){var a=yl(10),d=new P;Q(d,a[0].x*b,a[0].y*c,i);for(var e=1;10>e;e++)d.lineTo(a[e].x*b,a[e].y*c);hd(d);b=d.q;b.v=new N(0.16,0.16);b.w=new N(0.84,0.84);return b},Dodecagon:function(a,b,c){var a=yl(12),d=new P;Q(d,a[0].x*b,a[0].y*c,i);for(var e=1;12>e;e++)d.lineTo(a[e].x*b,a[e].y*c);hd(d);b=d.q;b.v=new N(0.16,0.16);b.w=new N(0.84,0.84);return b},FivePointedStar:function(a,b,c){var a=
xl(5),d=new P;Q(d,a[0].x*b,a[0].y*c,i);for(var e=1;10>e;e++)d.lineTo(a[e].x*b,a[e].y*c);hd(d);b=d.q;b.v=new N(0.312,0.383);b.w=new N(0.693,0.765);return b},SixPointedStar:function(a,b,c){var a=xl(6),d=new P;Q(d,a[0].x*b,a[0].y*c,i);for(var e=1;12>e;e++)d.lineTo(a[e].x*b,a[e].y*c);hd(d);b=d.q;b.v=new N(0.17,0.251);b.w=new N(0.833,0.755);return b},SevenPointedStar:function(a,b,c){var a=xl(7),d=new P;Q(d,a[0].x*b,a[0].y*c,i);for(var e=1;14>e;e++)d.lineTo(a[e].x*b,a[e].y*c);hd(d);b=d.q;b.v=new N(0.363,
0.361);b.w=new N(0.641,0.709);return b},EightPointedStar:function(a,b,c){var a=xl(8),d=new P;Q(d,a[0].x*b,a[0].y*c,i);for(var e=1;16>e;e++)d.lineTo(a[e].x*b,a[e].y*c);hd(d);b=d.q;b.v=new N(0.252,0.255);b.w=new N(0.75,0.75);return b},NinePointedStar:function(a,b,c){var a=xl(9),d=new P;Q(d,a[0].x*b,a[0].y*c,i);for(var e=1;18>e;e++)d.lineTo(a[e].x*b,a[e].y*c);hd(d);b=d.q;b.v=new N(0.355,0.361);b.w=new N(0.645,0.651);return b},TenPointedStar:function(a,b,c){var a=xl(10),d=new P;Q(d,a[0].x*b,a[0].y*c,
i);for(var e=1;20>e;e++)d.lineTo(a[e].x*b,a[e].y*c);hd(d);b=d.q;b.v=new N(0.281,0.261);b.w=new N(0.723,0.748);return b},FivePointedBurst:function(a,b,c){var a=wl(5),d=new P;Q(d,a[0].x*b,a[0].y*c,i);for(var e=1;e<a.length;e+=3)R(d,a[e].x*b,a[e].y*c,a[e+1].x*b,a[e+1].y*c,a[e+2].x*b,a[e+2].y*c);hd(d);b=d.q;b.v=new N(0.312,0.383);b.w=new N(0.693,0.765);return b},SixPointedBurst:function(a,b,c){var a=wl(6),d=new P;Q(d,a[0].x*b,a[0].y*c,i);for(var e=1;e<a.length;e+=3)R(d,a[e].x*b,a[e].y*c,a[e+1].x*b,a[e+
1].y*c,a[e+2].x*b,a[e+2].y*c);hd(d);b=d.q;b.v=new N(0.17,0.251);b.w=new N(0.833,0.755);return b},SevenPointedBurst:function(a,b,c){var a=wl(7),d=new P;Q(d,a[0].x*b,a[0].y*c,i);for(var e=1;e<a.length;e+=3)R(d,a[e].x*b,a[e].y*c,a[e+1].x*b,a[e+1].y*c,a[e+2].x*b,a[e+2].y*c);hd(d);b=d.q;b.v=new N(0.363,0.361);b.w=new N(0.641,0.709);return b},EightPointedBurst:function(a,b,c){var a=wl(8),d=new P;Q(d,a[0].x*b,a[0].y*c,i);for(var e=1;e<a.length;e+=3)R(d,a[e].x*b,a[e].y*c,a[e+1].x*b,a[e+1].y*c,a[e+2].x*b,
a[e+2].y*c);hd(d);b=d.q;b.v=new N(0.252,0.255);b.w=new N(0.75,0.75);return b},NinePointedBurst:function(a,b,c){var a=wl(9),d=new P;Q(d,a[0].x*b,a[0].y*c,i);for(var e=1;e<a.length;e+=3)R(d,a[e].x*b,a[e].y*c,a[e+1].x*b,a[e+1].y*c,a[e+2].x*b,a[e+2].y*c);hd(d);b=d.q;b.v=new N(0.355,0.361);b.w=new N(0.645,0.651);return b},TenPointedBurst:function(a,b,c){var a=wl(10),d=new P;Q(d,a[0].x*b,a[0].y*c,i);for(var e=1;e<a.length;e+=3)R(d,a[e].x*b,a[e].y*c,a[e+1].x*b,a[e+1].y*c,a[e+2].x*b,a[e+2].y*c);hd(d);b=d.q;
b.v=new N(0.281,0.261);b.w=new N(0.723,0.748);return b},Cloud:function(a,b,c){a=new P;Q(a,0.08034461*b,0.1944299*c,i);R(a,-0.09239631*b,0.07836421*c,0.1406031*b,-0.0542823*c,0.2008615*b,0.05349299*c);R(a,0.2450511*b,-0.00697547*c,0.3776197*b,-0.01112067*c,0.4338609*b,0.074219*c);R(a,0.4539471*b,0,0.6066018*b,-0.02526587*c,0.6558228*b,0.07004196*c);R(a,0.6914277*b,-0.01904177*c,0.8921095*b,-0.01220843*c,0.8921095*b,0.08370865*c);R(a,1.036446*b,0.04105738*c,1.020377*b,0.3022052*c,0.9147671*b,0.3194596*
c);R(a,1.04448*b,0.360238*c,0.992256*b,0.5219009*c,0.9082935*b,0.562044*c);R(a,1.032337*b,0.5771781*c,1.018411*b,0.8120651*c,0.9212406*b,0.8217117*c);R(a,1.028411*b,0.9571472*c,0.8556702*b,1.052487*c,0.7592566*b,0.9156953*c);R(a,0.7431877*b,1.009325*c,0.5624123*b,1.021761*c,0.5101666*b,0.9310455*c);R(a,0.4820677*b,1.031761*c,0.3030112*b,1.002796*c,0.2609328*b,0.9344623*c);R(a,0.2329994*b,1.01518*c,0.03213784*b,1.01518*c,0.08034461*b,0.870098*c);R(a,-0.02812061*b,0.9032597*c,-0.01205169*b,0.6835638*
c,0.06829292*b,0.6545475*c);R(a,-0.01812061*b,0.6089503*c,-0.00606892*b,0.4555777*c,0.06427569*b,0.4265613*c);R(a,-0.01606892*b,0.3892545*c,-0.01205169*b,0.1944299*c,0.08034461*b,0.1944299*c);hd(a);b=a.q;b.v=new N(0.1,0.1);b.w=new N(0.9,0.9);return b},Gate:"Crescent",Crescent:function(a,b,c){a=new P;Q(a,0,0,i);R(a,1*b,0,1*b,1*c,0,1*c);R(a,0.5*b,0.75*c,0.5*b,0.25*c,0,0);hd(a);b=a.q;b.v=new N(0.511,0.19);b.w=new N(0.776,0.76);return b},FramedRectangle:function(a,b,c){var d=new P,e=a?a.hc:0,a=a?a.Is:
0;0===e&&(e=0.1);0===a&&(a=0.1);Q(d,0,0,i);d.lineTo(1*b,0);d.lineTo(1*b,1*c);d.lineTo(0,1*c,i);Q(d,e*b,a*c,q,i);d.lineTo(e*b,(1-a)*c);d.lineTo((1-e)*b,(1-a)*c);d.lineTo((1-e)*b,a*c,i);b=d.q;b.v=new N(e,a);b.w=new N(1-e,1-a);return b},Delay:"HalfEllipse",HalfEllipse:function(a,b,c){a=new P;Q(a,0,0,i);R(a,ac*b,0,1*b,(0.5-ac/2)*c,1*b,0.5*c);R(a,1*b,(0.5+ac/2)*c,ac*b,1*c,0,1*c);hd(a);b=a.q;b.v=new N(0,0.2);b.w=new N(0.75,0.8);return b},Heart:function(a,b,c){a=new P;Q(a,0.5*b,1*c,i);R(a,0.1*b,0.8*c,0,
0.5*c,0*b,0.3*c);R(a,0*b,0,0.45*b,0,0.5*b,0.3*c);R(a,0.55*b,0,1*b,0,1*b,0.3*c);R(a,b,0.5*c,0.9*b,0.8*c,0.5*b,1*c);hd(a);b=a.q;b.v=new N(0.15,0.29);b.w=new N(0.86,0.68);return b},Spade:function(a,b,c){a=new P;Q(a,0.5*b,0,i);a.lineTo(0.51*b,0.01*c);R(a,0.6*b,0.2*c,b,0.25*c,b,0.5*c);R(a,b,0.8*c,0.6*b,0.8*c,0.55*b,0.7*c);R(a,0.5*b,0.75*c,0.55*b,0.95*c,0.75*b,c);a.lineTo(0.25*b,c);R(a,0.45*b,0.95*c,0.5*b,0.75*c,0.45*b,0.7*c);R(a,0.4*b,0.8*c,0,0.8*c,0,0.5*c);R(a,0,0.25*c,0.4*b,0.2*c,0.49*b,0.01*c);hd(a);
b=a.q;b.v=new N(0.19,0.26);b.w=new N(0.8,0.68);return b},Club:function(a,b,c){a=new P;Q(a,0.4*b,0.6*c,i);R(a,0.5*b,0.75*c,0.45*b,0.95*c,0.15*b,1*c);a.lineTo(0.85*b,c);R(a,0.55*b,0.95*c,0.5*b,0.75*c,0.6*b,0.6*c);var d=0.2,e=0.3,g=0,h=d*(4*(Math.SQRT2-1)/3);R(a,(0.5-d+e)*b,(0.5+h+g)*c,(0.5-h+e)*b,(0.5+d+g)*c,(0.5+e)*b,(0.5+d+g)*c);R(a,(0.5+h+e)*b,(0.5+d+g)*c,(0.5+d+e)*b,(0.5+h+g)*c,(0.5+d+e)*b,(0.5+g)*c);R(a,(0.5+d+e)*b,(0.5-h+g)*c,(0.5+h+e)*b,(0.5-d+g)*c,(0.5+e)*b,(0.5-d+g)*c);R(a,(0.5-h+e)*b,(0.5-
d+g)*c,(0.5-d+e+0.05)*b,(0.5-h+g-0.02)*c,0.65*b,0.36771243*c);d=0.2;e=0;g=-0.3;h=d*(4*(Math.SQRT2-1)/3);R(a,(0.5+h+e)*b,(0.5+d+g)*c,(0.5+d+e)*b,(0.5+h+g)*c,(0.5+d+e)*b,(0.5+g)*c);R(a,(0.5+d+e)*b,(0.5-h+g)*c,(0.5+h+e)*b,(0.5-d+g)*c,(0.5+e)*b,(0.5-d+g)*c);R(a,(0.5-h+e)*b,(0.5-d+g)*c,(0.5-d+e)*b,(0.5-h+g)*c,(0.5-d+e)*b,(0.5+g)*c);R(a,(0.5-d+e)*b,(0.5+h+g)*c,(0.5-h+e)*b,(0.5+d+g)*c,0.35*b,0.36771243*c);d=0.2;e=-0.3;g=0;h=d*(4*(Math.SQRT2-1)/3);R(a,(0.5+d+e-0.05)*b,(0.5-h+g-0.02)*c,(0.5+h+e)*b,(0.5-d+
g)*c,(0.5+e)*b,(0.5-d+g)*c);R(a,(0.5-h+e)*b,(0.5-d+g)*c,(0.5-d+e)*b,(0.5-h+g)*c,(0.5-d+e)*b,(0.5+g)*c);R(a,(0.5-d+e)*b,(0.5+h+g)*c,(0.5-h+e)*b,(0.5+d+g)*c,(0.5+e)*b,(0.5+d+g)*c);R(a,(0.5+h+e)*b,(0.5+d+g)*c,(0.5+d+e)*b,(0.5+h+g)*c,0.4*b,0.6*c);hd(a);b=a.q;b.v=new N(0.06,0.39);b.w=new N(0.93,0.58);return b},YinYang:function(a,b,c){var a=0.5,d=new P,a=0.5;Q(d,0.5*b,0,i);d.arcTo(270,180,0.5*b,0.5*b,0.5*b);R(d,1*b,a*c,0,a*c,a*b,0,i);var a=0.1,e=0.25;Q(d,(0.5+a)*b,e*c,i,i);d.arcTo(0,-360,0.5*b,c*e,a*b);
hd(d);Q(d,0.5*b,0,q);d.arcTo(270,-180,0.5*b,0.5*b,0.5*b);md(d);e=0.75;Q(d,(0.5+a)*b,e*c,i);d.arcTo(0,360,0.5*b,c*e,a*b);hd(d);b=d.q;b.mc=Xg;return b},Peace:function(a,b,c){var a=new P,d=0.5*(4*(Math.SQRT2-1)/3);Q(a,b,0.5*c,i);R(a,b,(0.5-d)*c,(0.5+d)*b,0,0.5*b,0);R(a,(0.5-d)*b,0,0,(0.5-d)*c,0,0.5*c);R(a,0,(0.5+d)*c,(0.5-d)*b,c,0.5*b,c);R(a,(0.5+d)*b,c,b,(0.5+d)*c,b,0.5*c);d=0.4*(4*(Math.SQRT2-1)/3);Q(a,0.5*b,0.1*c,i,i);R(a,(0.5+d)*b,0.1*c,0.9*b,(0.5-d)*c,0.9*b,0.5*c);R(a,0.9*b,(0.5+d)*c,(0.5+d)*b,
0.9*c,0.5*b,0.9*c);R(a,(0.5-d)*b,0.9*c,0.1*b,(0.5+d)*c,0.1*b,0.5*c);R(a,0.1*b,(0.5-d)*c,(0.5-d)*b,0.1*c,0.5*b,0.1*c);var d=0.07,e=0,g=-0.707*0.11,h=d*(4*(Math.SQRT2-1)/3);Q(a,(0.5+d+e)*b,(0.5+g)*c,i);R(a,(0.5+d+e)*b,(0.5-h+g)*c,(0.5+h+e)*b,(0.5-d+g)*c,(0.5+e)*b,(0.5-d+g)*c);R(a,(0.5-h+e)*b,(0.5-d+g)*c,(0.5-d+e)*b,(0.5-h+g)*c,(0.5-d+e)*b,(0.5+g)*c);R(a,(0.5-d+e)*b,(0.5+h+g)*c,(0.5-h+e)*b,(0.5+d+g)*c,(0.5+e)*b,(0.5+d+g)*c);R(a,(0.5+h+e)*b,(0.5+d+g)*c,(0.5+d+e)*b,(0.5+h+g)*c,(0.5+d+e)*b,(0.5+g)*c);d=
0.07;e=-0.707*0.11;g=0.707*0.11;h=d*(4*(Math.SQRT2-1)/3);Q(a,(0.5+d+e)*b,(0.5+g)*c,i);R(a,(0.5+d+e)*b,(0.5-h+g)*c,(0.5+h+e)*b,(0.5-d+g)*c,(0.5+e)*b,(0.5-d+g)*c);R(a,(0.5-h+e)*b,(0.5-d+g)*c,(0.5-d+e)*b,(0.5-h+g)*c,(0.5-d+e)*b,(0.5+g)*c);R(a,(0.5-d+e)*b,(0.5+h+g)*c,(0.5-h+e)*b,(0.5+d+g)*c,(0.5+e)*b,(0.5+d+g)*c);R(a,(0.5+h+e)*b,(0.5+d+g)*c,(0.5+d+e)*b,(0.5+h+g)*c,(0.5+d+e)*b,(0.5+g)*c);d=0.07;e=0.707*0.11;g=0.707*0.11;h=d*(4*(Math.SQRT2-1)/3);Q(a,(0.5+d+e)*b,(0.5+g)*c,i);R(a,(0.5+d+e)*b,(0.5-h+g)*c,
(0.5+h+e)*b,(0.5-d+g)*c,(0.5+e)*b,(0.5-d+g)*c);R(a,(0.5-h+e)*b,(0.5-d+g)*c,(0.5-d+e)*b,(0.5-h+g)*c,(0.5-d+e)*b,(0.5+g)*c);R(a,(0.5-d+e)*b,(0.5+h+g)*c,(0.5-h+e)*b,(0.5+d+g)*c,(0.5+e)*b,(0.5+d+g)*c);R(a,(0.5+h+e)*b,(0.5+d+g)*c,(0.5+d+e)*b,(0.5+h+g)*c,(0.5+d+e)*b,(0.5+g)*c);b=a.q;b.v=new N(0.146,0.146);b.w=new N(0.853,0.853);b.mc=Xg;return b},NotAllowed:function(a,b,c){var a=0.5*ac,d=0.5,e=new P;Q(e,0.5*b,(0.5-d)*c,i);R(e,(0.5-a)*b,(0.5-d)*c,(0.5-d)*b,(0.5-a)*c,(0.5-d)*b,0.5*c);R(e,(0.5-d)*b,(0.5+a)*
c,(0.5-a)*b,(0.5+d)*c,0.5*b,(0.5+d)*c);R(e,(0.5+a)*b,(0.5+d)*c,(0.5+d)*b,(0.5+a)*c,(0.5+d)*b,0.5*c);R(e,(0.5+d)*b,(0.5-a)*c,(0.5+a)*b,(0.5-d)*c,0.5*b,(0.5-d)*c);var d=0.4,a=0.4*ac,g=new K(0,0),h=new K(0,0),j=new K(0,0),k=new K(0,0);vl(0.5,0.5-d,0.5+a,0.5-d,0.5+d,0.5-a,0.5+d,0.5,0.42,g,h,j,k,k);var l=new K(0,0),m=new K(0,0),n=new K(0,0);vl(0.5,0.5-d,0.5+a,0.5-d,0.5+d,0.5-a,0.5+d,0.5,0.58,k,k,n,l,m);var r=new K(0,0),s=new K(0,0),v=new K(0,0);vl(0.5,0.5+d,0.5-a,0.5+d,0.5-d,0.5+a,0.5-d,0.5,0.42,r,s,v,
k,k);var y=new K(0,0),C=new K(0,0),D=new K(0,0);vl(0.5,0.5+d,0.5-a,0.5+d,0.5-d,0.5+a,0.5-d,0.5,0.58,k,k,D,y,C);Q(e,D.x*b,D.y*c,i,i);R(e,y.x*b,y.y*c,C.x*b,C.y*c,(0.5-d)*b,0.5*c);R(e,(0.5-d)*b,(0.5-a)*c,(0.5-a)*b,(0.5-d)*c,0.5*b,(0.5-d)*c);R(e,g.x*b,g.y*c,h.x*b,h.y*c,j.x*b,j.y*c);e.lineTo(D.x*b,D.y*c);hd(e);Q(e,v.x*b,v.y*c,i,i);e.lineTo(n.x*b,n.y*c);R(e,l.x*b,l.y*c,m.x*b,m.y*c,(0.5+d)*b,0.5*c);R(e,(0.5+d)*b,(0.5+a)*c,(0.5+a)*b,(0.5+d)*c,0.5*b,(0.5+d)*c);R(e,r.x*b,r.y*c,s.x*b,s.y*c,v.x*b,v.y*c);hd(e);
e.q.mc=Xg;return e.q},Fragile:function(a,b,c){a=new P;Q(a,0,0,i);a.lineTo(0.25*b,0);a.lineTo(0.2*b,0.15*c);a.lineTo(0.3*b,0.25*c);a.lineTo(0.29*b,0.33*c);a.lineTo(0.35*b,0.25*c);a.lineTo(0.3*b,0.15*c);a.lineTo(0.4*b,0);a.lineTo(1*b,0);R(a,1*b,0.25*c,0.75*b,0.5*c,0.55*b,0.5*c);a.lineTo(0.55*b,0.9*c);a.lineTo(0.7*b,0.9*c);a.lineTo(0.7*b,1*c);a.lineTo(0.3*b,1*c);a.lineTo(0.3*b,0.9*c);a.lineTo(0.45*b,0.9*c);a.lineTo(0.45*b,0.5*c);R(a,0.25*b,0.5*c,0,0.25*c,0,0);hd(a);b=a.q;b.v=new N(0.25,0);b.w=new N(0.75,
0.4);return b},HourGlass:function(a,b,c){a=new P;Q(a,0.65*b,0.5*c,i);a.lineTo(1*b,1*c);a.lineTo(0,1*c);a.lineTo(0.35*b,0.5*c);a.lineTo(0,0);a.lineTo(1*b,0);hd(a);return a.q},Lightning:function(a,b,c){a=new P;Q(a,0*b,0.55*c,i);a.lineTo(0.75*b,0);a.lineTo(0.25*b,0.45*c);a.lineTo(0.9*b,0.48*c);a.lineTo(0.4*b,1*c);a.lineTo(0.65*b,0.55*c);hd(a);return a.q},Parallelogram1:function(a,b,c){a=a?a.hc:0;0===a&&(a=0.1);var d=new P;Q(d,a*b,0,i);d.lineTo(1*b,0);d.lineTo((1-a)*b,1*c);d.lineTo(0,1*c);hd(d);b=d.q;
b.v=new N(a,0);b.w=new N(1-a,1);return b},Input:"Output",Output:function(a,b,c){a=new P;Q(a,0,1*c,i);a.lineTo(0.1*b,0);a.lineTo(1*b,0);a.lineTo(0.9*b,1*c);hd(a);b=a.q;b.v=new N(0.1,0);b.w=new N(0.9,1);return b},Parallelogram2:function(a,b,c){a=a?a.hc:0;0===a&&(a=0.25);var d=new P;Q(d,a*b,0,i);d.lineTo(1*b,0);d.lineTo((1-a)*b,1*c);d.lineTo(0,1*c);hd(d);b=d.q;b.v=new N(a,0);b.w=new N(1-a,1);return b},ThickCross:function(a,b,c){a=a?a.hc:0;0===a&&(a=0.25);var d=new P;Q(d,(0.5-a/2)*b,0,i);d.lineTo((0.5+
a/2)*b,0);d.lineTo((0.5+a/2)*b,(0.5-a/2)*c);d.lineTo(1*b,(0.5-a/2)*c);d.lineTo(1*b,(0.5+a/2)*c);d.lineTo((0.5+a/2)*b,(0.5+a/2)*c);d.lineTo((0.5+a/2)*b,1*c);d.lineTo((0.5-a/2)*b,1*c);d.lineTo((0.5-a/2)*b,(0.5+a/2)*c);d.lineTo(0,(0.5+a/2)*c);d.lineTo(0,(0.5-a/2)*c);d.lineTo((0.5-a/2)*b,(0.5-a/2)*c);hd(d);b=d.q;b.v=new N(0.5-a/2,0.5-a/2);b.w=new N(0.5+a/2,0.5+a/2);return b},ThickX:function(a,b,c){var a=0.25/Math.SQRT2,d=new P;Q(d,0.3*b,0,i);d.lineTo(0.5*b,0.2*c);d.lineTo(0.7*b,0);d.lineTo(1*b,0.3*c);
d.lineTo(0.8*b,0.5*c);d.lineTo(1*b,0.7*c);d.lineTo(0.7*b,1*c);d.lineTo(0.5*b,0.8*c);d.lineTo(0.3*b,1*c);d.lineTo(0,0.7*c);d.lineTo(0.2*b,0.5*c);d.lineTo(0,0.3*c);hd(d);b=d.q;b.v=new N(0.5-a,0.5-a);b.w=new N(0.5+a,0.5+a);return b},ThinCross:function(a,b,c){a=a?a.hc:0;0===a&&(a=0.1);var d=new P;Q(d,(0.5-a/2)*b,0,i);d.lineTo((0.5+a/2)*b,0);d.lineTo((0.5+a/2)*b,(0.5-a/2)*c);d.lineTo(1*b,(0.5-a/2)*c);d.lineTo(1*b,(0.5+a/2)*c);d.lineTo((0.5+a/2)*b,(0.5+a/2)*c);d.lineTo((0.5+a/2)*b,1*c);d.lineTo((0.5-a/
2)*b,1*c);d.lineTo((0.5-a/2)*b,(0.5+a/2)*c);d.lineTo(0,(0.5+a/2)*c);d.lineTo(0,(0.5-a/2)*c);d.lineTo((0.5-a/2)*b,(0.5-a/2)*c);hd(d);return d.q},ThinX:function(a,b,c){a=new P;Q(a,0.1*b,0,i);a.lineTo(0.5*b,0.4*c);a.lineTo(0.9*b,0);a.lineTo(1*b,0.1*c);a.lineTo(0.6*b,0.5*c);a.lineTo(1*b,0.9*c);a.lineTo(0.9*b,1*c);a.lineTo(0.5*b,0.6*c);a.lineTo(0.1*b,1*c);a.lineTo(0,0.9*c);a.lineTo(0.4*b,0.5*c);a.lineTo(0,0.1*c);hd(a);return a.q},RightTriangle:function(a,b,c){a=new P;Q(a,0,0,i);a.lineTo(1*b,1*c);a.lineTo(0,
1*c);hd(a);b=a.q;b.v=new N(0,0.5);b.w=new N(0.5,1);return b},RoundedIBeam:function(a,b,c){a=new P;Q(a,0,0,i);a.lineTo(1*b,0);R(a,0.5*b,0.25*c,0.5*b,0.75*c,1*b,1*c);a.lineTo(0,1*c);R(a,0.5*b,0.75*c,0.5*b,0.25*c,0,0);hd(a);return a.q},RoundedRectangle:function(a,b,c){var d=a?a.hc:0;0>=d&&(d=5);var d=Math.min(d,b/3),d=Math.min(d,c/3),a=d*ac,e=new P;Q(e,d,0,i);e.lineTo(b-d,0);R(e,b-a,0,b,a,b,d);e.lineTo(b,c-d);R(e,b,c-a,b-a,c,b-d,c);e.lineTo(d,c);R(e,a,c,0,c-a,0,c-d);e.lineTo(0,d);R(e,0,a,a,0,d,0);hd(e);
b=e.q;1<a?(b.v=new N(0,0,a,a),b.w=new N(1,1,-a,-a)):(b.v=Db,b.w=Nb);return b},Border:function(a,b,c){a=a?a.hc:0;0>=a&&(a=5);var a=Math.min(a,b/3),a=Math.min(a,c/3),d=new P;Q(d,a,0,i);d.lineTo(b-a,0);R(d,b-0,0,b,0,b,a);d.lineTo(b,c-a);R(d,b,c-0,b-0,c,b-a,c);d.lineTo(a,c);R(d,0,c,0,c-0,0,c-a);d.lineTo(0,a);R(d,0,0,0,0,a,0);hd(d);b=d.q;b.v=Db;b.w=Nb;return b},SquareIBeam:function(a,b,c){a=a?a.hc:0;0===a&&(a=0.2);var d=new P;Q(d,0,0,i);d.lineTo(1*b,0);d.lineTo(1*b,a*c);d.lineTo((0.5+a/2)*b,a*c);d.lineTo((0.5+
a/2)*b,(1-a)*c);d.lineTo(1*b,(1-a)*c);d.lineTo(1*b,1*c);d.lineTo(0,1*c);d.lineTo(0,(1-a)*c);d.lineTo((0.5-a/2)*b,(1-a)*c);d.lineTo((0.5-a/2)*b,a*c);d.lineTo(0,a*c);hd(d);return d.q},Trapezoid:function(a,b,c){a=a?a.hc:0;0===a&&(a=0.2);var d=new P;Q(d,a*b,0,i);d.lineTo((1-a)*b,0);d.lineTo(1*b,1*c);d.lineTo(0,1*c);hd(d);b=d.q;b.v=new N(a,0);b.w=new N(1-a,1);return b},ManualLoop:"ManualOperation",ManualOperation:function(a,b,c){var a=a?a.hc:0,d=new P;Q(d,a,0,i);d.lineTo(0,0);d.lineTo(1*b,0);d.lineTo(0.9*
b,1*c);d.lineTo(0.1*b,1*c);hd(d);b=d.q;b.v=new N(0.1,0);b.w=new N(0.9,1);return b},GenderMale:function(a,b,c){var a=new P,d=0.4*ac,e=0.4,g=new K(0,0),h=new K(0,0),j=new K(0,0),k=new K(0,0);Q(a,(0.5-e)*b,0.5*c,i);R(a,(0.5-e)*b,(0.5-d)*c,(0.5-d)*b,(0.5-e)*c,0.5*b,(0.5-e)*c);vl(0.5,0.5-e,0.5+d,0.5-e,0.5+e,0.5-d,0.5+e,0.5,0.44,j,k,h,g,g);R(a,j.x*b,j.y*c,k.x*b,k.y*c,h.x*b,h.y*c);var l=new K(h.x,h.y);vl(0.5,0.5-e,0.5+d,0.5-e,0.5+e,0.5-d,0.5+e,0.5,0.56,g,g,h,j,k);g=new K(h.x,h.y);a.lineTo((0.1*l.x+0.855)*
b,0.1*l.y*c);a.lineTo(0.85*b,0.1*l.y*c);a.lineTo(0.85*b,0);a.lineTo(1*b,0);a.lineTo(1*b,0.15*c);a.lineTo((0.1*g.x+0.9)*b,0.15*c);a.lineTo((0.1*g.x+0.9)*b,(0.1*g.y+0.05*0.9)*c);a.lineTo(g.x*b,g.y*c);R(a,j.x*b,j.y*c,k.x*b,k.y*c,(0.5+e)*b,0.5*c);R(a,(0.5+e)*b,(0.5+d)*c,(0.5+d)*b,(0.5+e)*c,0.5*b,(0.5+e)*c);R(a,(0.5-d)*b,(0.5+e)*c,(0.5-e)*b,(0.5+d)*c,(0.5-e)*b,0.5*c);e=0.35;d=0.35*ac;Q(a,0.5*b,(0.5-e)*c,i,i);R(a,(0.5-d)*b,(0.5-e)*c,(0.5-e)*b,(0.5-d)*c,(0.5-e)*b,0.5*c);R(a,(0.5-e)*b,(0.5+d)*c,(0.5-d)*b,
(0.5+e)*c,0.5*b,(0.5+e)*c);R(a,(0.5+d)*b,(0.5+e)*c,(0.5+e)*b,(0.5+d)*c,(0.5+e)*b,0.5*c);R(a,(0.5+e)*b,(0.5-d)*c,(0.5+d)*b,(0.5-e)*c,0.5*b,(0.5-e)*c);Q(a,(0.5-e)*b,0.5*c,i);b=a.q;b.v=new N(0.202,0.257);b.w=new N(0.692,0.839);b.mc=Xg;return b},GenderFemale:function(a,b,c){var a=new P,d=0.375,e=0,g=-0.125,h=d*(4*(Math.SQRT2-1)/3);Q(a,(0.525+e)*b,(0.5+d+g)*c,i);R(a,(0.5+h+e)*b,(0.5+d+g)*c,(0.5+d+e)*b,(0.5+h+g)*c,(0.5+d+e)*b,(0.5+g)*c);R(a,(0.5+d+e)*b,(0.5-h+g)*c,(0.5+h+e)*b,(0.5-d+g)*c,(0.5+e)*b,(0.5-
d+g)*c);R(a,(0.5-h+e)*b,(0.5-d+g)*c,(0.5-d+e)*b,(0.5-h+g)*c,(0.5-d+e)*b,(0.5+g)*c);R(a,(0.5-d+e)*b,(0.5+h+g)*c,(0.5-h+e)*b,(0.5+d+g)*c,(0.475+e)*b,(0.5+d+g)*c);a.lineTo(0.475*b,0.85*c);a.lineTo(0.425*b,0.85*c);a.lineTo(0.425*b,0.9*c);a.lineTo(0.475*b,0.9*c);a.lineTo(0.475*b,1*c);a.lineTo(0.525*b,1*c);a.lineTo(0.525*b,0.9*c);a.lineTo(0.575*b,0.9*c);a.lineTo(0.575*b,0.85*c);a.lineTo(0.525*b,0.85*c);hd(a);d=0.325;e=0;g=-0.125;h=d*(4*(Math.SQRT2-1)/3);Q(a,(0.5+d+e)*b,(0.5+g)*c,i,i);R(a,(0.5+d+e)*b,(0.5+
h+g)*c,(0.5+h+e)*b,(0.5+d+g)*c,(0.5+e)*b,(0.5+d+g)*c);R(a,(0.5-h+e)*b,(0.5+d+g)*c,(0.5-d+e)*b,(0.5+h+g)*c,(0.5-d+e)*b,(0.5+g)*c);R(a,(0.5-d+e)*b,(0.5-h+g)*c,(0.5-h+e)*b,(0.5-d+g)*c,(0.5+e)*b,(0.5-d+g)*c);R(a,(0.5+h+e)*b,(0.5-d+g)*c,(0.5+d+e)*b,(0.5-h+g)*c,(0.5+d+e)*b,(0.5+g)*c);Q(a,(0.525+e)*b,(0.5+d+g)*c,i);b=a.q;b.v=new N(0.232,0.136);b.w=new N(0.782,0.611);b.mc=Xg;return b},PlusLine:function(a,b,c){a=new P;Q(a,0,0.5*c,q);a.lineTo(1*b,0.5*c);a.moveTo(0.5*b,0);a.lineTo(0.5*b,1*c);return a.q},XLine:function(a,
b,c){a=new P;Q(a,0,1*c,q);a.lineTo(1*b,0);a.moveTo(0,0);a.lineTo(1*b,1*c);return a.q},AsteriskLine:function(a,b,c){var a=new P,d=0.2/Math.SQRT2;Q(a,d*b,(1-d)*c,q);a.lineTo((1-d)*b,d*c);a.moveTo(d*b,d*c);a.lineTo((1-d)*b,(1-d)*c);a.moveTo(0*b,0.5*c);a.lineTo(1*b,0.5*c);a.moveTo(0.5*b,0*c);a.lineTo(0.5*b,1*c);return a.q},CircleLine:function(a,b,c){var a=0.5*ac,d=new P;Q(d,1*b,0.5*c,q);R(d,1*b,(0.5+a)*c,(0.5+a)*b,1*c,0.5*b,1*c);R(d,(0.5-a)*b,1*c,0,(0.5+a)*c,0,0.5*c);R(d,0,(0.5-a)*c,(0.5-a)*b,0,0.5*b,
0);R(d,(0.5+a)*b,0,1*b,(0.5-a)*c,1*b,0.5*c);b=d.q;b.v=new N(0.146,0.146);b.w=new N(0.853,0.853);b.mc=Xg;return b},Pie:function(a,b,c){var a=new P,d=0.5*(4*(Math.SQRT2-1)/3);Q(a,(0.5*Math.SQRT2/2+0.5)*b,(0.5-0.5*Math.SQRT2/2)*c,i);R(a,0.7*b,0*c,0.5*b,0*c,0.5*b,0*c);R(a,(0.5-d+0)*b,0*c,0*b,(0.5-d+0)*c,0*b,0.5*c);R(a,0*b,(0.5+d+0)*c,(0.5-d+0)*b,1*c,0.5*b,1*c);R(a,(0.5+d+0)*b,1*c,1*b,(0.5+d+0)*c,1*b,0.5*c);a.lineTo(0.5*b,0.5*c);hd(a);return a.q},PiePiece:function(a,b,c){var a=0.5*(ac/Math.SQRT2),d=Math.SQRT2/
2,e=1-Math.SQRT2/2,g=new P;Q(g,b,c,i);R(g,b,(1-a)*c,(d+a)*b,(e+a)*c,d*b,e*c);g.lineTo(0,c);hd(g);return g.q},StopSign:function(a,b,c){var d=1/(Math.SQRT2+2),e=new P;Q(e,d*b,0,i);e.lineTo((1-d)*b,0);e.lineTo(1*b,d*c);e.lineTo(1*b,(1-d)*c);e.lineTo((1-d)*b,1*c);e.lineTo(d*b,1*c);e.lineTo(0,(1-d)*c);e.lineTo(0,d*c);hd(e);b=e.q;a&&Ab(a.v)&&(a.v=new N(d/2,d/2));a&&Ab(a.w)&&(a.w=new N(1-d/2,1-d/2));return b},LogicImplies:function(a,b,c){a=a?a.hc:0;0===a&&(a=0.2);var d=new P;Q(d,(1-a)*b,0*c,q);d.lineTo(1*
b,0.5*c);d.lineTo((1-a)*b,c);d.moveTo(0,0.5*c);d.lineTo(b,0.5*c);b=d.q;b.v=new N(0,0);b.w=new N(0.8,0.5);return b},LogicIff:function(a,b,c){a=a?a.hc:0;0===a&&(a=0.2);var d=new P;Q(d,(1-a)*b,0*c,q);d.lineTo(1*b,0.5*c);d.lineTo((1-a)*b,c);d.moveTo(0,0.5*c);d.lineTo(b,0.5*c);d.moveTo(a*b,0);d.lineTo(0,0.5*c);d.lineTo(a*b,c);b=d.q;b.v=new N(0.2,0);b.w=new N(0.8,0.5);return b},LogicNot:function(a,b,c){a=new P;Q(a,0,0,q);a.lineTo(1*b,0);a.lineTo(1*b,1*c);return a.q},LogicAnd:function(a,b,c){a=new P;Q(a,
0,1*c,q);a.lineTo(0.5*b,0);a.lineTo(1*b,1*c);b=a.q;b.v=new N(0.25,0.5);b.w=new N(0.75,1);return b},LogicOr:function(a,b,c){a=new P;Q(a,0,0,q);a.lineTo(0.5*b,1*c);a.lineTo(1*b,0);b=a.q;b.v=new N(0.219,0);b.w=new N(0.78,0.409);return b},LogicXor:function(a,b,c){a=new P;Q(a,0.5*b,0,q);a.lineTo(0.5*b,1*c);a.moveTo(0,0.5*c);a.lineTo(1*b,0.5*c);var d=0.5*ac;R(a,1*b,(0.5+d)*c,(0.5+d)*b,1*c,0.5*b,1*c);R(a,(0.5-d)*b,1*c,0,(0.5+d)*c,0,0.5*c);R(a,0,(0.5-d)*c,(0.5-d)*b,0,0.5*b,0);R(a,(0.5+d)*b,0,1*b,(0.5-d)*
c,1*b,0.5*c);b=a.q;b.mc=Xg;return b},LogicTruth:function(a,b,c){a=new P;Q(a,0,0,q);a.lineTo(1*b,0);a.moveTo(0.5*b,0);a.lineTo(0.5*b,1*c);return a.q},LogicFalsity:function(a,b,c){a=new P;Q(a,0,1*c,q);a.lineTo(1*b,1*c);a.moveTo(0.5*b,1*c);a.lineTo(0.5*b,0);return a.q},LogicThereExists:function(a,b,c){a=new P;Q(a,0,0,q);a.lineTo(1*b,0);a.lineTo(1*b,0.5*c);a.lineTo(0,0.5*c);a.moveTo(1*b,0.5*c);a.lineTo(1*b,1*c);a.lineTo(0,1*c);return a.q},LogicForAll:function(a,b,c){a=new P;Q(a,0,0,q);a.lineTo(0.5*b,
1*c);a.lineTo(1*b,0);a.moveTo(0.25*b,0.5*c);a.lineTo(0.75*b,0.5*c);b=a.q;b.v=new N(0.25,0);b.w=new N(0.75,0.5);return b},LogicIsDefinedAs:function(a,b,c){a=new P;Q(a,0,0,q);a.lineTo(b,0);a.moveTo(0,0.5*c);a.lineTo(b,0.5*c);a.moveTo(0,c);a.lineTo(b,c);b=a.q;b.v=new N(0.01,0.01);b.w=new N(0.99,0.49);return b},LogicIntersect:function(a,b,c){var a=0.5*ac,d=new P;Q(d,0,1*c,q);d.lineTo(0,0.5*c);R(d,0,(0.5-a)*c,(0.5-a)*b,0,0.5*b,0);R(d,(0.5+a)*b,0,1*b,(0.5-a)*c,1*b,0.5*c);d.lineTo(1*b,1*c);b=d.q;b.v=new N(0,
0.5);b.w=new N(1,1);return b},LogicUnion:function(a,b,c){var a=0.5*ac,d=new P;Q(d,1*b,0,q);d.lineTo(1*b,0.5*c);R(d,1*b,(0.5+a)*c,(0.5+a)*b,1*c,0.5*b,1*c);R(d,(0.5-a)*b,1*c,0,(0.5+a)*c,0,0.5*c);d.lineTo(0,0);b=d.q;b.v=new N(0,0);b.w=new N(1,0.5);return b},Arrow:function(a,b,c){var d=a?a.hc:0,a=a?a.Is:0;0===d&&(d=0.3);0===a&&(a=0.3);var e=new P;Q(e,0,(0.5-a/2)*c,i);e.lineTo((1-d)*b,(0.5-a/2)*c);e.lineTo((1-d)*b,0);e.lineTo(1*b,0.5*c);e.lineTo((1-d)*b,1*c);e.lineTo((1-d)*b,(0.5+a/2)*c);e.lineTo(0,(0.5+
a/2)*c);hd(e);b=e.q;b.v=new N(0,0.5-a/2);d=zl(0,0.5+a/2,1,0.5+a/2,1-d,1,1,0.5);b.w=new N(d.x,d.y);return b},ISOProcess:"Chevron",Chevron:function(a,b,c){a=new P;Q(a,0,0,i);a.lineTo(0.5*b,0);a.lineTo(1*b,0.5*c);a.lineTo(0.5*b,1*c);a.lineTo(0,1*c);a.lineTo(0.5*b,0.5*c);hd(a);return a.q},DoubleArrow:function(a,b,c){a=new P;Q(a,0,0,i);a.lineTo(0.3*b,0.214*c);a.lineTo(0.3*b,0);a.lineTo(1*b,0.5*c);a.lineTo(0.3*b,1*c);a.lineTo(0.3*b,0.786*c);a.lineTo(0,1*c);hd(a);Q(a,0.3*b,0.214*c,q);a.lineTo(0.3*b,0.786*
c);md(a);return a.q},DoubleEndArrow:function(a,b,c){a=new P;Q(a,1*b,0.5*c,i);a.lineTo(0.7*b,1*c);a.lineTo(0.7*b,0.7*c);a.lineTo(0.3*b,0.7*c);a.lineTo(0.3*b,1*c);a.lineTo(0,0.5*c);a.lineTo(0.3*b,0);a.lineTo(0.3*b,0.3*c);a.lineTo(0.7*b,0.3*c);a.lineTo(0.7*b,0);hd(a);b=a.q;c=zl(0,0.5,0.3,0,0,0.3,0.3,0.3);b.v=new N(c.x,c.y);c=zl(0.7,1,1,0.5,0.7,0.7,1,0.7);b.w=new N(c.x,c.y);return b},IBeamArrow:function(a,b,c){a=new P;Q(a,1*b,0.5*c,i);a.lineTo(0.7*b,1*c);a.lineTo(0.7*b,0.7*c);a.lineTo(0.2*b,0.7*c);a.lineTo(0.2*
b,1*c);a.lineTo(0,1*c);a.lineTo(0,0);a.lineTo(0.2*b,0);a.lineTo(0.2*b,0.3*c);a.lineTo(0.7*b,0.3*c);a.lineTo(0.7*b,0);hd(a);b=a.q;b.v=new N(0,0.3);c=zl(0.7,1,1,0.5,0.7,0.7,1,0.7);b.w=new N(c.x,c.y);return b},Pointer:function(a,b,c){a=new P;Q(a,1*b,0.5*c,i);a.lineTo(0,1*c);a.lineTo(0.2*b,0.5*c);a.lineTo(0,0);hd(a);b=a.q;b.v=new N(0.2,0.35);c=zl(0.2,0.65,1,0.65,0,1,1,0.5);b.w=new N(c.x,c.y);return b},RoundedPointer:function(a,b,c){a=new P;Q(a,1*b,0.5*c,i);a.lineTo(0,1*c);R(a,0.5*b,0.75*c,0.5*b,0.25*
c,0,0);hd(a);b=a.q;b.v=new N(0.4,0.35);c=zl(0.2,0.65,1,0.65,0,1,1,0.5);b.w=new N(c.x,c.y);return b},SplitEndArrow:function(a,b,c){a=new P;Q(a,1*b,0.5*c,i);a.lineTo(0.7*b,1*c);a.lineTo(0.7*b,0.7*c);a.lineTo(0,0.7*c);a.lineTo(0.2*b,0.5*c);a.lineTo(0,0.3*c);a.lineTo(0.7*b,0.3*c);a.lineTo(0.7*b,0);hd(a);b=a.q;b.v=new N(0.2,0.3);c=zl(0.7,1,1,0.5,0.7,0.7,1,0.7);b.w=new N(c.x,c.y);return b},MessageToUser:"SquareArrow",SquareArrow:function(a,b,c){a=new P;Q(a,1*b,0.5*c,i);a.lineTo(0.7*b,1*c);a.lineTo(0,1*
c);a.lineTo(0,0);a.lineTo(0.7*b,0);hd(a);b=a.q;b.v=new N(0,0);b.w=new N(0.7,1);return b},Cone1:function(a,b,c){var a=0.5*ac,d=0.1*ac,e=new P;Q(e,0,0.9*c,i);e.lineTo(0.5*b,0);e.lineTo(1*b,0.9*c);R(e,1*b,(0.9+d)*c,(0.5+a)*b,1*c,0.5*b,1*c);R(e,(0.5-a)*b,1*c,0,(0.9+d)*c,0,0.9*c);hd(e);b=e.q;b.v=new N(0.25,0.5);b.w=new N(0.75,0.97);return b},Cone2:function(a,b,c){a=new P;Q(a,0,0.9*c,i);R(a,(1-0.85/0.9)*b,1*c,0.85/0.9*b,1*c,1*b,0.9*c);a.lineTo(0.5*b,0);a.lineTo(0,0.9*c);hd(a);Q(a,0,0.9*c,q);R(a,(1-0.85/
0.9)*b,0.8*c,0.85/0.9*b,0.8*c,1*b,0.9*c);md(a);b=a.q;b.v=new N(0.25,0.5);b.w=new N(0.75,0.82);return b},Cube1:function(a,b,c){a=new P;Q(a,0.5*b,1*c,i);a.lineTo(1*b,0.85*c);a.lineTo(1*b,0.15*c);a.lineTo(0.5*b,0*c);a.lineTo(0*b,0.15*c);a.lineTo(0*b,0.85*c);hd(a);Q(a,0.5*b,1*c,q);a.lineTo(0.5*b,0.3*c);a.lineTo(0,0.15*c);a.moveTo(0.5*b,0.3*c);a.lineTo(1*b,0.15*c);md(a);b=a.q;b.v=new N(0,0.3);b.w=new N(0.5,0.85);return b},Cube2:function(a,b,c){a=new P;Q(a,0,0.3*c,i);a.lineTo(0*b,1*c);a.lineTo(0.7*b,c);
a.lineTo(1*b,0.7*c);a.lineTo(1*b,0*c);a.lineTo(0.3*b,0*c);hd(a);Q(a,0,0.3*c,q);a.lineTo(0.7*b,0.3*c);a.lineTo(1*b,0*c);a.moveTo(0.7*b,0.3*c);a.lineTo(0.7*b,1*c);md(a);b=a.q;b.v=new N(0,0.3);b.w=new N(0.7,1);return b},MagneticData:"Cylinder1",Cylinder1:function(a,b,c){var a=0.5*ac,d=0.1*ac,e=new P;Q(e,0,0.1*c,i);R(e,0,(0.1-d)*c,(0.5-a)*b,0,0.5*b,0);R(e,(0.5+a)*b,0,1*b,(0.1-d)*c,1*b,0.1*c);e.lineTo(b,0.9*c);R(e,1*b,(0.9+d)*c,(0.5+a)*b,1*c,0.5*b,1*c);R(e,(0.5-a)*b,1*c,0,(0.9+d)*c,0,0.9*c);e.lineTo(0,
0.1*c);Q(e,0,0.1*c,q);R(e,0,(0.1+d)*c,(0.5-a)*b,0.2*c,0.5*b,0.2*c);R(e,(0.5+a)*b,0.2*c,1*b,(0.1+d)*c,1*b,0.1*c);md(e);b=e.q;b.v=new N(0,0.2);b.w=new N(1,0.9);return b},Cylinder2:function(a,b,c){var a=0.5*ac,d=0.1*ac,e=new P;Q(e,0,0.9*c,i);e.lineTo(0,0.1*c);R(e,0,(0.1-d)*c,(0.5-a)*b,0,0.5*b,0);R(e,(0.5+a)*b,0,1*b,(0.1-d)*c,1*b,0.1*c);e.lineTo(1*b,0.9*c);R(e,1*b,(0.9+d)*c,(0.5+a)*b,1*c,0.5*b,1*c);R(e,(0.5-a)*b,1*c,0,(0.9+d)*c,0,0.9*c);Q(e,0,0.9*c,q);R(e,0,(0.9-d)*c,(0.5-a)*b,0.8*c,0.5*b,0.8*c);R(e,
(0.5+a)*b,0.8*c,1*b,(0.9-d)*c,1*b,0.9*c);md(e);b=e.q;b.v=new N(0,0.1);b.w=new N(1,0.8);return b},Cylinder3:function(a,b,c){var a=0.1*ac,d=0.5*ac,e=new P;Q(e,0.1*b,0,i);e.lineTo(0.9*b,0);R(e,(0.9+a)*b,0,1*b,(0.5-d)*c,1*b,0.5*c);R(e,1*b,(0.5+d)*c,(0.9+a)*b,1*c,0.9*b,1*c);e.lineTo(0.1*b,1*c);R(e,(0.1-a)*b,1*c,0,(0.5+d)*c,0,0.5*c);R(e,0,(0.5-d)*c,(0.1-a)*b,0,0.1*b,0);Q(e,0.1*b,0,q);R(e,(0.1+a)*b,0,0.2*b,(0.5-d)*c,0.2*b,0.5*c);R(e,0.2*b,(0.5+d)*c,(0.1+a)*b,1*c,0.1*b,1*c);md(e);b=e.q;b.v=new N(0.2,0);b.w=
new N(0.9,1);return b},DirectData:"Cylinder4",Cylinder4:function(a,b,c){var a=0.1*ac,d=0.5*ac,e=new P;Q(e,0.9*b,0,i);R(e,(0.9+a)*b,0,1*b,(0.5-d)*c,1*b,0.5*c);R(e,1*b,(0.5+d)*c,(0.9+a)*b,1*c,0.9*b,1*c);e.lineTo(0.1*b,1*c);R(e,(0.1-a)*b,1*c,0,(0.5+d)*c,0,0.5*c);R(e,0,(0.5-d)*c,(0.1-a)*b,0,0.1*b,0);e.lineTo(0.9*b,0);Q(e,0.9*b,0,q);R(e,(0.9-a)*b,0,0.8*b,(0.5-d)*c,0.8*b,0.5*c);R(e,0.8*b,(0.5+d)*c,(0.9-a)*b,1*c,0.9*b,1*c);md(e);b=e.q;b.v=new N(0.1,0);b.w=new N(0.8,1);return b},Prism1:function(a,b,c){a=
new P;Q(a,0.25*b,0.25*c,i);a.lineTo(0.75*b,0);a.lineTo(b,0.5*c);a.lineTo(0.5*b,c);a.lineTo(0,c);hd(a);Q(a,0.25*b,0.25*c,q);a.lineTo(0.5*b,c);md(a);b=a.q;b.v=new N(0.408,0.172);b.w=new N(0.833,0.662);return b},Prism2:function(a,b,c){a=new P;Q(a,0,0.25*c,i);a.lineTo(0.75*b,0);a.lineTo(1*b,0.25*c);a.lineTo(0.75*b,0.75*c);a.lineTo(0,1*c);hd(a);Q(a,0,c,q);a.lineTo(0.25*b,0.5*c);a.lineTo(b,0.25*c);a.moveTo(0,0.25*c);a.lineTo(0.25*b,0.5*c);md(a);b=a.q;b.v=new N(0.25,0.5);b.w=new N(0.75,0.75);return b},Pyramid1:function(a,
b,c){a=new P;Q(a,0.5*b,0,i);a.lineTo(b,0.75*c);a.lineTo(0.5*b,1*c);a.lineTo(0,0.75*c);hd(a);Q(a,0.5*b,0,q);a.lineTo(0.5*b,1*c);md(a);b=a.q;b.v=new N(0.25,0.367);b.w=new N(0.75,0.875);return b},Pyramid2:function(a,b,c){a=new P;Q(a,0.5*b,0,i);a.lineTo(b,0.85*c);a.lineTo(0.5*b,1*c);a.lineTo(0,0.85*c);hd(a);Q(a,0.5*b,0,q);a.lineTo(0.5*b,0.7*c);a.lineTo(0,0.85*c);a.moveTo(0.5*b,0.7*c);a.lineTo(1*b,0.85*c);md(a);b=a.q;b.v=new N(0.25,0.367);b.w=new N(0.75,0.875);return b},Actor:function(a,b,c){var d=0.2*
ac,e=0.1*ac,a=0.5,g=0.1,h=new P;Q(h,a*b,(g+0.1)*c,i);R(h,(a-d)*b,(g+0.1)*c,(a-0.2)*b,(g+e)*c,(a-0.2)*b,g*c);R(h,(a-0.2)*b,(g-e)*c,(a-d)*b,(g-0.1)*c,a*b,(g-0.1)*c);R(h,(a+d)*b,(g-0.1)*c,(a+0.2)*b,(g-e)*c,(a+0.2)*b,g*c);R(h,(a+0.2)*b,(g+e)*c,(a+d)*b,(g+0.1)*c,a*b,(g+0.1)*c);d=0.05;e=ac*d;Q(h,0.5*b,0.2*c,i);h.lineTo(0.95*b,0.2*c);a=0.95;g=0.25;R(h,(a+e)*b,(g-d)*c,(a+d)*b,(g-e)*c,(a+d)*b,g*c);h.lineTo(1*b,0.6*c);h.lineTo(0.85*b,0.6*c);h.lineTo(0.85*b,0.35*c);d=0.025;e=ac*d;a=0.825;g=0.35;R(h,(a+d)*b,
(g-e)*c,(a+e)*b,(g-d)*c,a*b,(g-d)*c);R(h,(a-e)*b,(g-d)*c,(a-d)*b,(g-e)*c,(a-d)*b,g*c);h.lineTo(0.8*b,1*c);h.lineTo(0.55*b,1*c);h.lineTo(0.55*b,0.7*c);d=0.05;e=ac*d;a=0.5;g=0.7;R(h,(a+d)*b,(g-e)*c,(a+e)*b,(g-d)*c,a*b,(g-d)*c);R(h,(a-e)*b,(g-d)*c,(a-d)*b,(g-e)*c,(a-d)*b,g*c);h.lineTo(0.45*b,1*c);h.lineTo(0.2*b,1*c);h.lineTo(0.2*b,0.35*c);d=0.025;e=ac*d;a=0.175;g=0.35;R(h,(a+d)*b,(g-e)*c,(a+e)*b,(g-d)*c,a*b,(g-d)*c);R(h,(a-e)*b,(g-d)*c,(a-d)*b,(g-e)*c,(a-d)*b,g*c);h.lineTo(0.15*b,0.6*c);h.lineTo(0*b,
0.6*c);h.lineTo(0*b,0.25*c);d=0.05;e=ac*d;a=0.05;g=0.25;R(h,(a-d)*b,(g-e)*c,(a-e)*b,(g-d)*c,a*b,(g-d)*c);h.lineTo(0.5*b,0.2*c);b=h.q;b.v=new N(0.2,0.2);b.w=new N(0.8,0.65);return b},Card:function(a,b,c){a=new P;Q(a,1*b,0*c,i);a.lineTo(1*b,1*c);a.lineTo(0*b,1*c);a.lineTo(0*b,0.2*c);a.lineTo(0.2*b,0*c);hd(a);b=a.q;b.v=new N(0,0.2);b.w=new N(1,1);return b},Collate:function(a,b,c){a=new P;Q(a,0.5*b,0.5*c,i);a.lineTo(0,0);a.lineTo(1*b,0);a.lineTo(0.5*b,0.5*c);Q(a,0.5*b,0.5*c,i);a.lineTo(1*b,1*c);a.lineTo(0,
1*c);a.lineTo(0.5*b,0.5*c);b=a.q;b.v=new N(0.25,0);b.w=new N(0.75,0.25);return b},CreateRequest:function(a,b,c){a=a?a.hc:0;0===a&&(a=0.1);var d=new P;Q(d,0,0,i);d.lineTo(1*b,0);d.lineTo(1*b,1*c);d.lineTo(0,1*c);hd(d);Q(d,0,a*c,q);d.lineTo(1*b,a*c);d.moveTo(0,(1-a)*c);d.lineTo(1*b,(1-a)*c);md(d);b=d.q;b.v=new N(0,a);b.w=new N(1,1-a);return b},Database:function(a,b,c){var a=new P,d=0.5*ac,e=0.1*ac;Q(a,1*b,0.1*c,i);a.lineTo(1*b,0.9*c);R(a,1*b,(0.9+e)*c,(0.5+d)*b,1*c,0.5*b,1*c);R(a,(0.5-d)*b,1*c,0,(0.9+
e)*c,0,0.9*c);a.lineTo(0,0.1*c);R(a,0,(0.1-e)*c,(0.5-d)*b,0,0.5*b,0);R(a,(0.5+d)*b,0,1*b,(0.1-e)*c,1*b,0.1*c);Q(a,1*b,0.1*c,q);R(a,1*b,(0.1+e)*c,(0.5+d)*b,0.2*c,0.5*b,0.2*c);R(a,(0.5-d)*b,0.2*c,0,(0.1+e)*c,0,0.1*c);a.moveTo(1*b,0.2*c);R(a,1*b,(0.2+e)*c,(0.5+d)*b,0.3*c,0.5*b,0.3*c);R(a,(0.5-d)*b,0.3*c,0,(0.2+e)*c,0,0.2*c);a.moveTo(1*b,0.3*c);R(a,1*b,(0.3+e)*c,(0.5+d)*b,0.4*c,0.5*b,0.4*c);R(a,(0.5-d)*b,0.4*c,0,(0.3+e)*c,0,0.3*c);md(a);b=a.q;b.v=new N(0,0.4);b.w=new N(1,0.9);return b},StoredData:"DataStorage",
DataStorage:function(a,b,c){a=new P;Q(a,0,0,i);a.lineTo(0.75*b,0);R(a,1*b,0,1*b,1*c,0.75*b,1*c);a.lineTo(0,1*c);R(a,0.25*b,0.9*c,0.25*b,0.1*c,0,0);hd(a);b=a.q;b.v=new N(0.226,0);b.w=new N(0.81,1);return b},DiskStorage:function(a,b,c){var a=new P,d=0.5*ac,e=0.1*ac;Q(a,1*b,0.1*c,i);a.lineTo(1*b,0.9*c);R(a,1*b,(0.9+e)*c,(0.5+d)*b,1*c,0.5*b,1*c);R(a,(0.5-d)*b,1*c,0,(0.9+e)*c,0,0.9*c);a.lineTo(0,0.1*c);R(a,0,(0.1-e)*c,(0.5-d)*b,0,0.5*b,0);R(a,(0.5+d)*b,0,1*b,(0.1-e)*c,1*b,0.1*c);Q(a,1*b,0.1*c,q);R(a,1*
b,(0.1+e)*c,(0.5+d)*b,0.2*c,0.5*b,0.2*c);R(a,(0.5-d)*b,0.2*c,0,(0.1+e)*c,0,0.1*c);a.moveTo(1*b,0.2*c);R(a,1*b,(0.2+e)*c,(0.5+d)*b,0.3*c,0.5*b,0.3*c);R(a,(0.5-d)*b,0.3*c,0,(0.2+e)*c,0,0.2*c);md(a);b=a.q;b.v=new N(0,0.3);b.w=new N(1,0.9);return b},Display:function(a,b,c){a=new P;Q(a,0.25*b,0,i);a.lineTo(0.75*b,0);R(a,1*b,0,1*b,1*c,0.75*b,1*c);a.lineTo(0.25*b,1*c);a.lineTo(0,0.5*c);hd(a);b=a.q;b.v=new N(0.25,0);b.w=new N(0.75,1);return b},DividedEvent:function(a,b,c){a=a?a.hc:0;0===a?a=0.2:0.15>a&&(a=
0.15);var d=new P,e=0.2*ac;Q(d,0,0.2*c,i);R(d,0,(0.2-e)*c,(0.2-e)*b,0,0.2*b,0);d.lineTo(0.8*b,0);R(d,(0.8+e)*b,0,1*b,(0.2-e)*c,1*b,0.2*c);d.lineTo(1*b,0.8*c);R(d,1*b,(0.8+e)*c,(0.8+e)*b,1*c,0.8*b,1*c);d.lineTo(0.2*b,1*c);R(d,(0.2-e)*b,1*c,0,(0.8+e)*c,0,0.8*c);d.lineTo(0,0.2*c);Q(d,0,a*c,q);d.lineTo(1*b,a*c);md(d);b=d.q;b.v=new N(0,a);b.w=new N(1,1-a);return b},DividedProcess:function(a,b,c){a=a?a.hc:0;0.1>a&&(a=0.1);var d=new P;Q(d,0,0,i);d.lineTo(1*b,0);d.lineTo(1*b,1*c);d.lineTo(0,1*c);hd(d);Q(d,
0,a*c,q);d.lineTo(1*b,a*c);md(d);b=d.q;b.v=new N(0,a);b.w=new N(1,1);return b},Document:function(a,b,c){c/=0.8;a=new P;Q(a,0,0.7*c,i);a.lineTo(0,0);a.lineTo(1*b,0);a.lineTo(1*b,0.7*c);R(a,0.5*b,0.4*c,0.5*b,1*c,0,0.7*c);hd(a);b=a.q;b.v=new N(0,0);b.w=new N(1,0.6);return b},ExternalOrganization:function(a,b,c){a=a?a.hc:0;0.2>a&&(a=0.2);var d=new P;Q(d,0,0,i);d.lineTo(1*b,0);d.lineTo(1*b,1*c);d.lineTo(0,1*c);hd(d);Q(d,a*b,0,q);d.lineTo(0,a*c);d.moveTo(1*b,a*c);d.lineTo((1-a)*b,0);d.moveTo(0,(1-a)*c);
d.lineTo(a*b,1*c);d.moveTo((1-a)*b,1*c);d.lineTo(1*b,(1-a)*c);md(d);b=d.q;b.v=new N(a/2,a/2);b.w=new N(1-a/2,1-a/2);return b},ExternalProcess:function(a,b,c){a=new P;Q(a,0.5*b,0,i);a.lineTo(1*b,0.5*c);a.lineTo(0.5*b,1*c);a.lineTo(0,0.5*c);hd(a);Q(a,0.1*b,0.4*c,q);a.lineTo(0.1*b,0.6*c);a.moveTo(0.9*b,0.6*c);a.lineTo(0.9*b,0.4*c);a.moveTo(0.6*b,0.1*c);a.lineTo(0.4*b,0.1*c);a.moveTo(0.4*b,0.9*c);a.lineTo(0.6*b,0.9*c);md(a);b=a.q;b.v=new N(0.25,0.25);b.w=new N(0.75,0.75);return b},File:function(a,b,c){a=
new P;Q(a,0,0,i);a.lineTo(0.75*b,0);a.lineTo(1*b,0.25*c);a.lineTo(1*b,1*c);a.lineTo(0,1*c);hd(a);Q(a,0.75*b,0,q);a.lineTo(0.75*b,0.25*c);a.lineTo(1*b,0.25*c);md(a);b=a.q;b.v=new N(0,0.25);b.w=new N(1,1);return b},Interrupt:function(a,b,c){a=new P;Q(a,1*b,0.5*c,i);a.lineTo(0,1*c);a.lineTo(0,0);a.lineTo(1*b,0.5*c);Q(a,1*b,0.5*c,q);a.lineTo(1*b,1*c);Q(a,1*b,0.5*c,q);a.lineTo(1*b,0);b=a.q;b.v=new N(0,0.25);b.w=new N(0.5,0.75);return b},InternalStorage:function(a,b,c){var d=a?a.hc:0,a=a?a.Is:0;0===d&&
(d=0.1);0===a&&(a=0.1);var e=new P;Q(e,0,0,i);e.lineTo(1*b,0);e.lineTo(1*b,1*c);e.lineTo(0,1*c);hd(e);Q(e,d*b,0,q);e.lineTo(d*b,1*c);e.moveTo(0,a*c);e.lineTo(1*b,a*c);md(e);b=e.q;b.v=new N(d,a);b.w=new N(1,1);return b},Junction:function(a,b,c){var a=new P,d=1/Math.SQRT2,e=(1-1/Math.SQRT2)/2,g=0.5*ac;Q(a,1*b,0.5*c,i);R(a,1*b,(0.5+g)*c,(0.5+g)*b,1*c,0.5*b,1*c);R(a,(0.5-g)*b,1*c,0,(0.5+g)*c,0,0.5*c);R(a,0,(0.5-g)*c,(0.5-g)*b,0,0.5*b,0);R(a,(0.5+g)*b,0,1*b,(0.5-g)*c,1*b,0.5*c);Q(a,(e+d)*b,(e+d)*c,q);
a.lineTo(e*b,e*c);a.moveTo(e*b,(e+d)*c);a.lineTo((e+d)*b,e*c);md(a);b=a.q;b.mc=Xg;return b},LinedDocument:function(a,b,c){c/=0.8;a=new P;Q(a,0,0.7*c,i);a.lineTo(0,0);a.lineTo(1*b,0);a.lineTo(1*b,0.7*c);R(a,0.5*b,0.4*c,0.5*b,1*c,0,0.7*c);hd(a);Q(a,0.1*b,0,q);a.lineTo(0.1*b,0.75*c);md(a);b=a.q;b.v=new N(0.1,0);b.w=new N(1,0.6);return b},LoopLimit:function(a,b,c){a=new P;Q(a,0,1*c,i);a.lineTo(0,0.25*c);a.lineTo(0.25*b,0);a.lineTo(0.75*b,0);a.lineTo(1*b,0.25*c);a.lineTo(1*b,1*c);hd(a);b=a.q;b.v=new N(0,
0.25);b.w=new N(1,1);return b},SequentialData:"MagneticTape",MagneticTape:function(a,b,c){var a=new P,d=0.5*ac;Q(a,0.5*b,1*c,i);R(a,(0.5-d)*b,1*c,0,(0.5+d)*c,0,0.5*c);R(a,0,(0.5-d)*c,(0.5-d)*b,0,0.5*b,0);R(a,(0.5+d)*b,0,1*b,(0.5-d)*c,1*b,0.5*c);R(a,1*b,(0.5+d)*c,(0.5+d)*b,0.9*c,0.6*b,0.9*c);a.lineTo(1*b,0.9*c);a.lineTo(1*b,1*c);a.lineTo(0.5*b,1*c);b=a.q;b.v=new N(0.15,0.15);b.w=new N(0.85,0.8);return b},ManualInput:function(a,b,c){a=new P;Q(a,1*b,0,i);a.lineTo(1*b,1*c);a.lineTo(0,1*c);a.lineTo(0,
0.25*c);hd(a);b=a.q;b.v=new N(0,0.25);b.w=new N(1,1);return b},MessageFromUser:function(a,b,c){a=a?a.hc:0;0===a&&(a=0.7);var d=new P;Q(d,0,0,i);d.lineTo(1*b,0);d.lineTo(a*b,0.5*c);d.lineTo(1*b,1*c);d.lineTo(0,1*c);hd(d);b=d.q;b.v=new N(0,0);b.w=new N(a,1);return b},MicroformProcessing:function(a,b,c){a=a?a.hc:0;0===a&&(a=0.25);var d=new P;Q(d,0,0,i);d.lineTo(0.5*b,a*c);d.lineTo(1*b,0);d.lineTo(1*b,1*c);d.lineTo(0.5*b,(1-a)*c);d.lineTo(0,1*c);hd(d);b=d.q;b.v=new N(0,a);b.w=new N(1,1-a);return b},MicroformRecording:function(a,
b,c){a=new P;Q(a,0,0,i);a.lineTo(0.75*b,0.25*c);a.lineTo(1*b,0.15*c);a.lineTo(1*b,0.85*c);a.lineTo(0.75*b,0.75*c);a.lineTo(0,1*c);hd(a);b=a.q;b.v=new N(0,0.25);b.w=new N(1,0.75);return b},MultiDocument:function(a,b,c){c/=0.8;a=new P;Q(a,b,0,i);a.lineTo(b,0.5*c);R(a,0.96*b,0.47*c,0.93*b,0.45*c,0.9*b,0.44*c);a.lineTo(0.9*b,0.6*c);R(a,0.86*b,0.57*c,0.83*b,0.55*c,0.8*b,0.54*c);a.lineTo(0.8*b,0.7*c);R(a,0.4*b,0.4*c,0.4*b,1*c,0,0.7*c);a.lineTo(0,0.2*c);a.lineTo(0.1*b,0.2*c);a.lineTo(0.1*b,0.1*c);a.lineTo(0.2*
b,0.1*c);a.lineTo(0.2*b,0);hd(a);Q(a,0.1*b,0.2*c,q);a.lineTo(0.8*b,0.2*c);a.lineTo(0.8*b,0.54*c);a.moveTo(0.2*b,0.1*c);a.lineTo(0.9*b,0.1*c);a.lineTo(0.9*b,0.44*c);md(a);b=a.q;b.v=new N(0,0.25);b.w=new N(0.8,0.77);return b},MultiProcess:function(a,b,c){a=new P;Q(a,0.1*b,0.1*c,i);a.lineTo(0.2*b,0.1*c);a.lineTo(0.2*b,0);a.lineTo(1*b,0);a.lineTo(1*b,0.8*c);a.lineTo(0.9*b,0.8*c);a.lineTo(0.9*b,0.9*c);a.lineTo(0.8*b,0.9*c);a.lineTo(0.8*b,1*c);a.lineTo(0,1*c);a.lineTo(0,0.2*c);a.lineTo(0.1*b,0.2*c);hd(a);
Q(a,0.2*b,0.1*c,q);a.lineTo(0.9*b,0.1*c);a.lineTo(0.9*b,0.8*c);a.moveTo(0.1*b,0.2*c);a.lineTo(0.8*b,0.2*c);a.lineTo(0.8*b,0.9*c);md(a);b=a.q;b.v=new N(0,0.2);b.w=new N(0.8,1);return b},OfflineStorage:function(a,b,c){a=a?a.hc:0;0===a&&(a=0.1);var d=1-a,e=new P;Q(e,0,0,i);e.lineTo(1*b,0);e.lineTo(0.5*b,1*c);hd(e);Q(e,0.5*a*b,a*c,q);e.lineTo((1-0.5*a)*b,a*c);md(e);b=e.q;b.v=new N(d/4+0.5*a,a);b.w=new N(3*d/4+0.5*a,a+0.5*d);return b},OffPageConnector:function(a,b,c){a=new P;Q(a,0,0,i);a.lineTo(0.75*b,
0);a.lineTo(1*b,0.5*c);a.lineTo(0.75*b,1*c);a.lineTo(0,1*c);hd(a);b=a.q;b.v=new N(0,0);b.w=new N(0.75,1);return b},Or:function(a,b,c){var a=new P,d=0.5*ac;Q(a,1*b,0.5*c,i);R(a,1*b,(0.5+d)*c,(0.5+d)*b,1*c,0.5*b,1*c);R(a,(0.5-d)*b,1*c,0,(0.5+d)*c,0,0.5*c);R(a,0,(0.5-d)*c,(0.5-d)*b,0,0.5*b,0);R(a,(0.5+d)*b,0,1*b,(0.5-d)*c,1*b,0.5*c);Q(a,1*b,0.5*c,q);a.lineTo(0,0.5*c);a.moveTo(0.5*b,1*c);a.lineTo(0.5*b,0);md(a);b=a.q;b.mc=Xg;return b},PaperTape:function(a,b,c){c/=0.8;a=new P;Q(a,0,0.7*c,i);a.lineTo(0,
0.3*c);R(a,0.5*b,0.6*c,0.5*b,0,1*b,0.3);a.lineTo(1*b,0.7*c);R(a,0.5*b,0.4*c,0.5*b,1*c,0,0.7*c);hd(a);b=a.q;b.v=new N(0,0.49);b.w=new N(1,0.75);return b},PrimitiveFromCall:function(a,b,c){var d=a?a.hc:0,a=a?a.Is:0;0===d&&(d=0.1);0===a&&(a=0.3);var e=new P;Q(e,0,0,i);e.lineTo(1*b,0);e.lineTo((1-a)*b,0.5*c);e.lineTo(1*b,1*c);e.lineTo(0,1*c);hd(e);b=e.q;b.v=new N(d,0);b.w=new N(1-a,1);return b},PrimitiveToCall:function(a,b,c){var d=a?a.hc:0,a=a?a.Is:0;0===d&&(d=0.1);0===a&&(a=0.3);var e=new P;Q(e,0,0,
i);e.lineTo((1-a)*b,0);e.lineTo(1*b,0.5*c);e.lineTo((1-a)*b,1*c);e.lineTo(0,1*c);hd(e);b=e.q;b.v=new N(d,0);b.w=new N(1-a,1);return b},Subroutine:"Procedure",Procedure:function(a,b,c){a=a?a.hc:0;0===a&&(a=0.1);var d=new P;Q(d,0,0,i);d.lineTo(1*b,0);d.lineTo(1*b,1*c);d.lineTo(0,1*c);hd(d);Q(d,(1-a)*b,0,q);d.lineTo((1-a)*b,1*c);d.moveTo(a*b,0);d.lineTo(a*b,1*c);md(d);b=d.q;b.v=new N(a,0);b.w=new N(1-a,1);return b},Process:function(a,b,c){a=a?a.hc:0;0===a&&(a=0.1);var d=new P;Q(d,0,0,i);d.lineTo(1*b,
0);d.lineTo(1*b,1*c);d.lineTo(0,1*c);hd(d);Q(d,a*b,0,q);d.lineTo(a*b,1*c);md(d);b=d.q;b.v=new N(a,0);b.w=new N(1,1);return b},Sort:function(a,b,c){a=new P;Q(a,0.5*b,0,i);a.lineTo(1*b,0.5*c);a.lineTo(0.5*b,1*c);a.lineTo(0,0.5*c);hd(a);Q(a,0,0.5*c,q);a.lineTo(1*b,0.5*c);md(a);b=a.q;b.v=new N(0.25,0.25);b.w=new N(0.75,0.5);return b},Start:function(a,b,c){a=new P;Q(a,0.25*b,0,i);a.lineTo(0.75*b,0);R(a,1*b,0,1*b,1*c,0.75*b,1*c);a.lineTo(0.25*b,1*c);R(a,0,1*c,0,0,0.25*b,0);Q(a,0.25*b,0,q);a.lineTo(0.25*
b,1*c);a.moveTo(0.75*b,0);a.lineTo(0.75*b,1*c);md(a);b=a.q;b.v=new N(0.25,0);b.w=new N(0.75,1);return b},Terminator:function(a,b,c){a=new P;Q(a,0.25*b,0,i);a.lineTo(0.75*b,0);R(a,1*b,0,1*b,1*c,0.75*b,1*c);a.lineTo(0.25*b,1*c);R(a,0,1*c,0,0,0.25*b,0);b=a.q;b.v=new N(0.23,0);b.w=new N(0.77,1);return b},TransmittalTape:function(a,b,c){a=a?a.hc:0;0===a&&(a=0.1);var d=new P;Q(d,0,0,i);d.lineTo(1*b,0);d.lineTo(1*b,1*c);d.lineTo(0.75*b,(1-a)*c);d.lineTo(0,(1-a)*c);hd(d);b=d.q;b.v=new N(0,0);b.w=new N(1,
1-a);return b},AndGate:function(a,b,c){var a=new P,d=0.5*ac;Q(a,0,0,i);a.lineTo(0.5*b,0);R(a,(0.5+d)*b,0,1*b,(0.5-d)*c,1*b,0.5*c);R(a,1*b,(0.5+d)*c,(0.5+d)*b,1*c,0.5*b,1*c);a.lineTo(0,1*c);hd(a);b=a.q;b.v=new N(0,0);b.w=new N(0.55,1);return b},Buffer:function(a,b,c){a=new P;Q(a,0,0,i);a.lineTo(1*b,0.5*c);a.lineTo(0,1*c);hd(a);b=a.q;b.v=new N(0,0.25);b.w=new N(0.5,0.75);return b},Clock:function(a,b,c){var a=new P,d=0.5*ac;Q(a,1*b,0.5*c,i);R(a,1*b,(0.5+d)*c,(0.5+d)*b,1*c,0.5*b,1*c);R(a,(0.5-d)*b,1*
c,0,(0.5+d)*c,0,0.5*c);R(a,0,(0.5-d)*c,(0.5-d)*b,0,0.5*b,0);R(a,(0.5+d)*b,0,1*b,(0.5-d)*c,1*b,0.5*c);Q(a,1*b,0.5*c,q);a.lineTo(1*b,0.5*c);Q(a,0.8*b,0.75*c,q);a.lineTo(0.8*b,0.25*c);a.lineTo(0.6*b,0.25*c);a.lineTo(0.6*b,0.75*c);a.lineTo(0.4*b,0.75*c);a.lineTo(0.4*b,0.25*c);a.lineTo(0.2*b,0.25*c);a.lineTo(0.2*b,0.75*c);md(a);b=a.q;b.mc=Xg;return b},Ground:function(a,b,c){a=new P;Q(a,0.5*b,0,q);a.lineTo(0.5*b,0.4*c);a.moveTo(0.2*b,0.6*c);a.lineTo(0.8*b,0.6*c);a.moveTo(0.3*b,0.8*c);a.lineTo(0.7*b,0.8*
c);a.moveTo(0.4*b,1*c);a.lineTo(0.6*b,1*c);return a.q},Inverter:function(a,b,c){var a=new P,d=0.1*ac;Q(a,0.8*b,0.5*c,i);a.lineTo(0,1*c);a.lineTo(0,0);a.lineTo(0.8*b,0.5*c);Q(a,1*b,0.5*c,i);R(a,1*b,(0.5+d)*c,(0.9+d)*b,0.6*c,0.9*b,0.6*c);R(a,(0.9-d)*b,0.6*c,0.8*b,(0.5+d)*c,0.8*b,0.5*c);R(a,0.8*b,(0.5-d)*c,(0.9-d)*b,0.4*c,0.9*b,0.4*c);R(a,(0.9+d)*b,0.4*c,1*b,(0.5-d)*c,1*b,0.5*c);b=a.q;b.v=new N(0,0.25);b.w=new N(0.4,0.75);return b},NandGate:function(a,b,c){var a=new P,d=0.5*ac,e=0.4*ac,g=0.1*ac;Q(a,
0.8*b,0.5*c,i);R(a,0.8*b,(0.5+e)*c,(0.4+d)*b,1*c,0.4*b,1*c);a.lineTo(0,1*c);a.lineTo(0,0);a.lineTo(0.4*b,0);R(a,(0.4+d)*b,0,0.8*b,(0.5-e)*c,0.8*b,0.5*c);Q(a,1*b,0.5*c,i);R(a,1*b,(0.5+g)*c,(0.9+g)*b,0.6*c,0.9*b,0.6*c);R(a,(0.9-g)*b,0.6*c,0.8*b,(0.5+g)*c,0.8*b,0.5*c);R(a,0.8*b,(0.5-g)*c,(0.9-g)*b,0.4*c,0.9*b,0.4*c);R(a,(0.9+g)*b,0.4*c,1*b,(0.5-g)*c,1*b,0.5*c);b=a.q;b.v=new N(0,0.05);b.w=new N(0.55,0.95);return b},NorGate:function(a,b,c){var a=new P,d=0.5,e=ac*d,g=0,h=0.5;Q(a,0.8*b,0.5*c,i);R(a,0.7*
b,(h+e)*c,(g+e)*b,(h+d)*c,0,1*c);R(a,0.25*b,0.75*c,0.25*b,0.25*c,0,0);R(a,(g+e)*b,(h-d)*c,0.7*b,(h-e)*c,0.8*b,0.5*c);d=0.1;e=0.1*ac;g=0.9;h=0.5;Q(a,(g-d)*b,h*c,i);R(a,(g-d)*b,(h-e)*c,(g-e)*b,(h-d)*c,g*b,(h-d)*c);R(a,(g+e)*b,(h-d)*c,(g+d)*b,(h-e)*c,(g+d)*b,h*c);R(a,(g+d)*b,(h+e)*c,(g+e)*b,(h+d)*c,g*b,(h+d)*c);R(a,(g-e)*b,(h+d)*c,(g-d)*b,(h+e)*c,(g-d)*b,h*c);b=a.q;b.v=new N(0.2,0.25);b.w=new N(0.6,0.75);return b},OrGate:function(a,b,c){var a=new P,d=0.5*ac;Q(a,0,0,i);R(a,(0+d+d)*b,0*c,0.8*b,(0.5-d)*
c,1*b,0.5*c);R(a,0.8*b,(0.5+d)*c,(0+d+d)*b,1*c,0,1*c);R(a,0.25*b,0.75*c,0.25*b,0.25*c,0,0);hd(a);b=a.q;b.v=new N(0.2,0.25);b.w=new N(0.75,0.75);return b},XnorGate:function(a,b,c){var a=new P,d=0.5,e=ac*d,g=0.2,h=0.5;Q(a,0.1*b,0,q);R(a,0.35*b,0.25*c,0.35*b,0.75*c,0.1*b,1*c);Q(a,0.8*b,0.5*c,i);R(a,0.7*b,(h+e)*c,(g+e)*b,(h+d)*c,0.2*b,1*c);R(a,0.45*b,0.75*c,0.45*b,0.25*c,0.2*b,0);R(a,(g+e)*b,(h-d)*c,0.7*b,(h-e)*c,0.8*b,0.5*c);d=0.1;e=0.1*ac;g=0.9;h=0.5;Q(a,(g-d)*b,h*c,i);R(a,(g-d)*b,(h-e)*c,(g-e)*b,(h-
d)*c,g*b,(h-d)*c);R(a,(g+e)*b,(h-d)*c,(g+d)*b,(h-e)*c,(g+d)*b,h*c);R(a,(g+d)*b,(h+e)*c,(g+e)*b,(h+d)*c,g*b,(h+d)*c);R(a,(g-e)*b,(h+d)*c,(g-d)*b,(h+e)*c,(g-d)*b,h*c);b=a.q;b.v=new N(0.4,0.25);b.w=new N(0.65,0.75);return b},XorGate:function(a,b,c){var a=new P,d=0.5*ac;Q(a,0.1*b,0,q);R(a,0.35*b,0.25*c,0.35*b,0.75*c,0.1*b,1*c);Q(a,0.2*b,0,i);R(a,(0.2+d)*b,0*c,0.9*b,(0.5-d)*c,1*b,0.5*c);R(a,0.9*b,(0.5+d)*c,(0.2+d)*b,1*c,0.2*b,1*c);R(a,0.45*b,0.75*c,0.45*b,0.25*c,0.2*b,0);hd(a);b=a.q;b.v=new N(0.4,0.25);
b.w=new N(0.8,0.75);return b},Capacitor:function(a,b,c){a=new P;Q(a,0,0,q);a.lineTo(0,1*c);a.moveTo(1*b,0);a.lineTo(1*b,1*c);return a.q},Resistor:function(a,b,c){a=new P;Q(a,0,0.5*c,q);a.lineTo(0.1*b,0);a.lineTo(0.2*b,1*c);a.lineTo(0.3*b,0);a.lineTo(0.4*b,1*c);a.lineTo(0.5*b,0);a.lineTo(0.6*b,1*c);a.lineTo(0.7*b,0.5*c);return a.q},Inductor:function(a,b,c){var a=new P,d=0.1*ac,e=0.1,g=0.5;Q(a,(e-0.5*d)*b,(g+0.1)*c,q);R(a,(e-d)*b,(g+0.1)*c,(e-0.1)*b,(g+d)*c,(e+0.1)*b,(g+d)*c);e=0.3;g=0.5;R(a,(e+0.1)*
b,(g+d)*c,(e+d)*b,(g+0.1)*c,e*b,(g+0.1)*c);R(a,(e-d)*b,(g+0.1)*c,(e-0.1)*b,(g+d)*c,(e+0.1)*b,(g+d)*c);g=e=0.5;R(a,(e+0.1)*b,(g+d)*c,(e+d)*b,(g+0.1)*c,e*b,(g+0.1)*c);R(a,(e-d)*b,(g+0.1)*c,(e-0.1)*b,(g+d)*c,(e+0.1)*b,(g+d)*c);e=0.7;g=0.5;R(a,(e+0.1)*b,(g+d)*c,(e+d)*b,(g+0.1)*c,e*b,(g+0.1)*c);R(a,(e-d)*b,(g+0.1)*c,(e-0.1)*b,(g+d)*c,(e+0.1)*b,(g+d)*c);e=0.9;g=0.5;R(a,(e+0.1)*b,(g+d)*c,(e+d)*b,(g+0.1)*c,(e+0.5*d)*b,(g+0.1)*c);return a.q},ACvoltageSource:function(a,b,c){var a=new P,d=0.5*ac;Q(a,0*b,0.5*
c,q);R(a,0*b,(0.5-d)*c,(0.5-d)*b,0*c,0.5*b,0*c);R(a,(0.5+d)*b,0*c,1*b,(0.5-d)*c,1*b,0.5*c);R(a,1*b,(0.5+d)*c,(0.5+d)*b,1*c,0.5*b,1*c);R(a,(0.5-d)*b,1*c,0*b,(0.5+d)*c,0*b,0.5*c);a.moveTo(0.1*b,0.5*c);R(a,0.5*b,0*c,0.5*b,1*c,0.9*b,0.5*c);b=a.q;b.mc=Xg;return b},DCvoltageSource:function(a,b,c){a=new P;Q(a,0,0.75*c,q);a.lineTo(0,0.25*c);a.moveTo(1*b,0);a.lineTo(1*b,1*c);return a.q},Diode:function(a,b,c){a=new P;Q(a,1*b,0,q);a.lineTo(1*b,0.5*c);a.lineTo(0,1*c);a.lineTo(0,0);a.lineTo(1*b,0.5*c);a.lineTo(1*
b,1*c);b=a.q;b.v=new N(0,0.25);b.w=new N(0.5,0.75);return b},Wifi:function(a,b,c){var d=b,e=c,b=0.38*b,c=0.6*c,a=new P,g=0.8*ac,h=0.8,j=0,k=0.5,d=(d-b)/2,e=(e-c)/2;Q(a,j*b+d,(k+h)*c+e,i);R(a,(j-g)*b+d,(k+h)*c+e,(j-h)*b+d,(k+g)*c+e,(j-h)*b+d,k*c+e);R(a,(j-h)*b+d,(k-g)*c+e,(j-g)*b+d,(k-h)*c+e,j*b+d,(k-h)*c+e);R(a,j*b+d,(k-h)*c+e,(j-h+0.5*g)*b+d,(k-g)*c+e,(j-h+0.5*g)*b+d,k*c+e);R(a,(j-h+0.5*g)*b+d,(k+g)*c+e,j*b+d,(k+h)*c+e,j*b+d,(k+h)*c+e);hd(a);g=0.4*ac;h=0.4;j=0.2;k=0.5;Q(a,j*b+d,(k+h)*c+e,i);R(a,
(j-g)*b+d,(k+h)*c+e,(j-h)*b+d,(k+g)*c+e,(j-h)*b+d,k*c+e);R(a,(j-h)*b+d,(k-g)*c+e,(j-g)*b+d,(k-h)*c+e,j*b+d,(k-h)*c+e);R(a,j*b+d,(k-h)*c+e,(j-h+0.5*g)*b+d,(k-g)*c+e,(j-h+0.5*g)*b+d,k*c+e);R(a,(j-h+0.5*g)*b+d,(k+g)*c+e,j*b+d,(k+h)*c+e,j*b+d,(k+h)*c+e);hd(a);g=0.2*ac;h=0.2;k=j=0.5;Q(a,(j-h)*b+d,k*c+e,i);R(a,(j-h)*b+d,(k-g)*c+e,(j-g)*b+d,(k-h)*c+e,j*b+d,(k-h)*c+e);R(a,(j+g)*b+d,(k-h)*c+e,(j+h)*b+d,(k-g)*c+e,(j+h)*b+d,k*c+e);R(a,(j+h)*b+d,(k+g)*c+e,(j+g)*b+d,(k+h)*c+e,j*b+d,(k+h)*c+e);R(a,(j-g)*b+d,(k+
h)*c+e,(j-h)*b+d,(k+g)*c+e,(j-h)*b+d,k*c+e);g=0.4*ac;h=0.4;j=0.8;k=0.5;Q(a,j*b+d,(k-h)*c+e,i);R(a,(j+g)*b+d,(k-h)*c+e,(j+h)*b+d,(k-g)*c+e,(j+h)*b+d,k*c+e);R(a,(j+h)*b+d,(k+g)*c+e,(j+g)*b+d,(k+h)*c+e,j*b+d,(k+h)*c+e);R(a,j*b+d,(k+h)*c+e,(j+h-0.5*g)*b+d,(k+g)*c+e,(j+h-0.5*g)*b+d,k*c+e);R(a,(j+h-0.5*g)*b+d,(k-g)*c+e,j*b+d,(k-h)*c+e,j*b+d,(k-h)*c+e);hd(a);g=0.8*ac;h=0.8;j=1;k=0.5;Q(a,j*b+d,(k-h)*c+e,i);R(a,(j+g)*b+d,(k-h)*c+e,(j+h)*b+d,(k-g)*c+e,(j+h)*b+d,k*c+e);R(a,(j+h)*b+d,(k+g)*c+e,(j+g)*b+d,(k+h)*
c+e,j*b+d,(k+h)*c+e);R(a,j*b+d,(k+h)*c+e,(j+h-0.5*g)*b+d,(k+g)*c+e,(j+h-0.5*g)*b+d,k*c+e);R(a,(j+h-0.5*g)*b+d,(k-g)*c+e,j*b+d,(k-h)*c+e,j*b+d,(k-h)*c+e);hd(a);return a.q},Email:function(a,b,c){a=new P;Q(a,0,0,i);a.lineTo(1*b,0);a.lineTo(1*b,1*c);a.lineTo(0,1*c);a.lineTo(0,0);hd(a);Q(a,0,0,q);a.lineTo(0.5*b,0.6*c);a.lineTo(1*b,0);a.moveTo(0,1*c);a.lineTo(0.45*b,0.54*c);a.moveTo(1*b,1*c);a.lineTo(0.55*b,0.54*c);md(a);return a.q},Ethernet:function(a,b,c){a=new P;Q(a,0.35*b,0,i);a.lineTo(0.65*b,0);a.lineTo(0.65*
b,0.4*c);a.lineTo(0.35*b,0.4*c);a.lineTo(0.35*b,0);hd(a);Q(a,0.1*b,1*c,i,i);a.lineTo(0.4*b,1*c);a.lineTo(0.4*b,0.6*c);a.lineTo(0.1*b,0.6*c);a.lineTo(0.1*b,1*c);hd(a);Q(a,0.6*b,1*c,i,i);a.lineTo(0.9*b,1*c);a.lineTo(0.9*b,0.6*c);a.lineTo(0.6*b,0.6*c);a.lineTo(0.6*b,1*c);hd(a);Q(a,0,0.5*c,q);a.lineTo(1*b,0.5*c);a.moveTo(0.5*b,0.5*c);a.lineTo(0.5*b,0.4*c);a.moveTo(0.75*b,0.5*c);a.lineTo(0.75*b,0.6*c);a.moveTo(0.25*b,0.5*c);a.lineTo(0.25*b,0.6*c);md(a);return a.q},Power:function(a,b,c){var a=new P,d=0.4*
ac,e=0.4,g=new K(0,0),h=new K(0,0),j=new K(0,0),k=new K(0,0);new K(0,0);vl(0.5,0.5-e,0.5+d,0.5-e,0.5+e,0.5-d,0.5+e,0.5,0.5,g,g,h,j,k);new K(h.x,h.y);Q(a,h.x*b,h.y*c,i);R(a,j.x*b,j.y*c,k.x*b,k.y*c,(0.5+e)*b,0.5*c);R(a,(0.5+e)*b,(0.5+d)*c,(0.5+d)*b,(0.5+e)*c,0.5*b,(0.5+e)*c);R(a,(0.5-d)*b,(0.5+e)*c,(0.5-e)*b,(0.5+d)*c,(0.5-e)*b,0.5*c);vl(0.5-e,0.5,0.5-e,0.5-d,0.5-d,0.5-e,0.5,0.5-e,0.5,j,k,h,g,g);R(a,j.x*b,j.y*c,k.x*b,k.y*c,h.x*b,h.y*c);d=0.3*ac;e=0.3;vl(0.5-e,0.5,0.5-e,0.5-d,0.5-d,0.5-e,0.5,0.5-e,0.5,
j,k,h,g,g);a.lineTo(h.x*b,h.y*c);R(a,k.x*b,k.y*c,j.x*b,j.y*c,(0.5-e)*b,0.5*c);R(a,(0.5-e)*b,(0.5+d)*c,(0.5-d)*b,(0.5+e)*c,0.5*b,(0.5+e)*c);R(a,(0.5+d)*b,(0.5+e)*c,(0.5+e)*b,(0.5+d)*c,(0.5+e)*b,0.5*c);vl(0.5,0.5-e,0.5+d,0.5-e,0.5+e,0.5-d,0.5+e,0.5,0.5,g,g,h,j,k);R(a,k.x*b,k.y*c,j.x*b,j.y*c,h.x*b,h.y*c);hd(a);Q(a,0.45*b,0,i);a.lineTo(0.45*b,0.5*c);a.lineTo(0.55*b,0.5*c);a.lineTo(0.55*b,0);hd(a);b=a.q;b.v=new N(0.25,0.55);b.w=new N(0.75,0.8);return b},Fallout:function(a,b,c){var a=new P,d=0.5*ac;Q(a,
0*b,0.5*c,i);R(a,0*b,(0.5-d)*c,(0.5-d)*b,0*c,0.5*b,0*c);R(a,(0.5+d)*b,0*c,1*b,(0.5-d)*c,1*b,0.5*c);R(a,1*b,(0.5+d)*c,(0.5+d)*b,1*c,0.5*b,1*c);R(a,(0.5-d)*b,1*c,0*b,(0.5+d)*c,0*b,0.5*c);var e=d=0;Q(a,(0.3+d)*b,(0.8+e)*c,i,i);a.lineTo((0.5+d)*b,(0.5+e)*c);a.lineTo((0.1+d)*b,(0.5+e)*c);a.lineTo((0.3+d)*b,(0.8+e)*c);d=0.4;e=0;hd(a);Q(a,(0.3+d)*b,(0.8+e)*c,i,i);a.lineTo((0.5+d)*b,(0.5+e)*c);a.lineTo((0.1+d)*b,(0.5+e)*c);a.lineTo((0.3+d)*b,(0.8+e)*c);d=0.2;e=-0.3;hd(a);Q(a,(0.3+d)*b,(0.8+e)*c,i,i);a.lineTo((0.5+
d)*b,(0.5+e)*c);a.lineTo((0.1+d)*b,(0.5+e)*c);a.lineTo((0.3+d)*b,(0.8+e)*c);hd(a);b=a.q;b.mc=Xg;return b},IrritationHazard:function(a,b,c){a=new P;Q(a,0.2*b,0*c,i);a.lineTo(0.5*b,0.3*c);a.lineTo(0.8*b,0*c);a.lineTo(1*b,0.2*c);a.lineTo(0.7*b,0.5*c);a.lineTo(1*b,0.8*c);a.lineTo(0.8*b,1*c);a.lineTo(0.5*b,0.7*c);a.lineTo(0.2*b,1*c);a.lineTo(0*b,0.8*c);a.lineTo(0.3*b,0.5*c);a.lineTo(0*b,0.2*c);hd(a);b=a.q;b.v=new N(0.3,0.3);b.w=new N(0.7,0.7);return b},ElectricalHazard:function(a,b,c){a=new P;Q(a,0.37,
0*c,i);a.lineTo(0.5*b,0.11*c);a.lineTo(0.77*b,0.04*c);a.lineTo(0.33*b,0.49*c);a.lineTo(1*b,0.37*c);a.lineTo(0.63*b,0.86*c);a.lineTo(0.77*b,0.91*c);a.lineTo(0.34*b,1*c);a.lineTo(0.34*b,0.78*c);a.lineTo(0.44*b,0.8*c);a.lineTo(0.65*b,0.56*c);a.lineTo(0*b,0.68*c);hd(a);return a.q},FireHazard:function(a,b,c){a=new P;Q(a,0.1*b,1*c,i);R(a,-0.25*b,0.63*c,0.45*b,0.44*c,0.29*b,0*c);R(a,0.48*b,0.17*c,0.54*b,0.35*c,0.51*b,0.42*c);R(a,0.59*b,0.29*c,0.58*b,0.28*c,0.59*b,0.18*c);R(a,0.8*b,0.34*c,0.88*b,0.43*c,0.75*
b,0.6*c);R(a,0.87*b,0.48*c,0.88*b,0.43*c,0.88*b,0.31*c);R(a,1.17*b,0.76*c,0.82*b,0.8*c,0.9*b,1*c);hd(a);b=a.q;b.v=new N(0.05,0.645);b.w=new N(0.884,0.908);return b},BpmnActivityLoop:function(a,b,c){var a=new P,d=0.5*(4*(Math.SQRT2-1)/3);Q(a,(0.5*Math.SQRT2/2+0.5)*b,(1-(0.5-0.5*Math.SQRT2/2))*c,q);R(a,1*b,0.7*c,1*b,0.5*c,1*b,0.5*c);R(a,1*b,(0.5-d+0)*c,(0.5+d+0)*b,0*c,0.5*b,0*c);R(a,(0.5-d+0)*b,0*c,0*b,(0.5-d+0)*c,0*b,0.5*c);R(a,0*b,(0.5+d+0)*c,(0.5-d+0)*b,1*c,0.35*b,0.98*c);a.moveTo(0.35*b,0.8*c);
a.lineTo(0.35*b,1*c);a.lineTo(0.15*b,1*c);return a.q},BpmnActivityParallel:function(a,b,c){a=new P;Q(a,0,0,q);a.lineTo(0,1*c);a.moveTo(0.5*b,0);a.lineTo(0.5*b,1*c);a.moveTo(1*b,0);a.lineTo(1*b,1*c);return a.q},BpmnActivitySequential:function(a,b,c){a=new P;Q(a,0,0,q);a.lineTo(1*b,0);a.moveTo(0,0.5*c);a.lineTo(1*b,0.5*c);a.moveTo(0,1*c);a.lineTo(1*b,1*c);return a.q},BpmnActivityAdHoc:function(a,b,c){a=new P;Q(a,0,0,q);Q(a,1*b,1*c,q);Q(a,0,0.5*c,q);R(a,0.2*b,0.35*c,0.3*b,0.35*c,0.5*b,0.5*c);R(a,0.7*
b,0.65*c,0.8*b,0.65*c,1*b,0.5*c);return a.q},BpmnActivityCompensation:function(a,b,c){a=new P;Q(a,0,0.5*c,i);a.lineTo(0.5*b,0);a.lineTo(0.5*b,0.5*c);a.lineTo(1*b,1*c);a.lineTo(1*b,0);a.lineTo(0.5*b,0.5*c);a.lineTo(0.5*b,1*c);hd(a);return a.q},BpmnTaskMessage:function(a,b,c){a=new P;Q(a,0,0.2*c,i);a.lineTo(1*b,0.2*c);a.lineTo(1*b,0.8*c);a.lineTo(0,0.8*c);a.lineTo(0,0.8*c);hd(a);Q(a,0,0.2*c,q);a.lineTo(0.5*b,0.5*c);a.lineTo(1*b,0.2*c);md(a);return a.q},BpmnTaskScript:function(a,b,c){a=new P;Q(a,0.7*
b,1*c,i);a.lineTo(0.3*b,1*c);R(a,0.6*b,0.5*c,0,0.5*c,0.3*b,0);a.lineTo(0.7*b,0);R(a,0.4*b,0.5*c,1*b,0.5*c,0.7*b,1*c);hd(a);Q(a,0.45*b,0.73*c,q);a.lineTo(0.7*b,0.73*c);a.moveTo(0.38*b,0.5*c);a.lineTo(0.63*b,0.5*c);a.moveTo(0.31*b,0.27*c);a.lineTo(0.56*b,0.27*c);md(a);return a.q},BpmnTaskUser:function(a,b,c){a=new P;Q(a,0,0,q);Q(a,0.335*b,(1-0.555)*c,i);a.lineTo(0.335*b,0.595*c);a.lineTo(0.665*b,0.595*c);a.lineTo(0.665*b,(1-0.555)*c);R(a,0.88*b,0.46*c,0.98*b,0.54*c,1*b,0.68*c);a.lineTo(1*b,1*c);a.lineTo(0,
1*c);a.lineTo(0,0.68*c);R(a,0.02*b,0.54*c,0.12*b,0.46*c,0.335*b,(1-0.555)*c);a.lineTo(0.365*b,0.405*c);var d=0.5-0.285,e=Math.PI/4,g=4*(1-Math.cos(e))/(3*Math.sin(e)),e=g*d,g=g*d;R(a,(0.5-(e+d)/2)*b,(d+(d+g)/2)*c,(0.5-d)*b,(d+g)*c,(0.5-d)*b,d*c);R(a,(0.5-d)*b,(d-g)*c,(0.5-e)*b,(d-d)*c,0.5*b,(d-d)*c);R(a,(0.5+e)*b,(d-d)*c,(0.5+d)*b,(d-g)*c,(0.5+d)*b,d*c);R(a,(0.5+d)*b,(d+g)*c,(0.5+(e+d)/2)*b,(d+(d+g)/2)*c,0.635*b,0.405*c);a.lineTo(0.635*b,0.405*c);a.lineTo(0.665*b,(1-0.555)*c);a.lineTo(0.665*b,0.595*
c);a.lineTo(0.335*b,0.595*c);Q(a,0.2*b,1*c,q);a.lineTo(0.2*b,0.8*c);Q(a,0.8*b,1*c,q);a.lineTo(0.8*b,0.8*c);return a.q},BpmnEventConditional:function(a,b,c){a=new P;Q(a,0.1*b,0,i);a.lineTo(0.9*b,0);a.lineTo(0.9*b,1*c);a.lineTo(0.1*b,1*c);hd(a);Q(a,0.2*b,0.2*c,q);a.lineTo(0.8*b,0.2*c);a.moveTo(0.2*b,0.4*c);a.lineTo(0.8*b,0.4*c);a.moveTo(0.2*b,0.6*c);a.lineTo(0.8*b,0.6*c);a.moveTo(0.2*b,0.8*c);a.lineTo(0.8*b,0.8*c);md(a);return a.q},BpmnEventError:function(a,b,c){a=new P;Q(a,0,1*c,i);a.lineTo(0.33*b,
0);a.lineTo(0.66*b,0.5*c);a.lineTo(1*b,0);a.lineTo(0.66*b,1*c);a.lineTo(0.33*b,0.5*c);hd(a);return a.q},BpmnEventEscalation:function(a,b,c){a=new P;Q(a,0,0,q);Q(a,1*b,1*c,q);Q(a,0.1*b,1*c,i);a.lineTo(0.5*b,0);a.lineTo(0.9*b,1*c);a.lineTo(0.5*b,0.5*c);hd(a);return a.q},BpmnEventTimer:function(a,b,c){var a=new P,d=0.5*ac;Q(a,1*b,0.5*c,i);R(a,1*b,(0.5+d)*c,(0.5+d)*b,1*c,0.5*b,1*c);R(a,(0.5-d)*b,1*c,0,(0.5+d)*c,0,0.5*c);R(a,0,(0.5-d)*c,(0.5-d)*b,0,0.5*b,0);R(a,(0.5+d)*b,0,1*b,(0.5-d)*c,1*b,0.5*c);Q(a,
0.5*b,0,q);a.lineTo(0.5*b,0.15*c);a.moveTo(0.5*b,1*c);a.lineTo(0.5*b,0.85*c);a.moveTo(0,0.5*c);a.lineTo(0.15*b,0.5*c);a.moveTo(1*b,0.5*c);a.lineTo(0.85*b,0.5*c);a.moveTo(0.5*b,0.5*c);a.lineTo(0.58*b,0.1*c);a.moveTo(0.5*b,0.5*c);a.lineTo(0.78*b,0.54*c);md(a);b=a.q;b.mc=Xg;return b}},Al;for(Al in gl)gl[Al.toLowerCase()]=Al;
var Bl={Standard:"F1 m 0,0 l 8,4 -8,4 2,-4 z",Backward:"F1 m 8,0 l -2,4 2,4 -8,-4 z",Triangle:"F1 m 0,0 l 8,4.62 -8,4.62 z",BackwardTriangle:"F1 m 8,4 l 0,4 -8,-4 8,-4 0,4 z",Boomerang:"F1 m 0,0 l 8,4 -8,4 4,-4 -4,-4 z",BackwardBoomerang:"F1 m 8,0 l -8,4 8,4 -4,-4 4,-4 z",SidewaysV:"m 0,0 l 8,4 -8,4 0,-1 6,-3 -6,-3 0,-1 z",BackwardV:"m 8,0 l -8,4 8,4 0,-1 -6,-3 6,-3 0,-1 z",OpenTriangle:"m 0,0 l 8,4 -8,4",BackwardOpenTriangle:"m 8,0 l -8,4 8,4",OpenTriangleLine:"m 0,0 l 8,4 -8,4 m 8.5,0 l 0,-8",BackwardOpenTriangleLine:"m 8,0 l  -8,4 8,4 m -8.5,0 l 0,-8",
OpenTriangleTop:"m 0,0 l 8,4 m 0,4",BackwardOpenTriangleTop:"m 8,0 l -8,4 m 0,4",OpenTriangleBottom:"m 0,8 l 8,-4",BackwardOpenTriangleBottom:"m 0,4 l 8,4",HalfTriangleTop:"F1 m 0,0 l 0,4 8,0 z m 0,8",BackwardHalfTriangleTop:"F1 m 8,0 l 0,4 -8,0 z m 0,8",HalfTriangleBottom:"F1 m 0,4 l 0,4 8,-4 z",BackwardHalfTriangleBottom:"F1 m 8,4 l 0,4 -8,-4 z",ForwardSemiCircle:"m 4,0 b 270 180 0 4 4",BackwardSemiCircle:"m 4,8 b 90 180 0 -4 4",Feather:"m 0,0 l 3,4 -3,4",BackwardFeather:"m 3,0 l -3,4 3,4",DoubleFeathers:"m 0,0 l 3,4 -3,4 m 3,-8 l 3,4 -3,4",
BackwardDoubleFeathers:"m 3,0 l -3,4 3,4 m 3,-8 l -3,4 3,4",TripleFeathers:"m 0,0 l 3,4 -3,4 m 3,-8 l 3,4 -3,4 m 3,-8 l 3,4 -3,4",BackwardTripleFeathers:"m 3,0 l -3,4 3,4 m 3,-8 l -3,4 3,4 m 3,-8 l -3,4 3,4",ForwardSlash:"m 0,8 l 5,-8",BackSlash:"m 0,0 l 5,8",DoubleForwardSlash:"m 0,8 l 4,-8 m -2,8 l 4,-8",DoubleBackSlash:"m 0,0 l 4,8 m -2,-8 l 4,8",TripleForwardSlash:"m 0,8 l 4,-8 m -2,8 l 4,-8 m -2,8 l 4,-8",TripleBackSlash:"m 0,0 l 4,8 m -2,-8 l 4,8 m -2,-8 l 4,8",Fork:"m 0,4 l 8,0 m -8,0 l 8,-4 m -8,4 l 8,4",
BackwardFork:"m 8,4 l -8,0 m 8,0 l -8,-4 m 8,4 l -8,4",LineFork:"m 0,0 l 0,8 m 0,-4 l 8,0 m -8,0 l 8,-4 m -8,4 l 8,4",BackwardLineFork:"m 8,4 l -8,0 m 8,0 l -8,-4 m 8,4 l -8,4 m 8,-8 l 0,8",CircleFork:"F1 m 6,4 b 0 360 -3 0 3 z m 0,0 l 6,0 m -6,0 l 6,-4 m -6,4 l 6,4",BackwardCircleFork:"F1 m 0,4 l 6,0 m -6,-4 l 6,4 m -6,4 l 6,-4 m 6,0 b 0 360 -3 0 3",CircleLineFork:"F1 m 6,4 b 0 360 -3 0 3 z m 1,-4 l 0,8 m 0,-4 l 6,0 m -6,0 l 6,-4 m -6,4 l 6,4",BackwardCircleLineFork:"F1 m 0,4 l 6,0 m -6,-4 l 6,4 m -6,4 l 6,-4 m 0,-4 l 0,8 m 7,-4 b 0 360 -3 0 3",
Circle:"F1 m 8,4 b 0 360 -4 0 4 z",Block:"F1 m 0,0 l 0,8 8,0 0,-8 z",StretchedDiamond:"F1 m 0,3 l 5,-3 5,3 -5,3 -5,-3 z",Diamond:"F1 m 0,4 l 4,-4 4,4 -4,4 -4,-4 z",Chevron:"F1 m 0,0 l 5,0 3,4 -3,4 -5,0 3,-4 -3,-4 z",StretchedChevron:"F1 m 0,0 l 8,0 3,4 -3,4 -8,0 3,-4 -3,-4 z",NormalArrow:"F1 m 0,2 l 4,0 0,-2 4,4 -4,4 0,-2 -4,0 z",X:"m 0,0 l 8,8 m 0,-8 l -8,8",TailedNormalArrow:"F1 m 0,0 l 2,0 1,2 3,0 0,-2 2,4 -2,4 0,-2 -3,0 -1,2 -2,0 1,-4 -1,-4 z",DoubleTriangle:"F1 m 0,0 l 4,4 -4,4 0,-8 z  m 4,0 l 4,4 -4,4 0,-8 z",
BigEndArrow:"F1 m 0,0 l 5,2 0,-2 3,4 -3,4 0,-2 -5,2 0,-8 z",ConcaveTailArrow:"F1 m 0,2 h 4 v -2 l 4,4 -4,4 v -2 h -4 l 2,-2 -2,-2 z",RoundedTriangle:"F1 m 0,1 a 1,1 0 0 1 1,-1 l 7,3 a 0.5,1 0 0 1 0,2 l -7,3 a 1,1 0 0 1 -1,-1 l 0,-6 z",SimpleArrow:"F1 m 1,2 l -1,-2 2,0 1,2 -1,2 -2,0 1,-2 5,0 0,-2 2,2 -2,2 0,-2 z",AccelerationArrow:"F1 m 0,0 l 0,8 0.2,0 0,-8 -0.2,0 z m 2,0 l 0,8 1,0 0,-8 -1,0 z m 3,0 l 2,0 2,4 -2,4 -2,0 0,-8 z",BoxArrow:"F1 m 0,0 l 4,0 0,2 2,0 0,-2 2,4 -2,4 0,-2 -2,0 0,2 -4,0 0,-8 z",
TriangleLine:"F1 m 8,4 l -8,-4 0,8 8,-4 z m 0.5,4 l 0,-8",CircleEndedArrow:"F1 m 10,4 l -2,-3 0,2 -2,0 0,2 2,0 0,2 2,-3 z m -4,0 b 0 360 -3 0 3 z",DynamicWidthArrow:"F1 m 0,3 l 2,0 2,-1 2,-2 2,4 -2,4 -2,-2 -2,-1 -2,0 0,-2 z",EquilibriumArrow:"m 0,3 l 8,0 -3,-3 m 3,5 l -8,0 3,3",FastForward:"F1 m 0,0 l 3.5,4 0,-4 3.5,4 0,-4 1,0 0,8 -1,0 0,-4 -3.5,4 0,-4 -3.5,4 0,-8 z",Kite:"F1 m 0,4 l 2,-4 6,4 -6,4 -2,-4 z",HalfArrowTop:"F1 m 0,0 l 4,4 4,0 -8,-4 z m 0,8",HalfArrowBottom:"F1 m 0,8 l 4,-4 4,0 -8,4 z",
OpposingDirectionDoubleArrow:"F1 m 0,4 l 2,-4 0,2 4,0 0,-2 2,4 -2,4 0,-2 -4,0 0,2 -2,-4 z",PartialDoubleTriangle:"F1 m 0,0 4,3 0,-3 4,4 -4,4 0,-3 -4,3 0,-8 z",LineCircle:"F1 m 0,0 l 0,8 m 7 -4 b 0 360 -3 0 3 z",DoubleLineCircle:"F1 m 0,0 l 0,8 m 2,-8 l 0,8 m 7 -4 b 0 360 -3 0 3 z",TripleLineCircle:"F1 m 0,0 l 0,8 m 2,-8 l 0,8 m 2,-8 l 0,8 m 7 -4 b 0 360 -3 0 3 z",CircleLine:"F1 m 6 4 b 0 360 -3 0 3 z m 1,-4 l 0,8",DiamondCircle:"F1 m 8,4 l -4,4 -4,-4 4,-4 4,4 m 8,0 b 0 360 -4 0 4 z",PlusCircle:"F1 m 8,4 b 0 360 -4 0 4 l -8 0 z m -4 -4 l 0 8",
OpenRightTriangleTop:"m 8,0 l 0,4 -8,0 m 0,4",OpenRightTriangleBottom:"m 8,8 l 0,-4 -8,0",Line:"m 0,0 l 0,8",DoubleLine:"m 0,0 l 0,8 m 2,0 l 0,-8",TripleLine:"m 0,0 l 0,8 m 2,0 l 0,-8 m 2,0 l 0,8",PentagonArrow:"F1 m 8,4 l -4,-4 -4,0 0,8 4,0 4,-4 z",None:""},el,Gl={},Hl;for(Hl in gl){var Il=gl[Hl];"string"===typeof Il&&(Il=gl[Il]);"string"===typeof Il&&(Il=gl[Il]);Il&&(Gl[Hl]=Il(p,100,100));Gl[Hl].re()}el=Gl;var Jl={};
function fl(a){if(Bl){for(var b in Bl){var c=ed(Bl[b],q);Jl[b]=c;Jl[b.toLowerCase()]=b}Bl=f}return Jl[a]}V.FigureGenerators=gl;V.ArrowheadGeometries=Jl;
function z(a){0===arguments.length?G.call(this):G.call(this,a);this.dn=this.ej="";this.jq=p;this.Oq=this.Fq=this.Sp=this.vr=this.zp=this.mp=i;this.Zq=this.Uq=this.Tq=q;this.qn=i;this.lr="";this.ir=i;this.Nk=this.$q=this.Vq=this.jr=p;this.Ut=q;this.gh=this.kr=p;this.Xq="";this.Pl=p;this.Wq=(new cb(NaN,NaN)).freeze();this.ar="";this.Ql=p;this.Pd="";this.Yp=i;this.H=this.lp=this.qk=p;this.rj=(new K(NaN,NaN)).freeze();this.$t=new K(NaN,NaN);this.sq="";this.sj=p;this.tq=Db;this.Aq=fc;this.vq=gc;this.Ap=
p;this.Zp=i;this.kq=Kl;this.Mf=q;this.tn=(new K(6,6)).freeze();this.sn="gray";this.rn=4;this.wB=-1;this.mj=i;this.uu=this.je=q}x.S("Part",z);x.Ja(z,G);
z.prototype.Db=function(a){G.prototype.Db.call(this,a);a.ej=this.ej;a.dn=this.dn;a.jq=this.jq;a.mp=this.mp;a.zp=this.zp;a.vr=this.vr;a.Sp=this.Sp;a.Fq=this.Fq;a.Oq=this.Oq;a.Tq=this.Tq;a.Uq=this.Uq;a.Zq=this.Zq;a.qn=this.qn;a.lr=this.lr;a.ir=this.ir;a.jr=this.jr;a.Vq=this.Vq;a.$q=this.$q;a.Ut=q;a.kr=this.kr;a.gh=p;a.Xq=this.Xq;a.Wq.bb(this.Wq);a.ar=this.ar;a.Pd=this.Pd;a.Yp=this.Yp;a.lp=this.lp;a.rj.bb(this.rj);a.sq=this.sq;a.tq=this.tq.Q();a.Aq=this.Aq.Q();a.vq=this.vq.Q();a.Ap=this.Ap;a.Zp=this.Zp;
a.kq=this.kq;a.Mf=this.Mf;a.tn.bb(this.tn);a.sn=this.sn;a.rn=this.rn};z.prototype.Jh=function(a){G.prototype.Jh.call(this,a);vj(a);a.Nk=p;a.Pl=p;a.Ql=p;a.sj=p};z.prototype.toString=function(){var a=x.$k(Object.getPrototypeOf(this))+"#"+x.gc(this);this.data&&(a+="("+Wd(this.data)+")");return a};z.LayoutNone=0;var Li;z.LayoutAdded=Li=1;var Qi;z.LayoutRemoved=Qi=2;var Wj;z.LayoutShown=Wj=4;var Xj;z.LayoutHidden=Xj=8;z.LayoutNodeSized=16;var Xi;z.LayoutGroupLayout=Xi=32;var Kl;
z.LayoutStandard=Kl=Li|Qi|Wj|Xj|16|Xi;z.prototype.tm=function(a,b,c,d,e,g,h){var j=this.h;j!==p&&(a===Ud&&"elements"===b?e instanceof G&&Mi(e,e,function(a){Ni(j,a)}):a===Vd&&"elements"===b&&e instanceof G&&Mi(e,e,function(a){Pi(j,a)}),j.Uc(a,b,c,d,e,g,h))};z.prototype.updateTargetBindings=z.prototype.Bb=function(a){G.prototype.Bb.call(this,a);if(this.data!==p)for(a=this.elements;a.next();){var b=a.value;b instanceof G&&Mi(b,b,function(a){a.data!==p&&a.Bb()})}};
x.u(z,{TF:"adornments"},function(){return this.gh===p?p:this.gh.l});z.prototype.findAdornment=z.prototype.fo=function(a){u&&x.k(a,"string",z,"findAdornment:category");var b=this.gh;return b===p?p:b.va(a)};
z.prototype.addAdornment=z.prototype.In=function(a,b){if(b!==p){u&&(x.k(a,"string",z,"addAdornment:category"),x.i(b,Ye,z,"addAdornment:ad"));var c=p,d=this.gh;d!==p&&(c=d.va(a));if(c!==b){if(c!==p){var e=c.Ka;e!==p&&e.Qd(-1,c)}d===p&&(this.gh=d=new pa("string",Ye));d.add(a,b);c=this.h;c!==p&&(d=c.Mi("Adornment"),d===p&&(d=c.Mi("")),d!==p&&(d.bl(99999999,b),b.data=this.data))}}};
z.prototype.removeAdornment=z.prototype.vm=function(a){u&&x.k(a,"string",z,"removeAdornment:category");var b=this.gh;if(b!==p){var c=b.va(a);if(c!==p){var d=c.Ka;d!==p&&d.Qd(-1,c)}b.remove(a);0===b.count&&(this.gh=p)}};z.prototype.clearAdornments=z.prototype.Hh=function(){var a=this.gh;if(a!==p){for(var b=[],a=a.l;a.next();)b.push(a.key);for(var a=b.length,c=0;c<a;c++)this.vm(b[c])}};
z.prototype.updateAdornments=z.prototype.$i=function(){a:{var a=this.h;if(a!==p){var b=p;if(this.Va&&this.fA){var c=this.Ko;if(this.ya.R()&&c!==p&&this.tb()&&c.dl()&&c.ya.R()){b=this.fo("Selection");if(b===p){b=this.GE;b===p&&(this instanceof F?b=a.VD:this instanceof z&&(b=this instanceof B?a.vD:a.iE));if(!(b instanceof Ye))break a;$e(b);b=b.copy();if(!(b instanceof Ye))break a;b.Cd="Selection";b.Ec=c}if(b!==p){a=b.placeholder;if(a!==p){var d=c.hm(),e=0;c instanceof V&&(e=c.ib);a.za=new cb((c.Na.width+
e)*d,(c.Na.height+e)*d)}b.angle=c.jo();b.type!==Kg?b.location=c.Tb(Db):b.U()}}this.In("Selection",b)}else this.vm("Selection")}}c=this.h;if(c!==p){c=c.Xb.Te.o;b=c.length;for(a=0;a<b;a++)d=c[a],d.isEnabled&&d.updateAdornments(this)}};x.u(z,{Ka:"layer"},t("H"));x.u(z,{h:"diagram"},function(){var a=this.H;return a!==p?a.h:p});x.g(z,"layerName",z.prototype.Fd);
x.defineProperty(z,{Fd:"layerName"},t("dn"),function(a){var b=this.dn;if(b!==a){x.k(a,"string",z,"layerName");var c=this.h;if(!(c!==p&&c.Mi(a)==p)&&(this.dn=a,this.j("layerName",b,a),b=this.Ka,b!==p&&b.name!==a&&(c=b.h,c!==p&&(a=c.Mi(a),a!==p&&a!==b)))){var d=b.Qd(-1,this,i);0<=d&&c.Uc(Vd,"parts",b,this,p,d,i);d=a.bl(99999999,this,i);0<=d&&c.Uc(Ud,"parts",a,p,this,i,d);d=this.po;if(d!==p){var e=c.Ra;c.Ra=i;d(this,b,a);c.Ra=e}}}});x.g(z,"layerChanged",z.prototype.po);
x.defineProperty(z,{po:"layerChanged"},t("jq"),function(a){var b=this.jq;b!==a&&(a!==p&&x.k(a,"function",z,"layerChanged"),this.jq=a,this.j("layerChanged",b,a))});x.g(z,"location",z.prototype.location);x.defineProperty(z,{location:"location"},t("rj"),function(a){var b=this.rj;if(!b.K(a)){u&&x.i(a,K,z,"location");this.rj=a=a.Q();if(this.Mc===q){var c=this.ob,d=this.$t,e=c.copy();c.Y(a.x-d.x,a.y-d.y);c.K(e)||this.j("position",e,c);Zj(this)}this.j("location",b,a)}});
function Zj(a){if(a.mj===q){var b=a.h;b!==p&&(b.ph.add(a),a instanceof A&&!b.wa.zb&&a.Xg(),b.Eb());a.mj=i}}function Ll(a){if(a.mj!==q){var b=a.ob,c=a.vb,d=c.copy();c.Oa();c.x=b.x;c.y=b.y;c.freeze();tj(a,d,c);a.mj=q}}x.u(z,{Vb:"locationObject"},function(){if(this.sj===p){var a=this.xs;a!==f&&a!==p&&""!==a?(a=this.Le(a),this.sj=a!==p?a:this):this.sj=this}return this.sj.visible?this.sj:this});x.g(z,"minLocation",z.prototype.cE);
x.defineProperty(z,{cE:"minLocation"},t("Aq"),function(a){var b=this.Aq;b.K(a)||(u&&x.i(a,K,z,"minLocation"),this.Aq=a=a.Q(),this.j("minLocation",b,a))});x.g(z,"maxLocation",z.prototype.XD);x.defineProperty(z,{XD:"maxLocation"},t("vq"),function(a){var b=this.vq;b.K(a)||(u&&x.i(a,K,z,"maxLocation"),this.vq=a=a.Q(),this.j("maxLocation",b,a))});x.g(z,"locationObjectName",z.prototype.xs);
x.defineProperty(z,{xs:"locationObjectName"},t("sq"),function(a){var b=this.sq;b!==a&&(u&&x.k(a,"string",z,"locationObjectName"),this.sq=a,this.sj=p,Rj(this),this.j("locationObjectName",b,a))});x.g(z,"locationSpot",z.prototype.ig);x.defineProperty(z,{ig:"locationSpot"},t("tq"),function(a){var b=this.tq;b.K(a)||(u&&(x.i(a,N,z,"locationSpot"),wb(a)||x.m("Part.locationSpot must be a specific Spot value, not: "+a)),this.tq=a=a.Q(),Rj(this),this.j("locationSpot",b,a))});
z.prototype.move=z.prototype.move=function(a){this.position=a;this.Mc===q&&Ll(this)};z.prototype.isVisible=z.prototype.tb=function(){if(!this.Tg)return q;var a=this.Ka;if(a!==p&&!a.visible)return q;a=this.Za;if(a!==p&&!a.Pe)return q;if(this instanceof A){a=this.jD();if(a!==p&&!a.Qe)return q;a=this.ad;if(a!==p){var b={};b[x.gc(this)]=i;return Ml(a,b)}}else if(this instanceof F){a=this.ja;if(a!==p&&Nl(a)===p)return q;a=this.na;if(a!==p&&Nl(a)===p)return q}return i};
function Ml(a,b){var c=a.ja;if(c!==p){var d=c.ad;if(d!==p)b[x.gc(c)]||(b[x.gc(c)]=i,Ml(d,b));else if(!c.tb())return q}c=a.na;if(c!==p)if(d=c.ad,d!==p)b[x.gc(c)]||(b[x.gc(c)]=i,Ml(d,b));else if(!c.tb())return q;return i}
function Ol(a,b,c){yb(c)&&(c=Kb);var d=b.Na;if(b===p||b===a)return new K(d.width*c.x+c.offsetX,d.height*c.y+c.offsetY);c=new K(d.width*c.x+c.offsetX,d.height*c.y+c.offsetY);b.transform.Xa(c);for(b=b.ea;b!==p&&b!==a;)b.transform.Xa(c),b=b.ea;a.Gk.Xa(c);c.offset(-a.Yc.x,-a.Yc.y);return c}z.prototype.ensureBounds=z.prototype.Ki=function(){Ch(this,Infinity,Infinity);this.Fc()};
z.prototype.Fc=function(){sj(this);if(this.Mc===q){var a=this.position,b=this.location;if(!b.R()||!a.R())Pl(this,a,b),sj(this);Ll(this)}else{this instanceof Ye&&(this.V!==Kg&&this.xb!==p)&&(this.sj=this.xb,a=this.Ec,this.type!==Kg&&a!==p&&(this.location=a.Tb(Db)));var c=this.bC;c.set(this.vb);Oj(this);this.vb.Oa();var d=this.je;this.Kj(0,0,this.Yc.width,this.Yc.height);a=this.position;b=this.location;Pl(this,a,b);b=this.vb;b.x=a.x;b.y=a.y;b.freeze();sj(this);tj(this,c,b);c.K(b)?this.je=d:this.ee()&&
(!Ua(c.width,b.width)||!Ua(c.height,b.height))&&this.G(16);this.mj=q}};function Pl(a,b,c){var d=NaN,e=NaN,g=a.ig,e=a.Vb;yb(g)&&x.m("Spot must be real: "+g.toString());var h=e.Na,d=a.$t;d.wm(0,0,h.width,h.height,g);if(e!==a){e.transform.Xa(d);e.ib&&(g=e.Zd/2,d.offset(-g,-g));for(e=e.ea;e!==p&&e!==a;)e.transform.Xa(d),e=e.ea}a.Gk.Xa(d);d.offset(-a.Yc.x,-a.Yc.y);a=a.$t;c.R()?(d=c.x-a.x,e=c.y-a.y,b.copy(),b.Y(d,e)):b.R()&&(d=b.x,e=b.y,c.copy(),c.Y(d+a.x,e+a.y))}
function Oi(a,b){a.uu=q;var c=a.h;if(c!==p){a.updateAdornments();var d=a.TF;if(d!==p){sj(a);for(Oj(a);d.next();)Ch(d.value,Infinity,Infinity),d.value.Fc()}a instanceof A&&dj(c,a);!a.Ka.Cc&&!b&&Ci(c);var d=a.vb,e=c.Ya;e.R()?a.je?d.Oe(e)||(a.je=q,Hh(c)):d.Oe(e)&&(a.je=i):c.Ck=i;a.vb.R()&&Hh(c,a.vb)}}z.prototype.cl=ca(i);
function Gh(a,b){if(a.Tg){var c=a.vb;if(!(0===c.width||0===c.height||isNaN(c.x)||isNaN(c.y))){var d=a.transform,e=a.ea,g=a.aj;g.reset();e!==p&&(e.Uh()?g.multiply(e.le):e.ea!==p&&g.multiply(e.ea.le));g.multiply(a.ld);a.ye!==p&&(Gj(a,b,a.ye,i,i),b.fillRect(c.x,c.y,c.width,c.height));a.ye===p&&a.ze===p&&(b.fillStyle="rgba(0,0,0,0.4)",b.fillRect(c.x,c.y,c.width,c.height));if(a.ze!==p){d.qs()||b.transform(d.m11,d.m12,d.m21,d.m22,d.dx,d.dy);var h=a.Na,e=c=0,g=h.width,h=h.height,j=0;a instanceof V&&(h=a.La.Kb,
c=h.x,e=h.y,g=h.width,h=h.height,j=a.Zd);Gj(a,b,a.ze,i);b.fillRect(c-j/2,e-j/2,g+j,h+j);d.qs()||(c=1/(d.m11*d.m22-d.m12*d.m21),b.transform(d.m22*c,-d.m12*c,-d.m21*c,d.m11*c,c*(d.m21*d.dy-d.m22*d.dx),c*(d.m12*d.dx-d.m11*d.dy)))}}}}z.prototype.ee=ca(i);x.g(z,"isInDocumentBounds",z.prototype.rs);x.defineProperty(z,{rs:"isInDocumentBounds"},t("Yp"),function(a){var b=this.Yp;b!==a&&(u&&x.k(a,"boolean",z,"isInDocumentBounds"),this.Yp=a,this.j("isInDocumentBounds",b,a))});x.g(z,"category",z.prototype.Cd);
x.defineProperty(z,{Cd:"category"},t("ej"),function(a){var b=this.ej;if(b!==a){x.k(a,"string",z,"category");this.ej=a;this.j("category",b,a);var b=this.h,c=this.data;if(b!==p&&c!==p){var d=b.da;this instanceof F?(d instanceof T?d.IE(c,a):d instanceof $d&&d.nI(c,a),b=b.findTemplateForLinkData(c,a),b instanceof F&&($e(b),b=b.copy(),b instanceof F&&Ql(this,b,a))):this instanceof Ye||(d!==p&&d.cw(c,a),b=b.findTemplateForNodeData(c,a),b instanceof z&&($e(b),b=b.copy(),b instanceof z&&Ql(this,b,a)))}}});
function Ql(a,b,c){a.Hh();var d=a.data,e=a.Fd,g=a.Va;b.Jh(a);b.Db(a);a.ej=c;a.U();xj(a);b=a.h;c=i;b!==p&&(c=b.Ab,b.Ab=i);a.Mm=d;d!==p&&a.Bb();b!==p&&(b.Ab=c);d=a.Fd;d!==e&&(a.dn=e,a.Fd=d);a.Va=g}z.prototype.canCopy=z.prototype.dJ=function(){if(!this.Zy)return q;var a=this.Ka;if(a===p)return i;if(!a.Gj)return q;a=a.h;return a===p?i:!a.Gj?q:i};z.prototype.canDelete=z.prototype.hJ=function(){if(!this.cz)return q;var a=this.Ka;if(a===p)return i;if(!a.Qk)return q;a=a.h;return a===p?i:!a.Qk?q:i};
z.prototype.canEdit=z.prototype.jJ=function(){if(!this.nA)return q;var a=this.Ka;if(a===p)return i;if(!a.Sn)return q;a=a.h;return a===p?i:!a.Sn?q:i};z.prototype.canGroup=z.prototype.nJ=function(){if(!this.qz)return q;var a=this.Ka;if(a===p)return i;if(!a.Nn)return q;a=a.h;return a===p?i:!a.Nn?q:i};z.prototype.canMove=z.prototype.qJ=function(){if(!this.Lz)return q;var a=this.Ka;if(a===p)return i;if(!a.Rk)return q;a=a.h;return a===p?i:!a.Rk?q:i};
z.prototype.canPrint=z.prototype.sJ=function(){if(!this.nE)return q;var a=this.Ka;if(a===p)return i;if(!a.Qr)return q;a=a.h;return a===p?i:!a.Qr?q:i};z.prototype.canReshape=z.prototype.wJ=function(){if(!this.Zz)return q;var a=this.Ka;if(a===p)return i;if(!a.Pn)return q;a=a.h;return a===p?i:!a.Pn?q:i};z.prototype.canResize=z.prototype.xJ=function(){if(!this.$z)return q;var a=this.Ka;if(a===p)return i;if(!a.Qn)return q;a=a.h;return a===p?i:!a.Qn?q:i};
z.prototype.canRotate=z.prototype.yJ=function(){if(!this.aA)return q;var a=this.Ka;if(a===p)return i;if(!a.Rn)return q;a=a.h;return a===p?i:!a.Rn?q:i};z.prototype.canSelect=z.prototype.Tk=function(){if(!this.Vi)return q;var a=this.Ka;if(a===p)return i;if(!a.me)return q;a=a.h;return a===p?i:!a.me?q:i};x.g(z,"copyable",z.prototype.Zy);x.defineProperty(z,{Zy:"copyable"},t("mp"),function(a){var b=this.mp;b!==a&&(u&&x.k(a,"boolean",z,"copyable"),this.mp=a,this.j("copyable",b,a))});x.g(z,"deletable",z.prototype.cz);
x.defineProperty(z,{cz:"deletable"},t("zp"),function(a){var b=this.zp;b!==a&&(u&&x.k(a,"boolean",z,"deletable"),this.zp=a,this.j("deletable",b,a))});x.g(z,"textEditable",z.prototype.nA);x.defineProperty(z,{nA:"textEditable"},t("vr"),function(a){var b=this.vr;b!==a&&(u&&x.k(a,"boolean",z,"textEditable"),this.vr=a,this.j("textEditable",b,a),this.updateAdornments())});x.g(z,"groupable",z.prototype.qz);
x.defineProperty(z,{qz:"groupable"},t("Sp"),function(a){var b=this.Sp;b!==a&&(u&&x.k(a,"boolean",z,"groupable"),this.Sp=a,this.j("groupable",b,a))});x.g(z,"movable",z.prototype.Lz);x.defineProperty(z,{Lz:"movable"},t("Fq"),function(a){var b=this.Fq;b!==a&&(u&&x.k(a,"boolean",z,"movable"),this.Fq=a,this.j("movable",b,a))});x.g(z,"printable",z.prototype.nE);
x.defineProperty(z,{nE:"printable"},t("Oq"),function(a){var b=this.Oq;b!==a&&(u&&x.k(a,"boolean",z,"printable"),this.Oq=a,this.j("printable",b,a))});x.g(z,"reshapable",z.prototype.Zz);x.defineProperty(z,{Zz:"reshapable"},t("Tq"),function(a){var b=this.Tq;b!==a&&(u&&x.k(a,"boolean",z,"reshapable"),this.Tq=a,this.j("reshapable",b,a),this.updateAdornments())});x.g(z,"resizable",z.prototype.$z);
x.defineProperty(z,{$z:"resizable"},t("Uq"),function(a){var b=this.Uq;b!==a&&(u&&x.k(a,"boolean",z,"resizable"),this.Uq=a,this.j("resizable",b,a),this.updateAdornments())});x.g(z,"rotatable",z.prototype.aA);x.defineProperty(z,{aA:"rotatable"},t("Zq"),function(a){var b=this.Zq;b!==a&&(u&&x.k(a,"boolean",z,"rotatable"),this.Zq=a,this.j("rotatable",b,a),this.updateAdornments())});x.g(z,"selectable",z.prototype.Vi);
x.defineProperty(z,{Vi:"selectable"},t("qn"),function(a){var b=this.qn;b!==a&&(u&&x.k(a,"boolean",z,"selectable"),this.qn=a,this.j("selectable",b,a),this.updateAdornments())});x.g(z,"selectionObjectName",z.prototype.Lo);x.defineProperty(z,{Lo:"selectionObjectName"},t("lr"),function(a){var b=this.lr;b!==a&&(u&&x.k(a,"string",z,"selectionObjectName"),this.lr=a,this.Nk=p,this.j("selectionObjectName",b,a))});x.g(z,"selectionAdorned",z.prototype.fA);
x.defineProperty(z,{fA:"selectionAdorned"},t("ir"),function(a){var b=this.ir;b!==a&&(u&&x.k(a,"boolean",z,"selectionAdorned"),this.ir=a,this.j("selectionAdorned",b,a),this.updateAdornments())});x.g(z,"selectionAdornmentTemplate",z.prototype.GE);x.defineProperty(z,{GE:"selectionAdornmentTemplate"},t("jr"),function(a){var b=this.jr;b!==a&&(u&&x.i(a,Ye,z,"selectionAdornmentTemplate"),this instanceof F&&(a.type=Kg),this.jr=a,this.j("selectionAdornmentTemplate",b,a))});
x.u(z,{Ko:"selectionObject"},function(){if(this.Nk===p){var a=this.Lo;a!==p&&""!==a?(a=this.Le(a),this.Nk=a!==p?a:this):this instanceof F?(a=this.path,this.Nk=a!==p?a:this):this.Nk=this}return this.Nk});x.g(z,"isSelected",z.prototype.Va);
x.defineProperty(z,{Va:"isSelected"},t("Ut"),function(a){var b=this.Ut;if(b!==a){u&&x.k(a,"boolean",z,"isSelected");var c=this.h;if(!a||this.Tk()&&!(c!==p&&c.selection.count>=c.YD)){this.Ut=a;var d=q;if(c!==p){d=c.Ab;c.Ab=i;var e=c.selection;e.Oa();a?e.add(this):e.remove(this);e.freeze()}this.j("isSelected",b,a);this.updateAdornments();a=this.HE;a!==p&&a(this);c!==p&&(c.Eb(),c.Ab=d)}}});x.g(z,"selectionChanged",z.prototype.HE);
x.defineProperty(z,{HE:"selectionChanged"},t("kr"),function(a){var b=this.kr;b!==a&&(a!==p&&x.k(a,"function",z,"selectionChanged"),this.kr=a,this.j("selectionChanged",b,a))});x.g(z,"resizeAdornmentTemplate",z.prototype.wE);x.defineProperty(z,{wE:"resizeAdornmentTemplate"},t("Vq"),function(a){var b=this.Vq;b!==a&&(u&&x.i(a,Ye,z,"resizeAdornmentTemplate"),this.Vq=a,this.j("resizeAdornmentTemplate",b,a))});x.g(z,"resizeObjectName",z.prototype.yE);
x.defineProperty(z,{yE:"resizeObjectName"},t("Xq"),function(a){var b=this.Xq;b!==a&&(u&&x.k(a,"string",z,"resizeObjectName"),this.Xq=a,this.Pl=p,this.j("resizeObjectName",b,a))});x.u(z,{fI:"resizeObject"},function(){if(this.Pl===p){var a=this.yE;a!==p&&""!==a?(a=this.Le(a),this.Pl=a!==p?a:this):this.Pl=this}return this.Pl});x.g(z,"resizeCellSize",z.prototype.xE);
x.defineProperty(z,{xE:"resizeCellSize"},t("Wq"),function(a){var b=this.Wq;b.K(a)||(u&&x.i(a,cb,z,"resizeCellSize"),this.Wq=a=a.Q(),this.j("resizeCellSize",b,a))});x.g(z,"rotateAdornmentTemplate",z.prototype.AE);x.defineProperty(z,{AE:"rotateAdornmentTemplate"},t("$q"),function(a){var b=this.$q;b!==a&&(u&&x.i(a,Ye,z,"rotateAdornmentTemplate"),this.$q=a,this.j("rotateAdornmentTemplate",b,a))});x.g(z,"rotateObjectName",z.prototype.BE);
x.defineProperty(z,{BE:"rotateObjectName"},t("ar"),function(a){var b=this.ar;b!==a&&(u&&x.k(a,"string",z,"rotateObjectName"),this.ar=a,this.Ql=p,this.j("rotateObjectName",b,a))});x.u(z,{jI:"rotateObject"},function(){if(this.Ql===p){var a=this.BE;a!==p&&""!==a?(a=this.Le(a),this.Ql=a!==p?a:this):this.Ql=this}return this.Ql});x.g(z,"text",z.prototype.text);x.defineProperty(z,{text:"text"},t("Pd"),function(a){var b=this.Pd;b!==a&&(u&&x.k(a,"string",z,"text"),this.Pd=a,this.j("text",b,a))});
x.g(z,"containingGroup",z.prototype.Za);
x.defineProperty(z,{Za:"containingGroup"},t("qk"),function(a){if(this.ee()){var b=this.qk;if(b!==a){u&&a!==p&&x.i(a,B,z,"containingGroup");if(a!==p&&(this===a||a.ss(this)))this===a&&x.m("Cannot make a Group a member of itself: "+this.toString()),x.m("Cannot make a Group indirectly contain itself: "+this.toString()+" already contains "+a.toString());this.G(Qi);var c=this.h;b!==p?Rl(b,this):this instanceof B&&c!==p&&c.Sl.remove(this);this.qk=a;a!==p?Sl(a,this):this instanceof B&&c!==p&&c.Sl.add(this);
this.G(Li);if(c!==p){var d=this.data,e=c.da;d!==p&&e instanceof T&&e.hA(d,e.rb(a!==p?a.data:p))}d=this.Yy;d!==p&&(e=i,c!==p&&(e=c.Ra,c.Ra=i),d(this,b,a),c!==p&&(c.Ra=e));if(this instanceof B){c=new qa(z);Xe(c,this,i,q);for(c=c.l;c.next();)if(d=c.value,d instanceof A)for(d=d.Rd;d.next();)e=d.value,Ti(e)}if(this instanceof A)for(d=this.Rd;d.next();)e=d.value,Ti(e);this.j("containingGroup",b,a);a!==p&&a.gw()}}else x.m("cannot set the Part.containingGroup of a Link or Adornment")});
function vj(a){a=a.Za;a!==p&&(a.U(),a.xb!==p&&a.xb.U(),a.Xg())}z.prototype.ns=function(){var a=this.qk;a!==p&&Sl(a,this)};z.prototype.os=function(){var a=this.qk;a!==p&&Rl(a,this)};z.prototype.bm=function(){var a=this.data;if(a!==p){var b=this.h;b!==p&&(b=b.da,b!==p&&b.uE(a))}};x.g(z,"containingGroupChanged",z.prototype.Yy);
x.defineProperty(z,{Yy:"containingGroupChanged"},t("lp"),function(a){var b=this.lp;b!==a&&(a!==p&&x.k(a,"function",z,"containingGroupChanged"),this.lp=a,this.j("containingGroupChanged",b,a))});x.u(z,{wM:"topLevelPart"},function(){return Tl(this,this)});z.prototype.findTopLevelPart=z.prototype.GK=function(){return Tl(this,this)};function Tl(a,b){var c=b.Za;return c!==p?Tl(a,c):b instanceof A&&(c=b.ad,c!==p)?Tl(a,c):b}
x.u(z,{us:"isTopLevel"},function(){return this.Za!==p||this instanceof A&&this.Ri?q:i});z.prototype.isMemberOf=z.prototype.ss=function(a){return!(a instanceof B)?q:Ul(this,this,a)};function Ul(a,b,c){if(b===c||c===p)return q;var d=b.Za;return d!==p&&(d===c||Ul(a,d,c))?i:b instanceof A&&(b=b.ad,b!==p)?Ul(a,b,c):q}z.prototype.findCommonContainingGroup=z.prototype.RG=function(a){return Vl(this,this,a)};
function Vl(a,b,c){if(b===p||c===p)return p;var d=b.Za;if(d===p)return p;if(b===c)return d;var e=c.Za;return e===p?p:d===e?e:Ul(a,c,d)?d:Ul(a,b,e)?e:Vl(a,d,e)}x.g(z,"isLayoutPositioned",z.prototype.Mv);x.defineProperty(z,{Mv:"isLayoutPositioned"},t("Zp"),function(a){var b=this.Zp;b!==a&&(u&&x.k(a,"boolean",z,"isLayoutPositioned"),this.Zp=a,this.j("isLayoutPositioned",b,a),this.G(a?Wj:Xj))});x.g(z,"layoutConditions",z.prototype.RD);
x.defineProperty(z,{RD:"layoutConditions"},t("kq"),function(a){var b=this.kq;b!==a&&(u&&x.k(a,"number",z,"layoutConditions"),this.kq=a,this.j("layoutConditions",b,a))});z.prototype.canLayout=z.prototype.Sr=function(){if(!this.Mv||!this.tb())return q;var a=this.Ka;return a!==p&&a.Cc||this instanceof A&&this.Ri?q:i};
z.prototype.invalidateLayout=z.prototype.G=function(a){a===f&&(a=16777215);var b;!this.Mv||0===(a&this.RD)?b=q:(b=this.Ka,b!==p&&b.Cc||this instanceof A&&this.Ri?b=q:(b=this.h,b=b!==p&&b.wa.zb?q:i));if(b)if(b=this.qk,b!==p){var c=b.Ub;c!==p?c.G():b.G(a)}else a=this.h,a!==p&&(c=a.Ub,c!==p&&c.G())};x.g(z,"dragComputation",z.prototype.gz);
x.defineProperty(z,{gz:"dragComputation"},t("Ap"),function(a){var b=this.Ap;b!==a&&(a!==p&&x.k(a,"function",z,"dragComputation"),this.Ap=a,this.j("dragComputation",b,a))});x.g(z,"isShadowed",z.prototype.om);x.defineProperty(z,{om:"isShadowed"},t("Mf"),function(a){var b=this.Mf;b!==a&&(u&&x.k(a,"boolean",z,"isShadowed"),this.Mf=a,xj(this),this.j("isShadowed",b,a))});x.g(z,"shadowOffset",z.prototype.pI);
x.defineProperty(z,{pI:"shadowOffset"},t("tn"),function(a){var b=this.tn;b.K(a)||(u&&x.i(a,K,z,"shadowOffset"),this.tn=a=a.Q(),xj(this),this.j("shadowOffset",b,a))});x.g(z,"shadowColor",z.prototype.shadowColor);x.defineProperty(z,{shadowColor:"shadowColor"},t("sn"),function(a){var b=this.sn;b!==a&&(u&&x.k(a,"string",z,"shadowColor"),this.sn=a,xj(this),this.j("shadowColor",b,a))});x.g(z,"shadowBlur",z.prototype.shadowBlur);
x.defineProperty(z,{shadowBlur:"shadowBlur"},t("rn"),function(a){var b=this.rn;b!==a&&(u&&x.k(a,"number",z,"shadowBlur"),this.rn=a,xj(this),this.j("shadowBlur",b,a))});function Ye(a){0===arguments.length?z.call(this,ah):z.call(this,a);this.Fd="Adornment";this.Qa=p;this.qn=q;this.rj=new K(NaN,NaN);this.Xh=new H(L);this.wh=p;this.Oc=(new H(K)).freeze();this.Xu=new K;this.xb=p}x.S("Adornment",Ye);x.Ja(Ye,z);da=Ye.prototype;
da.toString=function(){var a=this.Mn;return"Adornment("+this.Cd+")"+(a!==p?a.toString():"")};da.ei=function(){return this.Qa&&this.Qa.fa instanceof F?this.Qa.fa.ei():p};da.Pp=ca(p);da.Qv=function(){var a=this.Ec.fa,b=this.Ec;if(a instanceof F&&b instanceof V){var c=a.path,b=c.La;a.Qv();for(var b=c.La,a=this.xa,c=a.length,d=0;d<c;d++){var e=a.o[d];e.Nh&&e instanceof V&&(e.La=b)}}};da.ox=function(){var a=this.Mn;return a instanceof F?a.Oc:p};x.u(Ye,{placeholder:"placeholder"},t("xb"));
x.g(Ye,"adornedObject",Ye.prototype.Ec);x.defineProperty(Ye,{Ec:"adornedObject"},t("Qa"),ba("Qa"));x.u(Ye,{Mn:"adornedPart"},function(){var a=this.Qa;return a!==p?a.fa:p});Ye.prototype.cl=function(){var a=this.Qa;if(a===p)return i;a=a.fa;return a===p||!a.Mc};Ye.prototype.ee=ca(q);x.u(Ye,{Za:"containingGroup"},ca(p));
Ye.prototype.tm=function(a,b,c,d,e,g,h){if(a===Ud&&"elements"===b)if(e instanceof Vg)this.xb===p?this.xb=e:this.xb!==e&&x.m("Cannot insert a second Placeholder into the visual tree of an Adornment.");else{if(e instanceof G){var j=$k(e,e,function(a){return a instanceof Vg});j instanceof Vg&&(this.xb===p?this.xb=j:this.xb!==j&&x.m("Cannot insert a second Placeholder into the visual tree of an Adornment."))}}else a===Vd&&"elements"===b&&(d===this.xb?this.xb=p:d instanceof G&&this.xb.Qi(d)&&(this.xb=
p));z.prototype.tm.call(this,a,b,c,d,e,g,h)};Ye.prototype.updateAdornments=Ye.prototype.$i=aa();Ye.prototype.bm=aa();function A(a){0===arguments.length?z.call(this,ah):z.call(this,a);this.gd=new H(F);this.cn=this.pq=this.oq=p;this.eq=i;this.Hr=q;this.Cr=p;this.fp=this.fq=i;this.gp=(new gb(2)).freeze();this.Pc=this.ih=p}x.S("Node",A);x.Ja(A,z);A.prototype.Db=function(a){z.prototype.Db.call(this,a);a.oq=this.oq;a.pq=this.pq;a.eq=this.eq;a.Hr=this.Hr;a.Cr=this.Cr;a.fq=this.fq;a.fp=this.fp;a.gp.bb(this.gp)};
A.prototype.Jh=function(a){z.prototype.Jh.call(this,a);a.Xg();a.ih=this.ih;a.Pc=p};var Wl;A.DirectionDefault=Wl=x.s(A,"DirectionDefault",0);A.DirectionAbsolute=x.s(A,"DirectionAbsolute",1);var Xl;A.DirectionRotatedNode=Xl=x.s(A,"DirectionRotatedNode",2);var jj;A.DirectionRotatedNodeOrthogonal=jj=x.s(A,"DirectionRotatedNodeOrthogonal",3);function Yl(a,b){b!==p&&(a.ih==p&&(a.ih=new qa(Zl)),a.ih.add(b))}
A.prototype.tm=function(a,b,c,d,e,g,h){a===Ud&&"elements"===b?this.Pc=p:a===Vd&&"elements"===b&&(this.h===p?this.Pc=p:d instanceof U&&Zk(this,d,function(a,b){$j(a,b,i)}));z.prototype.tm.call(this,a,b,c,d,e,g,h)};A.prototype.invalidateConnectedLinks=A.prototype.Xg=function(a){a===f&&(a=p);for(var b=this.Rd;b.next();){var c=b.value;if(!(a!==p&&a.contains(c))){var d=c.Zc;d!==p&&(d.Od=p);var e=c.Sd;e!==p&&e!==d&&(e.Od=p);c.Zb()}}};A.prototype.cl=ca(i);x.g(A,"avoidable",A.prototype.My);
x.defineProperty(A,{My:"avoidable"},t("fp"),function(a){var b=this.fp;if(b!==a){u&&x.k(a,"boolean",A,"avoidable");this.fp=a;var c=this.h;c!==p&&dj(c,this);this.j("avoidable",b,a)}});x.g(A,"avoidableMargin",A.prototype.AC);x.defineProperty(A,{AC:"avoidableMargin"},t("gp"),function(a){"number"===typeof a?a=new gb(a):x.i(a,gb,A,"avoidableMargin");var b=this.gp;if(!b.K(a)){this.gp=a=a.Q();var c=this.h;c!==p&&dj(c,this);this.j("avoidableMargin",b,a)}});
A.prototype.canAvoid=A.prototype.aJ=function(){return this.My&&!this.Ri};A.prototype.getAvoidableRectangle=A.prototype.LK=function(a){a===f&&(a=new L);a.set(this.ya);a.Lr(this.AC);return a};function Nl(a){for(;a!==p&&!a.tb();)a=a.Za;return a}x.u(A,{Rd:"linksConnected"},function(){return this.gd.l});
A.prototype.findLinksConnected=A.prototype.SG=function(a){a===f&&(a=p);if(a===p)return this.gd.l;u&&x.k(a,"string",A,"findLinksConnected:pid");var b=new La(this.gd),c=this;b.Xv=function(b){return b.ja===c&&b.Lh===a||b.na===c&&b.Xi===a};return b};A.prototype.findLinksOutOf=A.prototype.bs=function(a){a===f&&(a=p);var b=new La(this.gd),c=this;b.Xv=function(b){return b.ja!==c?q:a===p?i:b.Lh===a};return b};
A.prototype.findLinksInto=A.prototype.Bf=function(a){a===f&&(a=p);var b=new La(this.gd),c=this;b.Xv=function(b){return b.na!==c?q:a===p?i:b.Xi===a};return b};
A.prototype.findNodesConnected=A.prototype.fD=function(a){a===f&&(a=p);for(var b=p,c=p,d=this.gd.l;d.next();){var e=d.value;if(e.ja===this){if(a===p||e.Lh===a)e=e.na,b!==p?b.add(e):c!==p&&c!==e?(b=new qa(A),b.add(c),b.add(e)):c=e}else if(e.na===this&&(a===p||e.Xi===a))e=e.ja,b!==p?b.add(e):c!==p&&c!==e?(b=new qa(A),b.add(c),b.add(e)):c=e}return b!==p?b.l:c!==p?new Ka(c):x.If};
A.prototype.findNodesOutOf=A.prototype.hD=function(a){a===f&&(a=p);for(var b=p,c=p,d=this.gd.l;d.next();){var e=d.value;if(e.ja===this&&(a===p||e.Lh===a))e=e.na,b!==p?b.add(e):c!==p&&c!==e?(b=new qa(A),b.add(c),b.add(e)):c=e}return b!==p?b.l:c!==p?new Ka(c):x.If};
A.prototype.findNodesInto=A.prototype.gD=function(a){a===f&&(a=p);for(var b=p,c=p,d=this.gd.l;d.next();){var e=d.value;if(e.na===this&&(a===p||e.Xi===a))e=e.ja,b!==p?b.add(e):c!==p&&c!==e?(b=new qa(A),b.add(c),b.add(e)):c=e}return b!==p?b.l:c!==p?new Ka(c):x.If};x.g(A,"linkConnected",A.prototype.SD);x.defineProperty(A,{SD:"linkConnected"},t("oq"),function(a){var b=this.oq;b!==a&&(a!==p&&x.k(a,"function",A,"linkConnected"),this.oq=a,this.j("linkConnected",b,a))});x.g(A,"linkDisconnected",A.prototype.TD);
x.defineProperty(A,{TD:"linkDisconnected"},t("pq"),function(a){var b=this.pq;b!==a&&(a!==p&&x.k(a,"function",A,"linkDisconnected"),this.pq=a,this.j("linkDisconnected",b,a))});function $l(a,b,c){if(!a.gd.contains(b)){a.gd.add(b);var d=a.SD;if(d!==p){var e=i,g=a.h;g!==p&&(e=g.Ra,g.Ra=i);d(a,b,c);g!==p&&(g.Ra=e)}a.Vj&&(c=i,g=a.h,g!==p&&(c=g.rd),c?b.ja===a&&(a.Vj=q):b.na===a&&(a.Vj=q))}}
function am(a,b,c){if(a.gd.remove(b)){var d=a.TD,e=a.h;if(d!==p){var g=i;e!==p&&(g=e.Ra,e.Ra=i);d(a,b,c);e!==p&&(e.Ra=g)}!a.Vj&&!(e!==p&&e.wa.zb)&&(b=a.gd.count,0===b?a.Vj=i:1===b&&Yi(a))}}function Yi(a){if(0!==a.gd.count){var b=i,c=a.h;c!==p&&(b=c.rd);for(c=a.gd.l;c.next();){var d=c.value;if(b){if(d.ja===a){a.Vj=q;return}}else if(d.na===a){a.Vj=q;return}}a.Vj=i}}A.prototype.ns=function(){z.prototype.ns.call(this);Yi(this);var a=this.cn;a!==p&&bm(a,this)};
A.prototype.os=function(){z.prototype.os.call(this);var a=this.cn;a!==p&&a.Fe!==p&&(a.Fe.remove(this),a.U())};A.prototype.bm=function(){if(0<this.gd.count){var a=this.h;if(a===p)return;for(var b=this.gd.copy().l;b.next();)a.remove(b.value)}z.prototype.bm.call(this)};x.u(A,{Ri:"isLinkLabel"},function(){return this.cn!==p});x.g(A,"labeledLink",A.prototype.ad);
x.defineProperty(A,{ad:"labeledLink"},t("cn"),function(a){var b=this.cn;if(b!==a){u&&a!==p&&x.i(a,F,A,"labeledLink");var c=this.h,d=this.data;if(b!==p&&(b.Fe!==p&&(b.Fe.remove(this),b.U()),c!==p&&d!==p)){var e=b.data,g=c.da;if(e!==p&&g instanceof T){var h=g.rb(d);h!==f&&g.bI(e,h)}}this.cn=a;a!==p&&(bm(a,this),c!==p&&d!==p&&(e=a.data,g=c.da,e!==p&&g instanceof T&&(h=g.rb(d),h!==f&&g.oC(e,h))));Rj(this);this.j("labeledLink",b,a)}});
A.prototype.findPort=A.prototype.es=function(a){u&&x.k(a,"string",A,"findPort:pid");this.Pc===p&&ak(this);if(this.Pc!==p){var b=this.Pc.va(a);if(b!==p)return b}if(""!==a&&this.Pc!==p&&(b=this.Pc.va(""),b!==p))return b;this.Pc===p&&ak(this);return this};x.u(A,{port:"port"},function(){return this.es("")});x.u(A,{ports:"ports"},function(){this.Pc===p&&ak(this);return this.Pc!==p?this.Pc.l:x.If});function ak(a){a.Pc!==p&&a.Pc.clear();Zk(a,a,function(a,c){bk(a,c)})}
function bk(a,b){var c=b.Ue;c!==p&&(a.Pc===p&&(a.Pc=new pa("string",U)),a.Pc.add(c,b))}function $j(a,b,c){var d=b.Ue;if(d!==p&&(a.Pc!==p&&a.Pc.remove(d),b=a.h,b!==p&&c)){c=p;for(a=a.SG(d);a.next();)c===p&&(c=[]),c.push(a.value);if(c!==p)for(a=0;a<c.length;a++)b.remove(c[a])}}
A.prototype.isInTreeOf=A.prototype.nL=function(a){if(a===p||a===this)return q;var b=i,c=this.h;c!==p&&(b=c.rd);if(b)a:{for(b=this;b!==a;){for(var c=p,d=b.Bf();d.next()&&!(c=d.value.ja,c!==b););if(c===p){a=q;break a}b=c}a=i}else a:{for(b=this;b!==a;){c=p;for(d=b.bs();d.next()&&!(c=d.value.na,c!==b););if(c===p){a=q;break a}b=c}a=i}return a};
A.prototype.findTreeParentLink=A.prototype.Gv=function(){var a=i,b=this.h;b!==p&&(a=b.rd);b=this.gd.l;if(a)for(;b.next();){if(a=b.value,a.ja!==this)return a}else for(;b.next();)if(a=b.value,a.na!==this)return a;return p};A.prototype.findTreeParentNode=A.prototype.jD=function(){var a=i,b=this.h;b!==p&&(a=b.rd);b=this.gd.l;if(a)for(;b.next();){if(a=b.value,a=a.ja,a!==this)return a}else for(;b.next();)if(a=b.value,a=a.na,a!==this)return a;return p};
A.prototype.findTreeChildrenLinks=A.prototype.Fv=function(){var a=i,b=this.h;b!==p&&(a=b.rd);return a?this.bs():this.Bf()};
A.prototype.findTreeChildrenNodes=A.prototype.HK=function(){var a=i,b=this.h;b!==p&&(a=b.rd);var c=b=p,d=this.gd.l;if(a)for(;d.next();)a=d.value,a.ja===this&&(a=a.na,b!==p?b.add(a):c!==p&&c!==a?(b=new H(A),b.add(c),b.add(a)):c=a);else for(;d.next();)a=d.value,a.na===this&&(a=a.ja,b!==p?b.add(a):c!==p&&c!==a?(b=new H(A),b.add(c),b.add(a)):c=a);return b!==p?b.l:c!==p?new Ka(c):x.If};A.prototype.findTreeParts=A.prototype.IK=function(){var a=new qa(z);Xe(a,this,q,i);return a};
A.prototype.collapseTree=A.prototype.nv=function(){var a=this.h;if(a!==p&&!a.hg){a.hg=i;var b=a.rd,c=new qa(A);c.add(this);cm(this,c,b);a.hg=q}};function cm(a,b,c){a.Qe=q;for(var d=c?a.bs():a.Bf();d.next();){var e=d.value,g=e.sD(a);g!==p&&(g!==a&&!b.contains(g))&&(b.add(g),xj(e),e.Hh(),xj(g),g.Hh(),vj(g),g.G(Xj),g.Qe&&(g.nw=g.Qe,cm(g,b,c)))}}A.prototype.expandTree=A.prototype.Bv=function(){var a=this.h;if(a!==p&&!a.hg){a.hg=i;var b=a.rd,c=new qa(A);c.add(this);dm(this,c,b);a.hg=q}};
function dm(a,b,c){a.Qe=i;for(var d=c?a.bs():a.Bf();d.next();){var e=d.value,g=e.sD(a);g!==p&&(g!==a&&!b.contains(g))&&(b.add(g),xj(e),e.$i(),xj(g),g.$i(),vj(g),g.G(Wj),g.nw&&(g.nw=q,dm(g,b,c)))}}x.g(A,"isTreeExpanded",A.prototype.Qe);
x.defineProperty(A,{Qe:"isTreeExpanded"},t("eq"),function(a){var b=this.eq;if(b!==a){u&&x.k(a,"boolean",A,"isTreeExpanded");this.eq=a;var c=this.h;c!==p&&Hh(c);this.j("isTreeExpanded",b,a);b=this.bF;if(b!==p){var d=i;c!==p&&(d=c.Ra,c.Ra=i);b(this);c!==p&&(c.Ra=d)}c!==p&&c.wa.zb||(a?this.Bv():this.nv())}});x.g(A,"wasTreeExpanded",A.prototype.nw);
x.defineProperty(A,{nw:"wasTreeExpanded"},t("Hr"),function(a){var b=this.Hr;b!==a&&(u&&x.k(a,"boolean",A,"wasTreeExpanded"),this.Hr=a,this.j("wasTreeExpanded",b,a))});x.g(A,"treeExpandedChanged",A.prototype.bF);x.defineProperty(A,{bF:"treeExpandedChanged"},t("Cr"),function(a){var b=this.Cr;b!==a&&(a!==p&&x.k(a,"function",A,"treeExpandedChanged"),this.Cr=a,this.j("treeExpandedChanged",b,a))});x.g(A,"isTreeLeaf",A.prototype.Vj);
x.defineProperty(A,{Vj:"isTreeLeaf"},t("fq"),function(a){var b=this.fq;b!==a&&(u&&x.k(a,"boolean",A,"isTreeLeaf"),this.fq=a,this.j("isTreeLeaf",b,a))});
function F(){z.call(this,Kg);this.Lf=p;this.lh="";this.Np=p;this.nh=Cb;this.kh=NaN;this.jh=Wl;this.mh=NaN;this.Zf=p;this.Dh="";this.Br=p;this.Fh=Cb;this.Ch=NaN;this.Bh=Wl;this.Eh=NaN;this.Sq=this.Rq=q;this.ap=kj;this.np=0;this.pp=kj;this.qp=NaN;this.on=rk;this.or=0.5;this.wh=this.Fe=p;this.Oc=(new H(K)).freeze();this.Pg=p;this.Bi=q;this.Wx=p;this.zn=q;this.sl=this.ci=this.La=p;this.Ae=0;this.Xh=new H(L);this.Xu=new K;this.cC=this.aC=p;this.Uw=q}x.S("Link",F);x.Ja(F,z);
F.prototype.Db=function(a){z.prototype.Db.call(this,a);a.lh=this.lh;a.Np=this.Np;a.nh=this.nh.Q();a.kh=this.kh;a.jh=this.jh;a.mh=this.mh;a.Dh=this.Dh;a.Br=this.Br;a.Fh=this.Fh.Q();a.Ch=this.Ch;a.Bh=this.Bh;a.Eh=this.Eh;a.Rq=this.Rq;a.Sq=this.Sq;a.ap=this.ap;a.np=this.np;a.pp=this.pp;a.qp=this.qp;a.on=this.on;a.or=this.or};F.prototype.Jh=function(a){z.prototype.Jh.call(this,a);this.lh=a.lh;this.Dh=a.Dh;a.wh=p;a.Pg=p;a.Zb();a.sl=this.sl;a.Ae=this.Ae};var rk;F.Normal=rk=x.s(F,"Normal",1);var kk;
F.Orthogonal=kk=x.s(F,"Orthogonal",2);var Ef;F.AvoidsNodes=Ef=x.s(F,"AvoidsNodes",3);var kj;F.None=kj=x.s(F,"None",0);var lk;F.Bezier=lk=x.s(F,"Bezier",9);var mk;F.JumpGap=mk=x.s(F,"JumpGap",10);var nk;F.JumpOver=nk=x.s(F,"JumpOver",11);var ok;F.End=ok=x.s(F,"End",17);var pk;F.Scale=pk=x.s(F,"Scale",18);var qk;F.Stretch=qk=x.s(F,"Stretch",19);var ll;F.OrientAlong=ll=x.s(F,"OrientAlong",21);var em;F.OrientPlus90=em=x.s(F,"OrientPlus90",22);var fm;F.OrientMinus90=fm=x.s(F,"OrientMinus90",23);var gm;
F.OrientOpposite=gm=x.s(F,"OrientOpposite",24);var hm;F.OrientUpright=hm=x.s(F,"OrientUpright",25);var im;F.OrientPlus90Upright=im=x.s(F,"OrientPlus90Upright",26);var jm;F.OrientMinus90Upright=jm=x.s(F,"OrientMinus90Upright",27);var km;F.OrientUpright45=km=x.s(F,"OrientUpright45",28);F.prototype.cl=function(){var a=this.ja;if(a!==p&&(a.Mc||a.mj))return q;a=this.na;return a!==p&&(a.Mc||a.mj)?q:i};F.prototype.ee=ca(q);
function Yk(a,b){var c;switch(a){default:case kj:c=0;break;case ll:c=b;break;case em:c=b+90;break;case fm:c=b-90;break;case gm:c=b+180;break;case hm:c=Lc(b);90<c&&270>c&&(c-=180);break;case im:c=Lc(b+90);90<c&&270>c&&(c-=180);break;case jm:c=Lc(b-90);90<c&&270>c&&(c-=180);break;case km:c=Lc(b);if(45<c&&135>c||225<c&&315>c)return 0;90<c&&270>c&&(c-=180)}return Lc(c)}x.g(F,"fromNode",F.prototype.ja);
x.defineProperty(F,{ja:"fromNode"},t("Lf"),function(a){var b=this.Lf;if(b!==a){u&&a!==p&&x.i(a,A,F,"fromNode");var c=this.Zc;b!==p&&(this.Zf!==b&&am(b,this,c),c!==p&&(c.Od=p),lm(this),b.G(Qi));this.Lf=a;this.ci=p;this.Zb();var d=this.h;if(d!==p){var e=this.data,g=d.da;if(e!==p)if(g instanceof T){var h=a!==p?a.data:p;g.ew(e,g.rb(h))}else g instanceof $d&&(h=a!==p?a.data:p,d.rd?g.Ff(e,g.rb(h)):(b!==p&&g.Ff(b.data,f),g.Ff(h,g.rb(this.Zf!==p?this.Zf.data:p))))}e=this.Zc;g=this.lz;g!==p&&(h=i,d!==p&&(h=
d.Ra,d.Ra=i),g(this,c,e),d!==p&&(d.Ra=h));a!==p&&(this.Zf!==a&&$l(a,this,e),e!==p&&(e.Od=p),mm(this),a.G(Li));this.j("fromNode",b,a);Ti(this)}});x.g(F,"fromPortId",F.prototype.Lh);
x.defineProperty(F,{Lh:"fromPortId"},t("lh"),function(a){var b=this.lh;if(b!==a){u&&x.k(a,"string",F,"fromPortId");var c=this.Zc;c!==p&&(c.Od=p);lm(this);this.lh=a;var d=this.Zc;d!==p&&(d.Od=p);var e=this.h;if(e!==p){var g=this.data,h=e.da;g!==p&&h instanceof T&&h.Ps(g,a)}c!==d&&(this.ci=p,this.Zb(),g=this.lz,g!==p&&(h=i,e!==p&&(h=e.Ra,e.Ra=i),g(this,c,d),e!==p&&(e.Ra=h)));mm(this);this.j("fromPortId",b,a)}});x.u(F,{Zc:"fromPort"},function(){var a=this.Lf;return a===p?p:a.es(this.lh)});
x.g(F,"fromPortChanged",F.prototype.lz);x.defineProperty(F,{lz:"fromPortChanged"},t("Np"),function(a){var b=this.Np;b!==a&&(a!==p&&x.k(a,"function",F,"fromPortChanged"),this.Np=a,this.j("fromPortChanged",b,a))});x.g(F,"toNode",F.prototype.na);
x.defineProperty(F,{na:"toNode"},t("Zf"),function(a){var b=this.Zf;if(b!==a){u&&a!==p&&x.i(a,A,F,"toNode");var c=this.Sd;b!==p&&(this.Lf!==b&&am(b,this,c),c!==p&&(c.Od=p),lm(this),b.G(Qi));this.Zf=a;this.ci=p;this.Zb();var d=this.h;if(d!==p){var e=this.data,g=d.da;if(e!==p)if(g instanceof T){var h=a!==p?a.data:p;g.fw(e,g.rb(h))}else g instanceof $d&&(h=a!==p?a.data:p,d.rd?(b!==p&&g.Ff(b.data,f),g.Ff(h,g.rb(this.Lf!==p?this.Lf.data:p))):g.Ff(e,g.rb(h)))}e=this.Sd;g=this.rA;g!==p&&(h=i,d!==p&&(h=d.Ra,
d.Ra=i),g(this,c,e),d!==p&&(d.Ra=h));a!==p&&(this.Lf!==a&&$l(a,this,e),e!==p&&(e.Od=p),mm(this),a.G(Li));this.j("toNode",b,a);Ti(this)}});x.g(F,"toPortId",F.prototype.Xi);
x.defineProperty(F,{Xi:"toPortId"},t("Dh"),function(a){var b=this.Dh;if(b!==a){u&&x.k(a,"string",F,"toPortId");var c=this.Sd;c!==p&&(c.Od=p);lm(this);this.Dh=a;var d=this.Sd;d!==p&&(d.Od=p);var e=this.h;if(e!==p){var g=this.data,h=e.da;g!==p&&h instanceof T&&h.Qs(g,a)}c!==d&&(this.ci=p,this.Zb(),g=this.rA,g!==p&&(h=i,e!==p&&(h=e.Ra,e.Ra=i),g(this,c,d),e!==p&&(e.Ra=h)));mm(this);this.j("toPortId",b,a)}});x.u(F,{Sd:"toPort"},function(){var a=this.Zf;return a===p?p:a.es(this.Dh)});
x.g(F,"toPortChanged",F.prototype.rA);x.defineProperty(F,{rA:"toPortChanged"},t("Br"),function(a){var b=this.Br;b!==a&&(a!==p&&x.k(a,"function",F,"toPortChanged"),this.Br=a,this.j("toPortChanged",b,a))});x.g(F,"fromSpot",F.prototype.qb);x.defineProperty(F,{qb:"fromSpot"},t("nh"),function(a){var b=this.nh;b.K(a)||(u&&x.i(a,N,F,"fromSpot"),this.nh=a=a.Q(),this.j("fromSpot",b,a),this.Zb())});x.g(F,"fromEndSegmentLength",F.prototype.Zk);
x.defineProperty(F,{Zk:"fromEndSegmentLength"},t("kh"),function(a){var b=this.kh;b!==a&&(u&&x.k(a,"number",F,"fromEndSegmentLength"),0>a&&x.ra(a,">= 0",F,"fromEndSegmentLength"),this.kh=a,this.j("fromEndSegmentLength",b,a),this.Zb())});x.g(F,"fromEndSegmentDirection",F.prototype.hs);x.defineProperty(F,{hs:"fromEndSegmentDirection"},t("jh"),function(a){var b=this.jh;b!==a&&(u&&x.pb(a,A,F,"fromEndSegmentDirection"),this.jh=a,this.j("fromEndSegmentDirection",b,a),this.Zb())});
x.g(F,"fromShortLength",F.prototype.is);x.defineProperty(F,{is:"fromShortLength"},t("mh"),function(a){var b=this.mh;b!==a&&(u&&x.k(a,"number",F,"fromShortLength"),this.mh=a,this.j("fromShortLength",b,a),this.Zb())});x.g(F,"toSpot",F.prototype.ub);x.defineProperty(F,{ub:"toSpot"},t("Fh"),function(a){var b=this.Fh;b.K(a)||(u&&x.i(a,N,F,"toSpot"),this.Fh=a=a.Q(),this.j("toSpot",b,a),this.Zb())});x.g(F,"toEndSegmentLength",F.prototype.kl);
x.defineProperty(F,{kl:"toEndSegmentLength"},t("Ch"),function(a){var b=this.Ch;b!==a&&(u&&x.k(a,"number",F,"toEndSegmentLength"),0>a&&x.ra(a,">= 0",F,"toEndSegmentLength"),this.Ch=a,this.j("toEndSegmentLength",b,a),this.Zb())});x.g(F,"toEndSegmentDirection",F.prototype.Vs);x.defineProperty(F,{Vs:"toEndSegmentDirection"},t("Bh"),function(a){var b=this.Bh;b!==a&&(u&&x.pb(a,A,F,"toEndSegmentDirection"),this.Bh=a,this.j("toEndSegmentDirection",b,a),this.Zb())});x.g(F,"toShortLength",F.prototype.Ws);
x.defineProperty(F,{Ws:"toShortLength"},t("Eh"),function(a){var b=this.Eh;b!==a&&(u&&x.k(a,"number",F,"toShortLength"),this.Eh=a,this.j("toShortLength",b,a),this.Zb())});function Ti(a){var b=a.ja,c=a.na;b!==p&&c!==p?nm(a,b.RG(c)):nm(a,p)}function nm(a,b){var c=a.qk;if(c!==b){c!==p&&Rl(c,a);a.qk=b;b!==p&&Sl(b,a);var d=a.Yy;if(d!==p){var e=i,g=a.h;g!==p&&(e=g.Ra,g.Ra=i);d(a,c,b);g!==p&&(g.Ra=e)}a.Bi&&(a.aC===c||a.cC===c)&&a.Zb()}}
F.prototype.getOtherNode=F.prototype.sD=function(a){u&&x.i(a,A,F,"getOtherNode:node");var b=this.ja;return a===b?this.na:b};F.prototype.getOtherPort=F.prototype.RK=function(a){u&&x.i(a,U,F,"getOtherPort:port");var b=this.Zc;return a===b?this.Sd:b};x.u(F,{oL:"isLabeledLink"},function(){return this.Fe===p?q:0<this.Fe.count});x.u(F,{Si:"labelNodes"},function(){return this.Fe===p?x.If:this.Fe.l});function bm(a,b){a.Fe===p&&(a.Fe=new qa(A));a.Fe.add(b);a.U()}
F.prototype.ns=function(){z.prototype.ns.call(this);om(this)&&Lg(this,this.ya);var a=this.Lf,b=this.Zf;if(a!==p){var c=this.Zc;c!==p&&(c.Od=p);$l(a,this,c);mm(this)}b!==p&&(c=this.Sd,c!==p&&(c.Od=p),$l(b,this,c),mm(this))};F.prototype.os=function(){z.prototype.os.call(this);om(this)&&Lg(this,this.ya);var a=this.Lf,b=this.Zf;if(a!==p){var c=this.Zc;c!==p&&(c.Od=p);am(a,this,c);lm(this)}b!==p&&(c=this.Sd,c!==p&&(c.Od=p),am(b,this,c),lm(this))};
F.prototype.bm=function(){if(this.Fe!==p){var a=this.h;if(a===p)return;for(var b=this.Fe.copy().l;b.next();)a.remove(b.value)}b=this.data;b!==p&&(a=this.h,a!==p&&(a=a.da,a instanceof T?a.cI(b):a instanceof $d&&a.Ff(b,f)))};F.prototype.move=F.prototype.move=function(a){var b=this.position,c=b.x;isNaN(c)&&(c=0);b=b.y;isNaN(b)&&(b=0);c=a.x-c;b=a.y-b;z.prototype.move.call(this,a);this.el(c,b);for(a=this.Si;a.next();){var d=a.value,e=d.position;d.move(new K(e.x+c,e.y+b))}};x.g(F,"relinkableFrom",F.prototype.pE);
x.defineProperty(F,{pE:"relinkableFrom"},t("Rq"),function(a){var b=this.Rq;b!==a&&(u&&x.k(a,"boolean",F,"relinkableFrom"),this.Rq=a,this.j("relinkableFrom",b,a))});x.g(F,"relinkableTo",F.prototype.qE);x.defineProperty(F,{qE:"relinkableTo"},t("Sq"),function(a){var b=this.Sq;b!==a&&(u&&x.k(a,"boolean",F,"relinkableTo"),this.Sq=a,this.j("relinkableTo",b,a))});F.prototype.canRelinkFrom=F.prototype.tJ=function(){if(!this.pE)return q;var a=this.Ka;if(a!==p&&!a.Hj)return q;a=a.h;return a!==p&&!a.Hj?q:i};
F.prototype.canRelinkTo=F.prototype.uJ=function(){if(!this.qE)return q;var a=this.Ka;if(a!==p&&!a.Hj)return q;a=a.h;return a!==p&&!a.Hj?q:i};x.u(F,{path:"path"},function(){var a=this.wh;if(a!==p)return a;a=this.xa;a=Sj(this,a,a.length);return a instanceof V?this.wh=a:p});F.prototype.Pp=t("path");F.prototype.ox=t("Oc");F.prototype.ei=function(){pm(this);var a=this.re();return this.Wx=a};
F.prototype.re=function(){var a=Infinity,b=Infinity,c=this.oa,d;if(0===c)return new L(NaN,NaN,0,0);if(1===c)c=this.p(0),a=Math.min(c.x,a),b=Math.min(c.y,b),d=new L(c.x,c.y,0,0);else if(2===c){d=this.p(0);var e=this.p(1),a=Math.min(d.x,e.x),b=Math.min(d.y,e.y);d=new L(d,e)}else if(qm(this)===lk&&3<=c&&!Rg(this))if(e=this.p(0),a=e.x,b=e.y,d=new L(a,b,0,0),3===c){var c=this.p(1),a=Math.min(c.x,a),b=Math.min(c.y,b),g=this.p(2),a=Math.min(g.x,a),b=Math.min(g.y,b);tc(e.x,e.y,c.x,c.y,c.x,c.y,g.x,g.y,0.5,
d)}else for(var h,j,k=3;k<c;k+=3)h=this.p(k-2),k+3>=c&&(k=c-1),j=this.p(k-1),g=this.p(k),tc(e.x,e.y,h.x,h.y,j.x,j.y,g.x,g.y,0.5,d),a=Math.min(g.x,a),b=Math.min(g.y,b),e=g;else{d=this.p(0);e=this.p(1);a=Math.min(d.x,e.x);b=Math.min(d.y,e.y);d=new L(d,e);for(k=2;k<c;k++)e=this.p(k),a=Math.min(e.x,a),b=Math.min(e.y,b),d.kw(e)}this.Xu.Y(a-d.x,b-d.y);return d};x.u(F,{bE:"midPoint"},function(){pm(this);return rm(this)});
function rm(a){var b=a.oa;if(0===b)return mc;if(1===b)return a.p(0);if(2===b){var c=a.p(0),d=a.p(1);return new K((c.x+d.x)/2,(c.y+d.y)/2)}if(qm(a)===lk&&3<=b&&!Rg(a)){if(3===b)return a.p(1);var c=(b-1)/3|0,e=3*(c/2|0);if(1===c%2){var c=a.p(e),d=a.p(e+1),g=a.p(e+2),a=a.p(e+3),e=new K,b=d.x,h=d.y,d=g.x,j=g.y,g=(b+d)/2,k=(h+j)/2,h=((c.y+h)/2+k)/2,j=(k+(j+a.y)/2)/2;e.x=(((c.x+b)/2+g)/2+(g+(d+a.x)/2)/2)/2;e.y=(h+j)/2;return e}return a.p(e)}e=0;g=[];for(h=0;h<b-1;h++)c=a.p(h),d=a.p(h+1),Ta(c.x,d.x)?(c=
d.y-c.y,0>c&&(c=-c)):Ta(c.y,d.y)?(c=d.x-c.x,0>c&&(c=-c)):c=Math.sqrt(c.cm(d)),g.push(c),e+=c;for(d=h=c=0;c<e/2&&h<b;){d=g[h];if(c+d>e/2)break;c+=d;h++}b=a.p(h);a=a.p(h+1);if(b.x===a.x)return b.y>a.y?new K(b.x,b.y-(e/2-c)):new K(b.x,b.y+(e/2-c));if(b.y===a.y)return b.x>a.x?new K(b.x-(e/2-c),b.y):new K(b.x+(e/2-c),b.y);c=(e/2-c)/d;return new K(b.x+c*(a.x-b.x),b.y+c*(a.y-b.y))}x.u(F,{aE:"midAngle"},function(){pm(this);return sm(this)});
function sm(a){var b=a.oa;if(2>b)return NaN;if(qm(a)===lk&&4<=b&&!Rg(a)){var c=(b-1)/3|0,d=3*(c/2|0);if(1===c%2){var d=Math.floor(d),b=a.p(d),e=a.p(d+1),c=a.p(d+2),a=a.p(d+3),d=e.x,e=e.y,g=c.x,c=c.y,h=(d+g)/2,j=(e+c)/2;return bb(((b.x+d)/2+h)/2,((b.y+e)/2+j)/2,(h+(g+a.x)/2)/2,(j+(c+a.y)/2)/2)}if(0<d&&d+1<b)return b=a.p(d-1),e=a.p(d+1),b.Hi(e)}c=b/2|0;if(0===b%2)return b=a.p(c-1),e=a.p(c),b.Hi(e);b=a.p(c-1);e=a.p(c);c=a.p(c+1);a=b.cm(e);d=e.cm(c);return a>d?b.Hi(e):e.Hi(c)}x.g(F,"points",F.prototype.points);
x.defineProperty(F,{points:"points"},t("Oc"),function(a){u&&x.i(a,H,F,"points");var b=this.Oc;if(b!==a&&a!==p){for(var c=a.l;c.next();){var d=c.value;d.freeze()}a.freeze();this.Oc=a.copy();this.gg();tm(this);for(var c=a.count,e=new H,g=0;g<c;g++)d=a.o[g],e.add(d.copy());this.j("points",b,e)}});x.u(F,{oa:"pointsCount"},function(){return this.Oc.count});F.prototype.getPoint=F.prototype.p=function(a){return this.Oc.o[a]};
F.prototype.setPoint=F.prototype.L=function(a,b){u&&(x.i(b,K,F,"setPoint"),b.R()||x.m("Link.setPoint called with a Point that does not have real numbers: "+b.toString()));this.Pg===p&&x.m("Call Link.startRoute before modifying the points of the route.");this.Oc.dw(a,b)};
F.prototype.insertPoint=F.prototype.A=function(a,b){u&&(x.i(b,K,F,"insertPoint"),b.R()||x.m("Link.insertPoint called with a Point that does not have real numbers: "+b.toString()));this.Pg===p&&x.m("Call Link.startRoute before modifying the points of the route.");this.Oc.Bc(a,b)};
F.prototype.addPoint=F.prototype.Bd=function(a){u&&(x.i(a,K,F,"addPoint"),a.R()||x.m("Link.addPoint called with a Point that does not have real numbers: "+a.toString()));this.Pg===p&&x.m("Call Link.startRoute before modifying the points of the route.");this.Oc.add(a)};F.prototype.removePoint=F.prototype.vE=function(a){this.Pg===p&&x.m("Call Link.startRoute before modifying the points of the route.");this.Oc.Ve(a)};
F.prototype.clearPoints=F.prototype.Xn=function(){this.Pg===p&&x.m("Call Link.startRoute before modifying the points of the route.");this.Oc.clear()};F.prototype.movePoints=F.prototype.el=function(a,b){for(var c=new H(K),d=this.Oc.l;d.next();){var e=d.value;c.add(new K(e.x+a,e.y+b))}this.points=c};F.prototype.startRoute=F.prototype.jl=function(){if(this.Pg===p){for(var a=new H(K),b=this.Oc.l;b.next();)a.add(b.value.Q());this.Pg=a;this.Oc.Oa()}};
F.prototype.commitRoute=F.prototype.Fi=function(){if(this.Pg!==p){for(var a=this.Pg,b=Infinity,c=Infinity,d=a.count,e=0;e<d;e++)var g=a.o[e],b=Math.min(g.x,b),c=Math.min(g.y,c);for(var h=Infinity,j=Infinity,k=this.Oc,l=k.count,e=0;e<l;e++)g=k.o[e],h=Math.min(g.x,h),j=Math.min(g.y,j);if(l===d)for(e=0;e<l;e++)if(g=a.o[e],d=k.o[e],g.x-b!==d.x-h||g.y-c!==d.y-j){this.gg();break}this.Pg=p;this.Oc.freeze();tm(this);b=new H(K);for(e=0;e<l;e++)g=k.o[e],b.add(g.copy());this.j("points",a,b)}};
F.prototype.rollbackRoute=F.prototype.gI=function(){this.Pg=p};function tm(a){0===a.Oc.count?a.Bi=q:(a.Bi=i,um(a,q))}F.prototype.invalidateRoute=F.prototype.Zb=function(){if(!this.zn&&(!this.h||!this.h.wa.zb)&&this.tb()){this.Bi=q;this.gg();var a=this.Pp();a!==p&&a.U()}};function pm(a){if(!a.Bi&&!a.Uw){var b=i;try{a.Uw=i,a.jl(),b=a.computePoints()}finally{a.Uw=q,b?a.Fi():a.gI()}}}
F.prototype.computePoints=F.prototype.OJ=function(){var a=this.ja,b=p,b=a===p?p:this.Zc;if(b!==p){var c=ck(b);c===a||!a.tb()?(c=Nl(a),c!==p&&c!==a?(a=c,b=c.es("")):a=c):b=c}this.aC=a;if(a===p||b===p||!a.location.R())return q;var d=this.na,e=p,e=d===p?p:this.Sd;e!==p&&(c=ck(e),c===d||!d.tb()?(c=Nl(d),c!==p&&c!==d?(d=c,e=c.es("")):d=c):e=c);this.cC=d;if(d===p||e===p||!d.location.R())return q;var g=this.oa,h=vm(this,b),c=wm(this,e),j=b===e,k=Rg(this),l=this.yf===lk;this.ci=j&&!k?l=i:q;var m=this.fv===
kj||j;if(!k&&h===Bb&&c===Bb&&!j){if(c=q,!m&&3<=g&&(c=this.getLinkPoint(a,b,Bb,i,q,d,e),j=this.getLinkPoint(d,e,Bb,q,q,a,b),c=xm(this,0,c,g-1,j)),!c)if(this.Xn(),l){var c=a,j=b,k=d,l=e,d=this.getLinkPoint(c,j,Bb,i,q,k,l),a=this.getLinkPoint(k,l,Bb,q,q,c,j),e=a.x-d.x,b=a.y-d.y,g=this.computeCurviness(),n=m=0,h=d.x+e/3,r=d.y+b/3,s=h,v=r;Ua(b,0)?v=0<e?v-g:v+g:(m=-e/b,n=Math.sqrt(g*g/(m*m+1)),0>g&&(n=-n),s=(0>b?-1:1)*n+h,v=m*(s-h)+r);var h=d.x+2*e/3,r=d.y+2*b/3,y=h,C=r;Ua(b,0)?C=0<e?C-g:C+g:(y=(0>b?-1:
1)*n+h,C=m*(y-h)+r);this.Xn();this.Bd(d);this.Bd(new K(s,v));this.Bd(new K(y,C));this.Bd(a);this.L(0,this.getLinkPoint(c,j,Bb,i,q,k,l));this.L(3,this.getLinkPoint(k,l,Bb,q,q,c,j))}else j=a,k=b,l=d,d=e,c=this.getLinkPoint(j,k,Bb,i,q,l,d),j=this.getLinkPoint(l,d,Bb,q,q,j,k),this.hasCurviness()?(b=j.x-c.x,k=j.y-c.y,l=this.computeCurviness(),d=c.x+b/2,a=c.y+k/2,e=d,g=a,Ua(k,0)?g=0<b?g-l:g+l:(b=-b/k,e=Math.sqrt(l*l/(b*b+1)),0>l&&(e=-e),e=(0>k?-1:1)*e+d,g=b*(e-d)+a),this.Bd(c),this.Bd(new K(e,g))):this.Bd(c),
this.Bd(j)}else{s=this.Qh===Ef;m&&(k&&s||j)&&this.Xn();var D=this.computeCurviness(),v=this.getLinkPoint(a,b,h,i,k,d,e),r=C=y=0;if(k||h!==Bb||j)l=this.getEndSegmentLength(a,b,h,i),r=this.getLinkDirection(a,b,v,h,i,k,d,e),j&&(r-=k?90:30,0>D&&(r-=180)),0>r?r+=360:360<=r&&(r-=360),j&&(l+=Math.abs(D)),0===r?y=l:90===r?C=l:180===r?y=-l:270===r?C=-l:(y=l*Math.cos(r*Math.PI/180),C=l*Math.sin(r*Math.PI/180)),yb(h)&&j&&(l=b.Tb(Kb),v=this.getLinkPointFromPoint(a,b,l,new K(l.x+1E3*y,l.y+1E3*C),i));var l=this.getLinkPoint(d,
e,c,q,k,a,b),I=0,E=0,n=0;if(k||c!==Bb||j){var M=this.getEndSegmentLength(d,e,c,q),n=this.getLinkDirection(d,e,l,c,q,k,a,b);j&&(n+=k?0:30,0>D&&(n+=180));0>n?n+=360:360<=n&&(n-=360);j&&(M+=Math.abs(D));0===n?I=M:90===n?E=M:180===n?I=-M:270===n?E=-M:(I=M*Math.cos(n*Math.PI/180),E=M*Math.sin(n*Math.PI/180));yb(c)&&j&&(l=e.Tb(Kb),l=this.getLinkPointFromPoint(d,e,l,new K(l.x+1E3*I,l.y+1E3*E),q))}b=v;if(k||h!==Bb||j)b=new K(v.x+y,v.y+C);e=l;if(k||c!==Bb||j)e=new K(l.x+I,l.y+E);if(m||k||!yb(h)||!(3<g&&xm(this,
0,v,g-2,e)))if(!m&&!k&&yb(c)&&3<g&&xm(this,1,b,g-1,l))this.L(0,v);else if(!m&&!k&&4<g&&xm(this,1,b,g-2,e))this.L(0,v),this.L(g-1,l);else if(!m&&k&&6<=g&&!s&&xm(this,1,b,g-2,e))this.L(0,v),this.L(g-1,l);else{this.Xn();this.Bd(v);(k||h!==Bb||j)&&this.Bd(b);if(k)a:if(m=r,g=e,h=a,r=d,m=-45<=m&&45>m?0:45<=m&&135>m?90:135<=m&&225>m?180:270,n=-45<=n&&45>n?0:45<=n&&135>n?90:135<=n&&225>n?180:270,d=h.ya.copy(),a=r.ya.copy(),d.R()&&a.R()){d.Wg(8,8);a.Wg(8,8);d.kw(b);a.kw(g);s=this.h;if(this.Qh===Ef&&(s!==p&&
!d.Aa(g)&&!a.Aa(b)&&h!==r&&!this.Ka.Cc)&&(h=la(s,i,this),r=d.copy().Yi(a),r.Wg(2*h.Xl,2*h.Wl),ym(h,b,m,g,n,r),s=zm(h,g.x,g.y),!h.abort&&s===na&&(bj(h),s=h.LE,r.Wg(h.Xl*s,h.Wl*s),ym(h,b,m,g,n,r),s=zm(h,g.x,g.y)),!h.abort&&s===na&&(bj(h),s=h.PD,r.Wg(h.Xl*s,h.Wl*s),ym(h,b,m,g,n,r),s=zm(h,g.x,g.y)),!h.abort&&(s===na&&h.hF)&&(bj(h),ym(h,b,m,g,n,h.Kb),s=zm(h,g.x,g.y)),!h.abort&&s<na&&zm(h,g.x,g.y)!==ma)){Am(this,h,g.x,g.y,n,i);a=this.p(2);if(4>this.oa)0===m||180===m?(a.x=b.x,a.y=g.y):(a.x=g.x,a.y=b.y),
this.L(2,a),this.A(3,a);else if(d=this.p(3),0===m||180===m)Ua(a.x,d.x)?(a=0===m?Math.max(a.x,b.x):Math.min(a.x,b.x),this.L(2,new K(a,b.y)),this.L(3,new K(a,d.y))):Ua(a.y,d.y)?(Math.abs(b.y-a.y)<=h.Wl/2&&(this.L(2,new K(a.x,b.y)),this.L(3,new K(d.x,b.y))),this.A(2,new K(a.x,b.y))):this.L(2,new K(b.x,a.y));else if(90===m||270===m)Ua(a.y,d.y)?(a=90===m?Math.max(a.y,b.y):Math.min(a.y,b.y),this.L(2,new K(b.x,a)),this.L(3,new K(d.x,a))):Ua(a.x,d.x)?(Math.abs(b.x-a.x)<=h.Xl/2&&(this.L(2,new K(b.x,a.y)),
this.L(3,new K(b.x,d.y))),this.A(2,new K(b.x,a.y))):this.L(2,new K(a.x,b.y));break a}if(0===m)if(g.x>b.x||270===n&&g.y<b.y&&a.right>b.x||90===n&&g.y>b.y&&a.right>b.x)m=new K(g.x,b.y),h=new K(g.x,(b.y+g.y)/2),180===n?(m.x=Bm(this,b.x,g.x),h.x=m.x,h.y=g.y):270===n&&g.y<b.y||90===n&&g.y>b.y?(m.x=b.x<a.left?Bm(this,b.x,a.left):b.x<a.right&&(270===n&&b.y<a.top||90===n&&b.y>a.bottom)?Bm(this,b.x,g.x):a.right,h.x=m.x,h.y=g.y):0===n&&(b.x<a.left&&b.y>a.top&&b.y<a.bottom)&&(m.x=b.x,m.y=b.y<g.y?Math.min(g.y,
a.top):Math.max(g.y,a.bottom),h.y=m.y);else{m=new K(b.x,g.y);h=new K((b.x+g.x)/2,g.y);if(180===n||90===n&&g.y<d.top||270===n&&g.y>d.bottom){if(180===n&&(a.Aa(b)||d.Aa(g)))m.y=Bm(this,b.y,g.y);else if(g.y<b.y&&(180===n||90===n))m.y=Bm(this,d.top,Math.max(g.y,a.bottom));else if(g.y>b.y&&(180===n||270===n))m.y=Bm(this,d.bottom,Math.min(g.y,a.top));h.x=g.x;h.y=m.y}if(m.y>d.top&&m.y<d.bottom)if(g.x>=d.left&&g.x<=b.x||b.x<=a.right&&b.x>=g.x){if(90===n||270===n)m=new K(Math.max((b.x+g.x)/2,b.x),b.y),h=new K(m.x,
g.y)}else m.y=270===n||(0===n||180===n)&&g.y<b.y?Math.min(g.y,0===n?d.top:Math.min(d.top,a.top)):Math.max(g.y,0===n?d.bottom:Math.max(d.bottom,a.bottom)),h.x=g.x,h.y=m.y}else if(180===m)if(g.x<b.x||270===n&&g.y<b.y&&a.left<b.x||90===n&&g.y>b.y&&a.left<b.x)m=new K(g.x,b.y),h=new K(g.x,(b.y+g.y)/2),0===n?(m.x=Bm(this,b.x,g.x),h.x=m.x,h.y=g.y):270===n&&g.y<b.y||90===n&&g.y>b.y?(m.x=b.x>a.right?Bm(this,b.x,a.right):b.x>a.left&&(270===n&&b.y<a.top||90===n&&b.y>a.bottom)?Bm(this,b.x,g.x):a.left,h.x=m.x,
h.y=g.y):180===n&&(b.x>a.right&&b.y>a.top&&b.y<a.bottom)&&(m.x=b.x,m.y=b.y<g.y?Math.min(g.y,a.top):Math.max(g.y,a.bottom),h.y=m.y);else{m=new K(b.x,g.y);h=new K((b.x+g.x)/2,g.y);if(0===n||90===n&&g.y<d.top||270===n&&g.y>d.bottom){if(0===n&&(a.Aa(b)||d.Aa(g)))m.y=Bm(this,b.y,g.y);else if(g.y<b.y&&(0===n||90===n))m.y=Bm(this,d.top,Math.max(g.y,a.bottom));else if(g.y>b.y&&(0===n||270===n))m.y=Bm(this,d.bottom,Math.min(g.y,a.top));h.x=g.x;h.y=m.y}if(m.y>d.top&&m.y<d.bottom)if(g.x<=d.right&&g.x>=b.x||
b.x>=a.left&&b.x<=g.x){if(90===n||270===n)m=new K(Math.min((b.x+g.x)/2,b.x),b.y),h=new K(m.x,g.y)}else m.y=270===n||(0===n||180===n)&&g.y<b.y?Math.min(g.y,180===n?d.top:Math.min(d.top,a.top)):Math.max(g.y,180===n?d.bottom:Math.max(d.bottom,a.bottom)),h.x=g.x,h.y=m.y}else if(90===m)if(g.y>b.y||180===n&&g.x<b.x&&a.bottom>b.y||0===n&&g.x>b.x&&a.bottom>b.y)m=new K(b.x,g.y),h=new K((b.x+g.x)/2,g.y),270===n?(m.y=Bm(this,b.y,g.y),h.x=g.x,h.y=m.y):180===n&&g.x<b.x||0===n&&g.x>b.x?(m.y=b.y<a.top?Bm(this,b.y,
a.top):b.y<a.bottom&&(180===n&&b.x<a.left||0===n&&b.x>a.right)?Bm(this,b.y,g.y):a.bottom,h.x=g.x,h.y=m.y):90===n&&(b.y<a.top&&b.x>a.left&&b.x<a.right)&&(m.x=b.x<g.x?Math.min(g.x,a.left):Math.max(g.x,a.right),m.y=b.y,h.x=m.x);else{m=new K(g.x,b.y);h=new K(g.x,(b.y+g.y)/2);if(270===n||0===n&&g.x<d.left||180===n&&g.x>d.right){if(270===n&&(a.Aa(b)||d.Aa(g)))m.x=Bm(this,b.x,g.x);else if(g.x<b.x&&(270===n||0===n))m.x=Bm(this,d.left,Math.max(g.x,a.right));else if(g.x>b.x&&(270===n||180===n))m.x=Bm(this,
d.right,Math.min(g.x,a.left));h.x=m.x;h.y=g.y}if(m.x>d.left&&m.x<d.right)if(g.y>=d.top&&g.y<=b.y||b.y<=a.bottom&&b.y>=g.y){if(0===n||180===n)m=new K(b.x,Math.max((b.y+g.y)/2,b.y)),h=new K(g.x,m.y)}else m.x=180===n||(90===n||270===n)&&g.x<b.x?Math.min(g.x,90===n?d.left:Math.min(d.left,a.left)):Math.max(g.x,90===n?d.right:Math.max(d.right,a.right)),h.x=m.x,h.y=g.y}else if(g.y<b.y||180===n&&g.x<b.x&&a.top<b.y||0===n&&g.x>b.x&&a.top<b.y)m=new K(b.x,g.y),h=new K((b.x+g.x)/2,g.y),90===n?(m.y=Bm(this,b.y,
g.y),h.x=g.x,h.y=m.y):180===n&&g.x<b.x||0===n&&g.x>=b.x?(m.y=b.y>a.bottom?Bm(this,b.y,a.bottom):b.y>a.top&&(180===n&&b.x<a.left||0===n&&b.x>a.right)?Bm(this,b.y,g.y):a.top,h.x=g.x,h.y=m.y):270===n&&(b.y>a.bottom&&b.x>a.left&&b.x<a.right)&&(m.x=b.x<g.x?Math.min(g.x,a.left):Math.max(g.x,a.right),m.y=b.y,h.x=m.x);else{m=new K(g.x,b.y);h=new K(g.x,(b.y+g.y)/2);if(90===n||0===n&&g.x<d.left||180===n&&g.x>d.right){if(90===n&&(a.Aa(b)||d.Aa(g)))m.x=Bm(this,b.x,g.x);else if(g.x<b.x&&(90===n||0===n))m.x=Bm(this,
d.left,Math.max(g.x,a.right));else if(g.x>b.x&&(90===n||180===n))m.x=Bm(this,d.right,Math.min(g.x,a.left));h.x=m.x;h.y=g.y}if(m.x>d.left&&m.x<d.right)if(g.y<=d.bottom&&g.y>=b.y||b.y>=a.top&&b.y<=g.y){if(0===n||180===n)m=new K(b.x,Math.min((b.y+g.y)/2,b.y)),h=new K(g.x,m.y)}else m.x=180===n||(90===n||270===n)&&g.x<b.x?Math.min(g.x,270===n?d.left:Math.min(d.left,a.left)):Math.max(g.x,270===n?d.right:Math.max(d.right,a.right)),h.x=m.x,h.y=g.y}this.Bd(m);this.Bd(h)}(k||c!==Bb||j)&&this.Bd(e);this.Bd(l)}}return i};
function Cm(a,b){Math.abs(b.x-a.x)>Math.abs(b.y-a.y)?(b.x=b.x>=a.x?a.x+9E9:a.x-9E9,b.y=a.y):(b.y=b.y>=a.y?a.y+9E9:a.y-9E9,b.x=a.x);return b}
F.prototype.getLinkPointFromPoint=F.prototype.QK=function(a,b,c,d){if(a===p||b===p)return c;if(!a.tb()){var e=Nl(a);e!==p&&e!==a&&(b=e.port)}var g,a=p;if(b.ea===p)e=d.x,d=d.y,g=c.x,c=c.y;else{a=b.ea.le;e=1/(a.m11*a.m22-a.m12*a.m21);g=a.m22*e;var h=-a.m12*e,j=-a.m21*e,k=a.m11*e,l=e*(a.m21*a.dy-a.m22*a.dx),m=e*(a.m12*a.dx-a.m11*a.dy),e=d.x*g+d.y*j+l,d=d.x*h+d.y*k+m;g=c.x*g+c.y*j+l;c=c.x*h+c.y*k+m}h=new K;b.js(e,d,g,c,h);a&&h.transform(a);return h};
function Dm(a,b){var c=a.Od;c===p&&(c=new Em,c.port=a,c.bh=a.fa,a.Od=c);return Fm(c,b)}F.prototype.getLinkPoint=F.prototype.PK=function(a,b,c,d,e,g,h){if(wb(c))return c=b.Tb(c);if(xb(c)&&(c=Dm(b,this),c!==p))return c=c.uo;c=b.Tb(Kb);this.oa>(e?6:2)?(h=d?this.p(1):this.p(this.oa-2),e&&(h=Cm(c,h.copy()))):(h=h.Tb(Kb),e&&(h=Cm(c,h)));return this.getLinkPointFromPoint(a,b,c,h,d)};
F.prototype.getLinkDirection=F.prototype.OK=function(a,b,c,d,e,g,h,j){a:if(wb(d))c=d.x>d.y?d.x>1-d.y?0:d.x<1-d.y?270:315:d.x<d.y?d.x>1-d.y?90:d.x<1-d.y?180:135:0.5>d.x?225:0.5<d.x?45:0;else{if(xb(d)&&(d=Dm(b,this),d!==p))switch(d.he){case x.sd:c=270;break a;case x.Vc:c=180;break a;default:case x.ed:c=0;break a;case x.dd:c=90;break a}d=b.Tb(Kb);this.oa>(g?6:2)?(j=e?this.p(1):this.p(this.oa-2),j=g?Cm(d,j.copy()):c):j=j.Tb(Kb);c=Math.abs(j.x-d.x)>Math.abs(j.y-d.y)?j.x>=d.x?0:180:j.y>=d.y?90:270}g=Wl;
g=e?this.hs:this.Vs;g===Wl&&(g=e?b.hs:b.Vs);switch(g){case Xl:a=a.angle;c+=a;360<=c&&(c-=360);break;case Wl:case jj:a=a.angle;if(0===a)break;45<=a&&135>a?c+=90:135<=a&&225>a?c+=180:225<=a&&315>a&&(c+=270);360<=c&&(c-=360)}return c};F.prototype.getEndSegmentLength=F.prototype.NK=function(a,b,c,d){if(xb(c)&&(a=Dm(b,this),a!==p))return a.zv;a=NaN;a=d?this.Zk:this.kl;isNaN(a)&&(a=d?b.Zk:b.kl);isNaN(a)&&(a=10);return a};
function vm(a,b){var c=a.qb;Ab(c)&&(b===f&&(b=a.Zc),b!==p&&(c=b.qb));return c===Cb?Bb:c}function wm(a,b){var c=a.ub;Ab(c)&&(b===f&&(b=a.Sd),b!==p&&(c=b.ub));return c===Cb?Bb:c}function Gm(a){var b=a.is;isNaN(b)&&(a=a.Zc,a!==p&&(b=a.is));return isNaN(b)?0:b}function Hm(a){var b=a.Ws;isNaN(b)&&(a=a.Sd,a!==p&&(b=a.Ws));return isNaN(b)?0:b}function Rg(a){a=a.on;return a===kk||a===Ef}function qm(a){if(a.ci===p){var b=Rg(a);a.ci=a.Zc===a.Sd&&!b}return a.ci?lk:a.yf}
function Im(a){if(a.yf===lk)return 0;a=a.MC;if(isNaN(a)||0>a)a=10;return a}F.prototype.computeCurviness=F.prototype.IJ=function(){var a=this.$y;if(isNaN(a)){var b=this.Ae;if(0!==b){var c=this.sl,a=c!==p?c.spacing:10,c=Math.abs(b),a=a/2+((c-1)/2|0)*a;0===c%2&&(a=-a);0>b&&(a=-a)}else a=10}return a};F.prototype.hasCurviness=F.prototype.YK=function(){return!isNaN(this.$y)||0!==this.Ae&&!Rg(this)};
function xm(a,b,c,d,e){var g=a.fv;if(Rg(a)){if(g===pk)return q;g===qk&&(g=ok)}switch(g){case pk:var h=a.p(b),j=a.p(d);if(!h.K(c)||!j.K(e)){var g=h.x,h=h.y,k=j.x-g,l=j.y-h,m=Math.sqrt(k*k+l*l);if(!Ua(m,0)){var n;Ua(k,0)?n=0>l?-Math.PI/2:Math.PI/2:(n=Math.atan(l/Math.abs(k)),0>k&&(n=Math.PI-n));var j=c.x,r=c.y,k=e.x-j,s=e.y-r,l=Math.sqrt(k*k+s*s);Ua(k,0)?s=0>s?-Math.PI/2:Math.PI/2:(s=Math.atan(s/Math.abs(k)),0>k&&(s=Math.PI-s));m=l/m;n=s-n;a.L(b,c);for(b+=1;b<d;b++)c=a.p(b),k=c.x-g,l=c.y-h,c=Math.sqrt(k*
k+l*l),Ua(c,0)||(Ua(k,0)?l=0>l?-Math.PI/2:Math.PI/2:(l=Math.atan(l/Math.abs(k)),0>k&&(l=Math.PI-l)),k=l+n,c*=m,a.L(b,new K(j+c*Math.cos(k),r+c*Math.sin(k))));a.L(d,e)}}return i;case qk:h=a.p(b);r=a.p(d);if(!h.K(c)||!r.K(e)){g=h.x;h=h.y;j=r.x;r=r.y;m=(j-g)*(j-g)+(r-h)*(r-h);k=c.x;n=c.y;var l=e.x,s=e.y,v=0,y=1,v=0!==l-k?(s-n)/(l-k):9E9;0!==v&&(y=Math.sqrt(1+1/(v*v)));a.L(b,c);for(b+=1;b<d;b++){var c=a.p(b),C=c.x,D=c.y,I=0.5;0!==m&&(I=((g-C)*(g-j)+(h-D)*(h-r))/m);var E=g+I*(j-g),M=h+I*(r-h),c=Math.sqrt((C-
E)*(C-E)+(D-M)*(D-M));D<v*(C-E)+M&&(c=-c);0<v&&(c=-c);C=k+I*(l-k);I=n+I*(s-n);0!==v?(c=C+c/y,a.L(b,new K(c,I-(c-C)/v))):a.L(b,new K(C,I+c))}a.L(d,e)}return i;case ok:return Rg(a)&&(g=a.p(b+1),h=a.p(b+2),Ua(g.x,h.x)&&!Ua(g.y,h.y)?a.L(b+1,new K(g.x,c.y)):Ua(g.y,h.y)&&a.L(b+1,new K(c.x,g.y)),g=a.p(d-1),h=a.p(d-2),Ua(g.x,h.x)&&!Ua(g.y,h.y)?a.L(d-1,new K(g.x,e.y)):Ua(g.y,h.y)&&a.L(d-1,new K(e.x,g.y))),a.L(b,c),a.L(d,e),i;default:return q}}
function Bm(a,b,c){return a.hasCurviness()?(a=a.computeCurviness(),(b+c)/2+a):(b+c)/2}
function Am(a,b,c,d,e,g){var h=b.Xl,j=b.Wl,k=zm(b,c,d),l=c,m=d;for(0===e?l+=h:90===e?m+=j:180===e?l-=h:m-=j;k>Jm&&zm(b,l,m)===k-Km;)c=l,d=m,0===e?l+=h:90===e?m+=j:180===e?l-=h:m-=j,k-=Km;if(g){if(k>Jm)if(180===e||0===e)c=Math.floor(c/h)*h+h/2;else if(90===e||270===e)d=Math.floor(d/j)*j+j/2}else c=Math.floor(c/h)*h+h/2,d=Math.floor(d/j)*j+j/2;k>Jm&&(g=e,l=c,m=d,0===e?(g=90,m+=j):90===e?(g=180,l-=h):180===e?(g=270,m-=j):270===e&&(g=0,l+=h),zm(b,l,m)===k-Km?Am(a,b,l,m,g,q):(l=c,m=d,0===e?(g=270,m-=j):
90===e?(g=0,l+=h):180===e?(g=90,m+=j):270===e&&(g=180,l-=h),zm(b,l,m)===k-Km&&Am(a,b,l,m,g,q)));a.Bd(new K(c,d))}F.prototype.findClosestSegment=F.prototype.wK=function(a){u&&x.i(a,K,F,"findClosestSegment:p");for(var b=a.x,a=a.y,c=this.p(0),d=this.p(1),e=ab(b,a,c.x,c.y,d.x,d.y),g=0,h=1;h<this.oa-1;h++){var c=this.p(h+1),j=ab(b,a,d.x,d.y,c.x,c.y),d=c;j<e&&(g=h,e=j)}return g};F.prototype.invalidateGeometry=F.prototype.gg=function(){this.wh=this.La=p;this.U()};
x.u(F,{$c:"geometry"},function(){this.La===p&&(pm(this),this.La=Lm(this));return this.La});F.prototype.Qv=function(){if(this.La===p&&this.Bi!==q){this.La=Lm(this);var a=this.Pp();if(a!==p){a.La=this.La;for(var b=this.xa,c=b.length,d=0;d<c;d++){var e=b.o[d];e!==a&&(e.Nh&&e instanceof V)&&(e.La=this.La)}}}};
function Lm(a){var b=a.oa;if(2>b){var a=new Tc(Uc),c=new Vc(0,0);a.yb.add(c);return a}var d,e=a.p(0).copy(),g=new K(Infinity,Infinity);g.x=Math.min(e.x,g.x);g.y=Math.min(e.y,g.y);var h=qm(a);if(h===lk&&3<=b&&!Ta(a.Ss,0))if(3===b){var j=a.p(1),c=Math.min(e.x,j.x);d=Math.min(e.y,j.y);j=a.p(2);c=Math.min(c,j.x);d=Math.min(d,j.y)}else{if(Rg(a))for(j=0;j<b;j++)c=a.Oc.o[j],g.x=Math.min(c.x,g.x),g.y=Math.min(c.y,g.y);else for(var k,j=3;j<b;j+=3)j+3>=b&&(j=b-1),k=a.p(j),g.x=Math.min(k.x,g.x),g.y=Math.min(k.y,
g.y);c=g.x;d=g.y}else{for(j=0;j<b;j++)c=a.Oc.o[j],g.x=Math.min(c.x,g.x),g.y=Math.min(c.y,g.y);c=g.x;d=g.y}c-=a.Xu.x;d-=a.Xu.y;e.x-=c;e.y-=d;if(2===b){var l=a.p(1).copy();l.x-=c;l.y-=d;0!==Gm(a)&&Mm(a,e,i,g);0!==Hm(a)&&Mm(a,l,q,g);a=new Tc(Yc);a.sa=e.x;a.ta=e.y;a.I=l.x;a.J=l.y;return a}l=new P;0!==Gm(a)&&Mm(a,e,i,g);Q(l,e.x,e.y,q,q);if(h===lk&&3<=b&&!Ta(a.Ss,0))if(3===b)j=a.p(1),b=j.x-c,e=j.y-d,j=a.p(2).copy(),j.x-=c,j.y-=d,0!==Hm(a)&&Mm(a,j,q,g),R(l,b,e,b,e,j.x,j.y);else if(Rg(a)){e=new K(c,d);h=
a.p(1).copy();k=new K(c,d);for(var b=new K(c,d),g=a.p(0),m=p,n=a.Ss/3,j=1;j<a.oa-1;j++){var m=a.p(j),r=g,s=m,v=a.p(Nm(a,m,j,q));if(!Ta(r.x,s.x)||!Ta(s.x,v.x))if(!Ta(r.y,s.y)||!Ta(s.y,v.y)){var y=n,C=k,D=b;isNaN(y)&&(y=a.Ss/3);var I=r.x,r=r.y,E=s.x,s=s.y,M=v.x,v=v.y,O=y*Om(I,r,E,s),y=y*Om(E,s,M,v);Ta(r,s)&&Ta(E,M)&&(E>I?v>s?(C.x=E-O,C.y=s-O,D.x=E+y,D.y=s+y):(C.x=E-O,C.y=s+O,D.x=E+y,D.y=s-y):v>s?(C.x=E+O,C.y=s-O,D.x=E-y,D.y=s+y):(C.x=E+O,C.y=s+O,D.x=E-y,D.y=s-y));Ta(I,E)&&Ta(s,v)&&(s>r?(M>E?(C.x=E-
O,C.y=s-O,D.x=E+y):(C.x=E+O,C.y=s-O,D.x=E-y),D.y=s+y):(M>E?(C.x=E-O,C.y=s+O,D.x=E+y):(C.x=E+O,C.y=s+O,D.x=E-y),D.y=s-y));if(Ta(I,E)&&Ta(E,M)||Ta(r,s)&&Ta(s,v))I=0.5*(I+M),r=0.5*(r+v),C.x=I,C.y=r,D.x=I,D.y=r;1===j?(h.x=0.5*(g.x+m.x),h.y=0.5*(g.y+m.y)):2===j&&(Ta(g.x,a.p(0).x)&&Ta(g.y,a.p(0).y))&&(h.x=0.5*(g.x+m.x),h.y=0.5*(g.y+m.y));R(l,h.x-c,h.y-d,k.x-c,k.y-d,m.x-c,m.y-d);e.set(k);h.set(b);g=m}}j=g.x;g=g.y;a=a.p(a.oa-1);j=0.5*(j+a.x);g=0.5*(g+a.y);R(l,b.x-c,b.y-d,j-c,g-d,a.x-c,a.y-d)}else for(j=3;j<
b;j+=3)g=a.p(j-2),j+3>=b&&(j=b-1),e=a.p(j-1),k=a.p(j),j===b-1&&0!==Hm(a)&&(k=k.copy(),Mm(a,k,q,bc)),R(l,g.x-c,g.y-d,e.x-c,e.y-d,k.x-c,k.y-d);else{m=a.p(0);for(j=1;j<b;){j=Nm(a,m,j,1<j);n=a.p(j);if(j>=b-1){m!==n&&(0!==Hm(a)&&(n=n.copy(),Mm(a,n,q,bc)),Pm(a,l,-c,-d,m,n));break}j=Nm(a,n,j+1,j<b-3);g=a;e=l;h=-c;k=-d;C=a.p(j);Ua(m.y,n.y)&&Ua(n.x,C.x)?(D=Im(g),D=Math.min(D,Math.abs(n.x-m.x)/2),D=I=Math.min(D,Math.abs(C.y-n.y)/2),Ua(D,0)?(Pm(g,e,h,k,m,n),m=n):(r=n.x,y=n.y,E=r,s=y,r=n.x>m.x?n.x-D:n.x+D,s=
C.y>n.y?n.y+I:n.y-I,Pm(g,e,h,k,m,new K(r,y)),fd(e,n.x+h,n.y+k,E+h,s+k),m=new K(E,s))):Ua(m.x,n.x)&&Ua(n.y,C.y)?(D=Im(g),I=Math.min(D,Math.abs(n.y-m.y)/2),I=D=Math.min(I,Math.abs(C.x-n.x)/2),Ua(D,0)?(Pm(g,e,h,k,m,n),m=n):(r=n.x,s=y=n.y,y=n.y>m.y?n.y-I:n.y+I,E=C.x>n.x?n.x+D:n.x-D,Pm(g,e,h,k,m,new K(r,y)),fd(e,n.x+h,n.y+k,E+h,s+k),m=new K(E,s))):(Pm(g,e,h,k,m,n),m=n)}}return l.q}
function Om(a,b,c,d){a=c-a;if(isNaN(a)||Infinity===a||-Infinity===a)return NaN;0>a&&(a=-a);b=d-b;if(isNaN(b)||Infinity===b||-Infinity===b)return NaN;0>b&&(b=-b);return Ta(a,0)?b:Ta(b,0)?a:Math.sqrt(a*a+b*b)}
function Mm(a,b,c,d){var e=a.oa;if(!(2>e))if(c){var g=a.p(1),c=g.x-d.x,d=g.y-d.y,g=Om(b.x,b.y,c,d);0!==g&&(e=2===e?0.5*g:g,a=Gm(a),a>e&&(a=e),c=a*(c-b.x)/g,a=a*(d-b.y)/g,b.x+=c,b.y+=a)}else g=a.p(e-2),c=g.x-d.x,d=g.y-d.y,g=Om(b.x,b.y,c,d),0!==g&&(e=2===e?0.5*g:g,a=Hm(a),a>e&&(a=e),c=a*(b.x-c)/g,a=a*(b.y-d)/g,b.x-=c,b.y-=a)}
function Nm(a,b,c,d){for(var e=a.oa,g=b;Ta(b.x,g.x)&&Ta(b.y,g.y);){if(c>=e)return e-1;g=a.p(c++)}if(!Ta(b.x,g.x)&&!Ta(b.y,g.y))return c-1;for(var h=g;Ta(b.x,g.x)&&Ta(g.x,h.x)&&(!d||(b.y>=g.y?g.y>=h.y:g.y<=h.y))||Ta(b.y,g.y)&&Ta(g.y,h.y)&&(!d||(b.x>=g.x?g.x>=h.x:g.x<=h.x));){if(c>=e)return e-1;h=a.p(c++)}return c-2}
function Pm(a,b,c,d,e,g){if(om(a)){var h=new H("number"),j;a:if(j=a.h,j===p)j=0;else{Math.min(e.x,g.x);Math.min(e.y,g.y);Math.max(e.x,g.x);Math.max(e.y,g.y);for(j=j.pm;j.next();){var k=j.value;if(k!==p&&k.visible)for(k=k.Ui;k.next();){var l=k.value;if(l===a){0<h.length&&h.sort(function(a,b){return a-b});j=h.length;break a}if(l instanceof F&&a.tb()&&l.tb()&&om(l)&&a.ei().Oe(l.ei())&&!a.usesSamePort(l)){var m=l.path;if(m!==p&&m.dl())for(var m=e,n=g,r=h,s=l.oa,v=1;v<s;v++){var y=l.p(v-1),C=l.p(v),D=
new K,I;b:{I=m;var E=n,M=D;if(Ua(I.x,E.x)){if(Ua(y.y,C.y)&&Math.min(I.y,E.y)<=y.y&&Math.max(I.y,E.y)>=y.y&&Math.min(y.x,C.x)<=I.x&&Math.max(y.x,C.x)>=I.x&&!Ua(y.x,C.x)){M.x=I.x;M.y=y.y;I=i;break b}}else if(Ua(y.x,C.x)&&Math.min(I.x,E.x)<=y.x&&Math.max(I.x,E.x)>=y.x&&Math.min(y.y,C.y)<=I.y&&Math.max(y.y,C.y)>=I.y&&!Ua(y.y,C.y)){M.x=y.x;M.y=I.y;I=i;break b}M.x=0;M.y=0;I=q}I&&(Ua(m.y,n.y)?r.add(D.x):r.add(D.y))}}}}0<h.length&&h.sort(function(a,b){return a-b});j=h.length}m=e.x;m=e.y;if(0<j)if(Ua(e.y,
g.y))if(e.x<g.x)for(k=0;k<j;){r=Math.max(e.x,Math.min(h.o[k++]-5,g.x-10));b.lineTo(r+c,g.y+d);m=r+c;for(n=Math.min(r+10,g.x);k<j;)if(l=h.o[k],l<n+10)k++,n=Math.min(l+5,g.x);else break;l=(r+n)/2+c;l=g.y-10+d;r=n+c;n=g.y+d;a.yf===mk?Q(b,r,n,q,q):R(b,m,l,r,l,r,n)}else for(k=j-1;0<=k;){r=Math.min(e.x,Math.max(h.o[k--]+5,g.x+10));b.lineTo(r+c,g.y+d);m=r+c;for(n=Math.max(r-10,g.x);0<=k;)if(l=h.o[k],l>n-10)k--,n=Math.max(l-5,g.x);else break;l=g.y-10+d;r=n+c;n=g.y+d;a.yf===mk?Q(b,r,n,q,q):R(b,m,l,r,l,r,n)}else if(Ua(e.x,
g.x))if(e.y<g.y)for(k=0;k<j;){r=Math.max(e.y,Math.min(h.o[k++]-5,g.y-10));b.lineTo(g.x+c,r+d);m=r+d;for(n=Math.min(r+10,g.y);k<j;)if(l=h.o[k],l<n+10)k++,n=Math.min(l+5,g.y);else break;l=g.x-10+c;r=g.x+c;n+=d;a.yf===mk?Q(b,r,n,q,q):R(b,l,m,l,n,r,n)}else for(k=j-1;0<=k;){r=Math.min(e.y,Math.max(h.o[k--]+5,g.y+10));b.lineTo(g.x+c,r+d);m=r+d;for(n=Math.max(r-10,g.y);0<=k;)if(l=h.o[k],l>n-10)k--,n=Math.max(l-5,g.y);else break;l=g.x-10+c;r=g.x+c;n+=d;a.yf===mk?Q(b,r,n,q,q):R(b,l,m,l,n,r,n)}}b.lineTo(g.x+
c,g.y+d)}x.u(F,{Hv:"firstPickIndex"},function(){return 2>=this.oa?0:Rg(this)||vm(this)!==Bb?1:0});x.u(F,{zz:"lastPickIndex"},function(){var a=this.oa;return 0===a?0:2>=a?a-1:Rg(this)||wm(this)!==Bb?a-2:a-1});function om(a){a=a.yf;return a===nk||a===mk}function um(a,b){if(b||om(a)){var c=a.h;c!==p&&(!c.ij.contains(a)&&a.Wx!==p)&&c.ij.add(a,a.Wx)}}
function Lg(a,b){var c=a.Ka;if(!(c===p||!c.visible||c.Cc)){var d=c.h;if(d!==p)for(var e=q,d=d.pm;d.next();){var g=d.value;if(g.visible)if(g===c)for(var e=i,h=q,g=g.Ui;g.next();){var j=g.value;j instanceof F&&(j===a?h=i:h&&Qm(a,j,b))}else if(e)for(g=g.Ui;g.next();)j=g.value,j instanceof F&&Qm(a,j,b)}}}function Qm(a,b,c){if(b!==p&&om(b)&&b.La!==p&&(a.ei().Oe(b.ei())||c.Oe(b.ei())))a.usesSamePort(b)||b.gg()}
F.prototype.usesSamePort=F.prototype.CM=function(a){var b=this.oa,c=a.oa;if(0<b&&0<c){if(this.p(0).Li(a.p(0))||this.p(b-1).Li(a.p(c-1)))return i}else if(this.ja===a.ja||this.na===a.na)return i;return q};x.g(F,"adjusting",F.prototype.fv);x.defineProperty(F,{fv:"adjusting"},t("ap"),function(a){var b=this.ap;b!==a&&(u&&x.pb(a,F,F,"adjusting"),this.ap=a,this.j("adjusting",b,a))});x.g(F,"corner",F.prototype.MC);
x.defineProperty(F,{MC:"corner"},t("np"),function(a){var b=this.np;b!==a&&(u&&x.k(a,"number",F,"corner"),this.np=a,this.gg(),this.j("corner",b,a))});x.g(F,"curve",F.prototype.yf);x.defineProperty(F,{yf:"curve"},t("pp"),function(a){var b=this.pp;b!==a&&(u&&x.pb(a,F,F,"curve"),this.pp=a,this.Zb(),um(this,b===mk||b===nk||a===mk||a===nk),this.j("curve",b,a))});x.g(F,"curviness",F.prototype.$y);
x.defineProperty(F,{$y:"curviness"},t("qp"),function(a){var b=this.qp;b!==a&&(u&&x.k(a,"number",F,"curviness"),this.qp=a,this.Zb(),this.j("curviness",b,a))});x.g(F,"routing",F.prototype.Qh);x.defineProperty(F,{Qh:"routing"},t("on"),function(a){var b=this.on;b!==a&&(u&&x.pb(a,F,F,"routing"),this.on=a,this.ci=p,this.Zb(),um(this,b===kk||b===Ef||a===kk||a===Ef),this.j("routing",b,a))});x.g(F,"smoothness",F.prototype.Ss);
x.defineProperty(F,{Ss:"smoothness"},t("or"),function(a){var b=this.or;b!==a&&(u&&x.k(a,"number",F,"smoothness"),this.or=a,this.gg(),this.j("smoothness",b,a))});
function mm(a){var b=a.Lf;if(b!==p){var c=a.Zf;if(c!==p){var d=a.lh,a=a.Dh,e;a:{if(!(c===p||b.ih===p))for(e=b.ih.l;e.next();){var g=e.value;if(g.Bo===b&&g.Fs===c&&g.Uv===d&&g.Vv===a||g.Bo===c&&g.Fs===b&&g.Uv===a&&g.Vv===d){e=g;break a}}e=p}for(var h=g=p,j=b.gd.o,k=j.length,l=0;l<k;l++){var m=j[l];if(m.Lf===b&&m.lh===d&&m.Zf===c&&m.Dh===a||m.Lf===c&&m.lh===a&&m.Zf===b&&m.Dh===d)h===p?h=m:(g===p&&(g=new H(F),g.add(h)),g.add(m))}if(g!==p){e===p&&(e=new Zl,e.Bo=b,e.Uv=d,e.Fs=c,e.Vv=a,Yl(b,e),Yl(c,e));
e.links=g;for(l=0;l<g.count;l++)if(m=g.o[l],0===m.Ae){b=1;for(c=0;c<g.count;c++)Math.abs(g.o[c].Ae)===b&&(b++,c=-1);m.sl=e;m.Ae=m.ja===e.Bo?b:-b;m.Zb()}}}}}
function lm(a){var b=a.sl;if(b!==p){var c=a.Ae;a.sl=p;a.Ae=0;a.Zb();b.links.remove(a);if(2>b.links.count)1===b.links.count&&(c=b.links.o[0],c.sl=p,c.Ae=0,c.Zb()),c=b.Bo,b!==p&&c.ih!==p&&c.ih.remove(b),c=b.Fs,b!==p&&c.ih!==p&&c.ih.remove(b);else{c=Math.abs(c);a=0===c%2;for(b=b.links.l;b.next();){var d=b.value,e=Math.abs(d.Ae),g=0===e%2;e>c&&a===g&&(d.Ae=0<d.Ae?d.Ae-2:d.Ae+2,d.Zb())}}}}function Zl(){x.lc(this);this.links=this.Vv=this.Fs=this.Uv=this.Bo=p;this.spacing=10}
x.eg(Zl,{Bo:i,Uv:i,Fs:i,Vv:i,links:i,spacing:i});function $i(){x.lc(this);this.group=p;this.mm=i;this.abort=q;this.Lg=this.Kg=1;this.hu=this.gu=-1;this.td=this.Hd=8;this.$b=p;this.hF=q;this.LE=22;this.PD=111}x.eg($i,{group:i,mm:i,abort:i,hF:i,LE:i,PD:i});var ma=0,Jm=1,Km=1,na=999999999,Rm=na;
$i.prototype.initialize=function(a){if(!(0>=a.width||0>=a.height)){var b=a.y,c=a.x+a.width,d=a.y+a.height;this.Kg=Math.floor((a.x-this.Hd)/this.Hd)*this.Hd;this.Lg=Math.floor((b-this.td)/this.td)*this.td;this.gu=Math.ceil((c+2*this.Hd)/this.Hd)*this.Hd;this.hu=Math.ceil((d+2*this.td)/this.td)*this.td;a=1+(Math.ceil((this.gu-this.Kg)/this.Hd)|0);b=1+(Math.ceil((this.hu-this.Lg)/this.td)|0);if(this.$b===p||this.Dn<a-1||this.En<b-1){c=[];for(d=0;d<=a;d++){for(var e=[],g=0;g<=b;g++)e[g]=0;c[d]=e}this.$b=
c;this.Dn=a-1;this.En=b-1}if(this.$b!==p)for(a=0;a<=this.Dn;a++)for(b=0;b<=this.En;b++)this.$b[a][b]=Rm}};x.u($i,{Kb:p},function(){return new L(this.Kg,this.Lg,this.gu-this.Kg,this.hu-this.Lg)});x.g($i,"cellWidth",$i.prototype.Xl);x.defineProperty($i,{Xl:p},t("Hd"),function(a){0<a&&a!==this.Hd&&(this.Hd=a,this.initialize(this.Kb))});x.g($i,"cellHeight",$i.prototype.Wl);x.defineProperty($i,{Wl:p},t("td"),function(a){0<a&&a!==this.td&&(this.td=a,this.initialize(this.Kb))});
function Sm(a,b,c){return a.Kg<=b&&b<=a.gu&&a.Lg<=c&&c<=a.hu}function zm(a,b,c){if(!Sm(a,b,c))return 0;b-=a.Kg;b/=a.Hd;c-=a.Lg;c/=a.td;return a.$b[b|0][c|0]}function cj(a,b,c){Sm(a,b,c)&&(b-=a.Kg,b/=a.Hd,c-=a.Lg,c/=a.td,a.$b[b|0][c|0]=ma)}function bj(a){if(a.$b!==p)for(var b=0;b<=a.Dn;b++)for(var c=0;c<=a.En;c++)a.$b[b][c]>=Jm&&(a.$b[b][c]|=na)}
function Tm(a,b,c,d,e,g,h,j,k){if(!(b<g||b>h||c<j||c>k)){var l,m;l=b|0;m=c|0;var n=a.$b[l][m];if(n>=Jm&&n<na){e?m+=d:l+=d;for(n+=Km;g<=l&&(l<=h&&j<=m&&m<=k)&&!(n>=a.$b[l][m]);)a.$b[l][m]=n,n+=Km,e?m+=d:l+=d}l=e?m:l;if(e)if(0<d)for(c+=d;c<l;c+=d)Tm(a,b,c,1,!e,g,h,j,k),Tm(a,b,c,-1,!e,g,h,j,k);else for(c+=d;c>l;c+=d)Tm(a,b,c,1,!e,g,h,j,k),Tm(a,b,c,-1,!e,g,h,j,k);else if(0<d)for(b+=d;b<l;b+=d)Tm(a,b,c,1,!e,g,h,j,k),Tm(a,b,c,-1,!e,g,h,j,k);else for(b+=d;b>l;b+=d)Tm(a,b,c,1,!e,g,h,j,k),Tm(a,b,c,-1,!e,g,
h,j,k)}}function Um(a,b,c,d,e,g,h,j,k,l,m){for(var n=b|0,r=c|0,s=a.$b[n][r];0===s&&n>j&&n<k&&r>l&&r<m;)if(h?r+=g:n+=g,s=a.$b[n][r],1>=Math.abs(n-d)&&1>=Math.abs(r-e))return a.abort=i,0;n=b|0;r=c|0;s=a.$b[n][r];b=Jm;for(a.$b[n][r]=b;0===s&&n>j&&n<k&&r>l&&r<m;)h?r+=g:n+=g,s=a.$b[n][r],a.$b[n][r]=b,b+=Km;return h?r:n}
function ym(a,b,c,d,e,g){if(a.$b!==p){a.abort=q;var h=b.x,j=b.y;if(Sm(a,h,j)){var h=h-a.Kg,h=h/a.Hd,j=j-a.Lg,j=j/a.td,k=d.x,l=d.y;if(Sm(a,k,l))if(k-=a.Kg,k/=a.Hd,l-=a.Lg,l/=a.td,1>=Math.abs(h-k)&&1>=Math.abs(j-l))a.abort=i;else{var m=g.x,b=g.y,d=g.x+g.width,n=g.y+g.height,m=m-a.Kg,m=m/a.Hd,b=b-a.Lg,b=b/a.td,d=d-a.Kg,d=d/a.Hd,n=n-a.Lg,n=n/a.td,g=Math.max(0,Math.min(a.Dn,m|0)),d=Math.min(a.Dn,Math.max(0,d|0)),b=Math.max(0,Math.min(a.En,b|0)),n=Math.min(a.En,Math.max(0,n|0)),h=h|0,j=j|0,k=k|0,l=l|0,
m=h,r=j,s=0===c||90===c?1:-1;(c=90===c||270===c)?r=Um(a,h,j,k,l,s,c,g,d,b,n):m=Um(a,h,j,k,l,s,c,g,d,b,n);if(!a.abort){a:{for(var c=0===e||90===e?1:-1,e=90===e||270===e,s=k|0,v=l|0,y=a.$b[s][v];0===y&&s>g&&s<d&&v>b&&v<n;)if(e?v+=c:s+=c,y=a.$b[s][v],1>=Math.abs(s-h)&&1>=Math.abs(v-j)){a.abort=i;break a}s=k|0;v=l|0;y=a.$b[s][v];for(a.$b[s][v]=Rm;0===y&&s>g&&s<d&&v>b&&v<n;)e?v+=c:s+=c,y=a.$b[s][v],a.$b[s][v]=Rm}a.abort||(Tm(a,m,r,1,q,g,d,b,n),Tm(a,m,r,-1,q,g,d,b,n),Tm(a,m,r,1,i,g,d,b,n),Tm(a,m,r,-1,i,
g,d,b,n))}}}}}function Em(){x.lc(this);this.lg=this.port=this.bh=p;this.Es=q}x.eg(Em,{bh:i,port:i,lg:i,Es:i});Em.prototype.toString=function(){for(var a=this.lg,b=this.bh.toString()+" "+a.length.toString()+":",c=0;c<a.length;c++){var d=a[c];d!==p&&(b+="\n  "+d.toString())}return b};
function Vm(a,b,c,d){b=b.offsetY;switch(b){case x.dd:return 90;case x.Vc:return 180;case x.sd:return 270;case x.ed:return 0}switch(b){case x.dd|x.sd:return 180<c?270:90;case x.Vc|x.ed:return 90<c&&270>=c?180:0}a=180*Math.atan2(a.height,a.width)/Math.PI;switch(b){case x.Vc|x.sd:return c>a&&c<=180+a?180:270;case x.sd|x.ed:return c>180-a&&c<=360-a?270:0;case x.ed|x.dd:return c>a&&c<=180+a?90:0;case x.dd|x.Vc:return c>180-a&&c<=360-a?180:90;case x.Vc|x.sd|x.ed:return 90<c&&c<=180+a?180:c>180+a&&c<=360-
a?270:0;case x.sd|x.ed|x.dd:return 180<c&&c<=360-a?270:c>a&&180>=c?90:0;case x.ed|x.dd|x.Vc:return c>a&&c<=180-a?90:c>180-a&&270>=c?180:0;case x.dd|x.Vc|x.sd:return c>180-a&&c<=180+a?180:c>180+a?270:90}d&&b!==(x.Vc|x.sd|x.ed|x.dd)&&(c-=15,0>c&&(c+=360));return c>a&&c<180-a?90:c>=180-a&&c<=180+a?180:c>180+a&&c<360-a?270:0}
function Fm(a,b){var c=a.lg;if(c===p){if(!a.Es){c=a.Es;a.Es=i;var d=a.bh.Rd;a.lg=[];for(var e=0,g=new L(a.port.Tb(Db),a.port.Tb(Nb)),d=d.l;d.next();){var h=d.value;if(h.tb()){var j=Bb,j=h.Zc===a.port?vm(h,a.port):wm(h,a.port);if(xb(j)){var k;k=h.Zc===a.port?h.Sd:h.Zc;if(k!==p&&k.fa!==p){var l=k.Tb(Kb);k=k.Od;k=k!==p?Fm(k,h):p;k!==p&&(l=k.uo);k=g.kv.Hi(l);var j=Vm(g,j,k,Rg(h)),m;0===j?(m=x.ed,180<k&&(k-=360)):m=90===j?x.dd:180===j?x.Vc:x.sd;(j=a.lg[e])?(j.link=h,j.angle=k,j.he=m):(j=new Wm(h,k,m),
a.lg[e]=j);j.Tv.set(l);e++}}}}a.lg.sort(Em.prototype.JH);g=a.lg.length;d=-1;for(e=h=0;e<g;e++)j=a.lg[e],j!==p&&(j.he!==d&&(d=j.he,h=0),j.km=h,h++);d=-1;h=0;for(e=g-1;0<=e;e--)j=a.lg[e],j!==p&&(j.he!==d&&(d=j.he,h=j.km+1),j.Wr=h);e=a.lg;for(g=0;g<e.length;g++)if(d=e[g],d!==p){l=d;j=a.port;h=d=f;switch(l.he){case x.dd:d=j.Tb(Nb);h=j.Tb(Lb);break;case x.Vc:d=j.Tb(Lb);h=j.Tb(Db);break;case x.sd:d=j.Tb(Db);h=j.Tb(Fb);break;default:case x.ed:d=j.Tb(Fb),h=j.Tb(Nb)}j=h.y-d.y;k=(l.km+1)/(l.Wr+1);l=l.uo;l.x=
d.x+(h.x-d.x)*k;l.y=d.y+j*k}e=a.lg;for(g=0;g<e.length;g++)if(h=e[g],h!==p){d=h;k=h;m=k.link;h=m.getEndSegmentLength(a.bh,a.port,Bb,m.Zc===a.port);l=k.km;if(!(0>l)&&(j=k.Wr,!(1>=j)&&Rg(m))){m=k.Tv;var n=k.uo;if(k.he===x.Vc||k.he===x.dd)l=j-1-l;h=((k=k.he===x.Vc||k.he===x.ed)?m.y<n.y:m.x<n.x)?h+8*l:(k?m.y===n.y:m.x===n.x)?h:h+8*(j-1-l)}d.zv=h}a.Es=c}c=a.lg}for(e=0;e<c.length;e++)if(g=c[e],g!==p&&g.link===b)return g;return p}
Em.prototype.JH=function(a,b){return a===b?0:a===p?-1:b===p?1:a.he<b.he?-1:a.he>b.he?1:a.angle<b.angle?-1:a.angle>b.angle?1:0};function Wm(a,b,c){this.link=a;this.angle=b;this.he=c;this.Tv=new K;this.km=this.Wr=this.km=0;this.uo=new K;this.zv=0}x.eg(Wm,{link:i,angle:i,he:i,Tv:i,km:i,Wr:i,uo:i,zv:i});
Wm.prototype.toString=function(){return this.link.toString()+" "+this.angle.toString()+" "+this.he.toString()+":"+this.km.toString()+"/"+this.Wr.toString()+" "+this.uo.toString()+" "+this.zv.toString()+" "+this.Tv.toString()};function B(a){0===arguments.length?A.call(this,ah):A.call(this,a);this.xq=new qa(z);this.Ll=new qa(B);this.Hk=this.yq=this.wq=p;this.Er=q;this.dq=i;this.Gr=q;this.xb=this.ur=p;this.kp=q;this.yd=new Yh;this.yd.group=this}x.S("Group",B);x.Ja(B,A);da=B.prototype;
da.Db=function(a){A.prototype.Db.call(this,a);a.wq=this.wq;a.yq=this.yq;a.Hk=this.Hk;a.Er=this.Er;a.dq=this.dq;a.Gr=this.Gr;a.ur=this.ur;var b=$k(a,a,function(a){return a instanceof Vg});a.xb=b instanceof Vg?b:p;a.kp=this.kp;this.yd!==p?(a.yd=this.yd.copy(),a instanceof B&&(a.yd.group=a)):(a.yd!==p&&(a.yd.group=p),a.yd=p)};
da.Jh=function(a){A.prototype.Jh.call(this,a);for(var b=a.Ev(),a=a.Ic;a.next();){var c=a.value;c.U();c.G(Xj);c.Hh();c instanceof B&&(c.mw=c.Pe,Xm(c,b));if(c instanceof A)c.Xg(b);else if(c instanceof F)for(c=c.Si;c.next();)c.value.Xg(b)}};
da.tm=function(a,b,c,d,e,g,h){if(a===Ud&&"elements"===b)if(e instanceof Vg)this.xb===p?this.xb=e:this.xb!==e&&x.m("Cannot insert a second Placeholder into the visual tree of a Group.");else{if(e instanceof G){var j=$k(e,e,function(a){return a instanceof Vg});j instanceof Vg&&(this.xb===p?this.xb=j:this.xb!==j&&x.m("Cannot insert a second Placeholder into the visual tree of a Group."))}}else a===Vd&&"elements"===b&&(d===this.xb?this.xb=p:d instanceof G&&this.xb.Qi(d)&&(this.xb=p));A.prototype.tm.call(this,
a,b,c,d,e,g,h)};da.Kj=function(a,b,c,d){this.sj=this.xb;G.prototype.Kj.call(this,a,b,c,d);this.xb!==p&&(a=this.xb.pn,this.location=new K(a.x,a.y))};da.cl=function(){if(!A.prototype.cl.call(this))return q;for(var a=this.Ic;a.next();){var b=a.value;if(b instanceof A){if(b.tb()&&b.Mc)return q}else if(b instanceof F&&b.tb()&&b.Mc&&b.ja!==this&&b.na!==this)return q}return i};x.u(B,{placeholder:"placeholder"},t("xb"));x.g(B,"computesBoundsAfterDrag",B.prototype.Xy);
x.defineProperty(B,{Xy:"computesBoundsAfterDrag"},t("kp"),function(a){var b=this.kp;b!==a&&(x.k(a,"boolean",B,"computesBoundsAfterDrag"),this.kp=a,this.j("computesBoundsAfterDrag",b,a))});x.u(B,{Ic:"memberParts"},function(){return this.xq.l});function Sl(a,b){if(a.xq.add(b)){b instanceof B&&a.Ll.add(b);var c=a.ZD;if(c!==p){var d=i,e=a.h;e!==p&&(d=e.Ra,e.Ra=i);c(a,b);e!==p&&(e.Ra=d)}}c=a.xb;c===p&&(c=a);c.U()}
function Rl(a,b){if(a.xq.remove(b)){b instanceof B&&a.Ll.remove(b);var c=a.$D;if(c!==p){var d=i,e=a.h;e!==p&&(d=e.Ra,e.Ra=i);c(a,b);e!==p&&(e.Ra=d)}}c=a.xb;c===p&&(c=a);c.U()}B.prototype.bm=function(){if(0<this.xq.count){var a=this.h;if(a===p)return;for(var b=this.xq.copy().l;b.next();)a.remove(b.value)}A.prototype.bm.call(this)};B.prototype.gw=function(){var a=this.Ka;a!==p&&a.gw(this)};x.g(B,"layout",B.prototype.Ub);
x.defineProperty(B,{Ub:"layout"},t("yd"),function(a){var b=this.yd;b!==a&&(a!==p&&x.i(a,Yh,B,"layout"),b!==p&&(b.h=p,b.group=p),this.yd=a,a!==p&&(a.h=this.h,a.group=this),this.j("layout",b,a))});x.g(B,"memberAdded",B.prototype.ZD);x.defineProperty(B,{ZD:"memberAdded"},t("wq"),function(a){var b=this.wq;b!==a&&(a!==p&&x.k(a,"function",B,"memberAdded"),this.wq=a,this.j("memberAdded",b,a))});x.g(B,"memberRemoved",B.prototype.$D);
x.defineProperty(B,{$D:"memberRemoved"},t("yq"),function(a){var b=this.yq;b!==a&&(a!==p&&x.k(a,"function",B,"memberRemoved"),this.yq=a,this.j("memberRemoved",b,a))});x.g(B,"memberValidation",B.prototype.zs);x.defineProperty(B,{zs:"memberValidation"},t("Hk"),function(a){var b=this.Hk;b!==a&&(a!==p&&x.k(a,"function",B,"memberValidation"),this.Hk=a,this.j("memberValidation",b,a))});
B.prototype.canAddMembers=B.prototype.$I=function(a){var b=this.h;if(b===p)return q;b=b.dg;for(a=b.findUnnestedNodes(a).l;a.next();)if(!b.rH(this,a.value))return q;return i};B.prototype.addMembers=B.prototype.VI=function(a,b){var c=this.h;if(c===p)return q;for(var c=c.dg,d=i,e=c.findUnnestedNodes(a).l;e.next();){var g=e.value;!b||c.isValidMember(this,g)?g.Za=this:d=q}return d};x.g(B,"ungroupable",B.prototype.dF);
x.defineProperty(B,{dF:"ungroupable"},t("Er"),function(a){var b=this.Er;b!==a&&(x.k(a,"boolean",B,"ungroupable"),this.Er=a,this.j("ungroupable",b,a))});B.prototype.canUngroup=B.prototype.BJ=function(){if(!this.dF)return q;var a=this.Ka;if(a!==p&&!a.Tn)return q;a=a.h;return a!==p&&!a.Tn?q:i};B.prototype.findSubGraphParts=B.prototype.Ev=function(){var a=new qa(z);Xe(a,this,i,q);a.remove(this);return a};
B.prototype.collapseSubGraph=B.prototype.mv=function(){var a=this.h;if(a!==p&&!a.hg){a.hg=i;var b=this.Ev();Xm(this,b);a.hg=q}};function Xm(a,b){a.Pe=q;for(var c=a.Ic;c.next();){var d=c.value;d.U();d.G(Xj);d.Hh();d instanceof B&&(d.mw=d.Pe,Xm(d,b));if(d instanceof A)d.Xg(b);else if(d instanceof F)for(d=d.Si;d.next();)d.value.Xg(b)}}B.prototype.expandSubGraph=B.prototype.Av=function(){var a=this.h;if(a!==p&&!a.hg){a.hg=i;var b=this.Ev();Ym(this,b);a.hg=q}};
function Ym(a,b){a.Pe=i;for(var c=a.Ic;c.next();){var d=c.value;d.U();d.G(Wj);d.$i();d instanceof B&&d.mw&&Ym(d,b);if(d instanceof A)d.Xg(b);else if(d instanceof F)for(d=d.Si;d.next();)d.value.Xg(b)}}x.g(B,"isSubGraphExpanded",B.prototype.Pe);
x.defineProperty(B,{Pe:"isSubGraphExpanded"},t("dq"),function(a){var b=this.dq;if(b!==a){x.k(a,"boolean",B,"isSubGraphExpanded");this.dq=a;var c=this.h;c!==p&&Hh(c);this.j("isSubGraphExpanded",b,a);b=this.SE;if(b!==p){var d=i;c!==p&&(d=c.Ra,c.Ra=i);b(this);c!==p&&(c.Ra=d)}c!==p&&c.wa.zb||(a?this.Av():this.mv())}});x.g(B,"wasSubGraphExpanded",B.prototype.mw);
x.defineProperty(B,{mw:"wasSubGraphExpanded"},t("Gr"),function(a){var b=this.Gr;b!==a&&(x.k(a,"boolean",B,"wasSubGraphExpanded"),this.Gr=a,this.j("wasSubGraphExpanded",b,a))});x.g(B,"subGraphExpandedChanged",B.prototype.SE);x.defineProperty(B,{SE:"subGraphExpandedChanged"},t("ur"),function(a){var b=this.ur;b!==a&&(a!==p&&x.k(a,"function",B,"subGraphExpandedChanged"),this.ur=a,this.j("subGraphExpandedChanged",b,a))});
B.prototype.move=B.prototype.move=function(a){var b=this.position,c=b.x;isNaN(c)&&(c=0);b=b.y;isNaN(b)&&(b=0);c=a.x-c;b=a.y-b;A.prototype.move.call(this,a);for(a=this.Ev().l;a.next();){var d=a.value,e=d.position;A.prototype.move.call(d,new K(e.x+c,e.y+b))}};function Vg(){U.call(this);this.ke=(new gb(0)).freeze();this.pn=new L(NaN,NaN,NaN,NaN)}x.S("Placeholder",Vg);x.Ja(Vg,U);Vg.prototype.Db=function(a){U.prototype.Db.call(this,a);a.ke=this.ke.Q();a.pn=this.pn.copy()};
Vg.prototype.Lj=function(a){if(this.background===p&&this.Ij===p)return q;var b=this.Na;return lb(0,0,b.width,b.height,a.x,a.y)};
Vg.prototype.ys=function(){var a=this.fa;(a===p||!(a instanceof B)&&!(a instanceof Ye))&&x.m("Placeholder is not inside a Group or Adornment.");if(a instanceof B){var b;a:{b=this.fa;if(b instanceof B&&b.Xy&&this.pn.R()){var c=b.h;if(c!==p&&(c=c.Ma,c instanceof gf&&!c.Bp&&c.fc!==p&&!c.fc.contains(b))){b=this.pn;break a}}b=this.fa;if(b instanceof B){for(var d=c=Infinity,e=-Infinity,g=-Infinity,h=b.Ic;h.next();){var j=h.value;if(j.tb()){if(j instanceof F){if(j.dc)continue;if(j.ja===b||j.na===b)continue}j=
j.ya;j.left<c&&(c=j.left);j.top<d&&(d=j.top);j.right>e&&(e=j.right);j.bottom>g&&(g=j.bottom)}}!isFinite(c)||!isFinite(d)?(b=b.location,c=this.padding,b=new L(b.x+c.left,b.y+c.top,0,0)):b=new L(c,d,e-c,g-d)}else b=new L;c=this.padding;b=new L(b.x-c.left,b.y-c.top,b.width+c.left+c.right,b.height+c.top+c.bottom)}this.pn=b;c=this.Nc;db(c,b.width||0,b.height||0);oj(this,0,0,c.width,c.height);c=a.Ic;for(d=q;c.next();)if(c.value.tb()){d=i;break}d&&(!isNaN(b.x)&&!isNaN(b.y))&&(a.location=new K(b.x,b.y))}else b=
this.za,c=this.Nc,a=this.padding,db(c,b.width+(a.left+a.right)||0,b.height+(a.top+a.bottom)||0),oj(this,-a.left,-a.top,c.width,c.height)};Vg.prototype.Kj=function(a,b,c,d){var e=this.ya;e.x=a;e.y=b;e.width=c;e.height=d};x.g(Vg,"padding",Vg.prototype.padding);x.defineProperty(Vg,{padding:"padding"},t("ke"),function(a){"number"===typeof a?a=new gb(a):x.i(a,gb,G,"padding");var b=this.ke;b.K(a)||(this.ke=a=a.Q(),this.j("padding",b,a))});
function Yh(){x.lc(this);this.tx=this.ca=p;this.Tt=this.aq=i;this.hq=this.gq=q;this.cp=(new K(0,0)).freeze();this.zx=i;this.B=p}x.S("Layout",Yh);Yh.prototype.cloneProtected=Yh.prototype.Db=function(a){a.aq=this.aq;a.Tt=this.Tt;a.hq=this.hq;a.cp=this.cp.Q()};Yh.prototype.copy=Yh.prototype.copy=function(){var a=new this.constructor;this.Db(a);return a};
Yh.prototype.toString=function(){var a=x.$k(Object.getPrototypeOf(this)),a=a+"(";this.group!==p&&(a+=" in "+this.group);this.h!==p&&(a+=" for "+this.h);return a+")"};x.g(Yh,"diagram",Yh.prototype.h);x.defineProperty(Yh,{h:"diagram"},t("ca"),function(a){this.ca!==a&&(a!==p&&x.i(a,w,Yh,"diagram"),this.ca=a)});x.g(Yh,"group",Yh.prototype.group);x.defineProperty(Yh,{group:"group"},t("tx"),function(a){this.tx!==a&&(a!==p&&x.i(a,B,Yh,"group"),this.tx=a)});x.g(Yh,"isOngoing",Yh.prototype.MD);
x.defineProperty(Yh,{MD:"isOngoing"},t("aq"),function(a){this.aq!==a&&(x.k(a,"boolean",Yh,"isOngoing"),this.aq=a)});x.g(Yh,"isInitial",Yh.prototype.LD);x.defineProperty(Yh,{LD:"isInitial"},t("Tt"),function(a){x.k(a,"boolean",Yh,"isInitial");this.Tt=a;a||(this.gq=i)});x.g(Yh,"isValidLayout",Yh.prototype.Re);x.defineProperty(Yh,{Re:"isValidLayout"},t("gq"),function(a){this.gq!==a&&(this.gq=a,a||(a=this.h,a!==p&&(a.jt=i)))});
Yh.prototype.invalidateLayout=Yh.prototype.G=function(){if(this.gq){var a=this.h;if(a!==p&&!a.wa.zb&&(this.MD&&a.Gg||this.LD&&!a.Gg))this.Re=q,a.Cn=i,a.Eb(i)}};x.g(Yh,"isViewportSized",Yh.prototype.Pv);x.defineProperty(Yh,{Pv:"isViewportSized"},t("hq"),function(a){this.hq!==a&&(this.hq=a)&&this.G()});x.g(Yh,"isRouting",Yh.prototype.ts);x.defineProperty(Yh,{ts:"isRouting"},t("zx"),function(a){this.zx!==a&&(x.k(a,"boolean",Yh,"isRouting"),this.zx=a)});x.g(Yh,"network",Yh.prototype.Sc);
x.defineProperty(Yh,{Sc:"network"},t("B"),function(a){var b=this.B;b!==a&&(a!==p&&x.i(a,Zm,Yh,"network"),b!==p&&$m(b,p),this.B=a,a!==p&&$m(a,this))});Yh.prototype.createNetwork=Yh.prototype.uv=function(){var a=new Zm;$m(a,this);return a};Yh.prototype.makeNetwork=Yh.prototype.CH=function(a){var b=this.createNetwork();a instanceof w?(b.Nr(a.hl,i),b.Nr(a.links,i)):a instanceof B?b.Nr(a.Ic):a.l&&b.Nr(a.l);return b};
Yh.prototype.updateParts=Yh.prototype.AM=function(){var a=this.h;if(a===p&&this.B!==p)for(var b=this.B.ma.l;b.next();){var c=b.value.kb;if(c!==p&&(a=c.h,a!==p))break}this.Re=i;a!==p&&a.jc("Layout");this.commitLayout();a!==p&&a.qe("Layout")};Yh.prototype.commitLayout=Yh.prototype.qv=aa();
Yh.prototype.doLayout=Yh.prototype.Yr=function(a){a===p&&x.m("Layout.doLayout(collection) argument must not be null");var b=new qa(z);a===this.h?(an(this,b,a.hl,i,this.Mz,i,q,i),an(this,b,a.Ui,i,this.Mz,i,q,i)):a===this.group&&an(this,b,a.Ic,q,this.Mz,i,q,i);var c=b.count;if(0<c){a=this.h;a!==p&&a.jc("Layout");for(var c=Math.ceil(Math.sqrt(c)),d=this.nd.x,e=d,g=this.nd.y,h=0,j=0,b=b.l;b.next();){var k=b.value;k.Ki();var l=k.Ba,m=l.width,l=l.height;k.move(new K(e,g));delete k.HB;e+=Math.max(m,50)+
20;j=Math.max(j,Math.max(l,50));h>=c-1?(h=0,e=d,g+=j+20,j=0):h++}a!==p&&a.qe("Layout")}this.Re=i};Yh.prototype.Mz=function(a){return!a.location.R()||a instanceof B&&a.HB?i:q};function an(a,b,c,d,e,g,h,j){for(c=c.l;c.next();){var k=c.value;if(!d||k.us)if(!e||e(k))k.Sr()&&(g&&k instanceof A?k.Ri||(k instanceof B&&k.Ub===p?an(a,b,k.Ic,q,e,g,h,j):b.add(k)):h&&k instanceof F?b.add(k):j&&(k.ee()&&!(k instanceof A))&&b.add(k))}}x.g(Yh,"arrangementOrigin",Yh.prototype.nd);
x.defineProperty(Yh,{nd:"arrangementOrigin"},t("cp"),function(a){this.cp.K(a)||(u&&x.i(a,K,Yh,"arrangementOrigin"),this.cp.bb(a),this.G())});function bn(a,b){var c=a.group;if(c!==p){var d=c.location;if(isNaN(d.x)||isNaN(d.y))return b;var e=c.placeholder;e!==p?(d=e.Tb(Db),d.x+=e.padding.left,d.y+=e.padding.top):d=c.position.copy();return d}return b}function Zm(){x.lc(this);this.yd=p;this.clear()}x.S("LayoutNetwork",Zm);
Zm.prototype.clear=function(){if(this.Fr)for(var a=this.Fr.l;a.next();){var b=a.value;b.clear();b.B=p}if(this.Dp)for(a=this.Dp.l;a.next();)b=a.value,b.clear(),b.B=p;this.Fr=new qa(cn);this.Dp=new qa(dn);this.Mx=new pa(A,cn);this.Fx=new pa(F,dn)};Zm.prototype.toString=function(){return"LayoutNetwork"+(this.Ub!==p?"("+this.Ub.toString()+")":"")};x.u(Zm,{Ub:"layout"},t("yd"));function $m(a,b){u&&b!==p&&x.i(b,Yh,Zm,"setLayout");a.yd=b}x.u(Zm,{ma:"vertexes"},t("Fr"));x.u(Zm,{qc:"edges"},t("Dp"));
Zm.prototype.createVertex=Zm.prototype.Nj=function(){return new cn};Zm.prototype.createEdge=Zm.prototype.$n=function(){return new dn};
Zm.prototype.addParts=Zm.prototype.Nr=function(a,b){if(a!==p){b===f&&(b=q);x.k(b,"boolean",Zm,"addParts:toplevelonly");for(var c=a.l;c.next();){var d=c.value;if(d instanceof A&&(!b||d.us)&&d.Sr()&&!d.Ri)if(d instanceof B&&d.Ub===p)this.Nr(d.Ic,q);else if(this.Ne(d)===p){var e=this.Nj();e.bh=d;this.Pk(e)}}for(c.reset();c.next();)if(d=c.value,d instanceof F&&(!b||d.us)&&d.Sr()&&this.Cv(d)===p){var g=d.ja,e=d.na;g!==e&&(g=this.Dv(g),e=this.Dv(e),g!==p&&e!==p&&this.qm(g,e,d))}}};
Zm.prototype.findGroupVertex=Zm.prototype.Dv=function(a){if(a===p)return p;a=Nl(a);if(a===p)return p;var b=this.Ne(a);if(b!==p)return b;a=a.Za;return a!==p&&(b=this.Ne(a),b!==p)?b:p};Zm.prototype.addVertex=Zm.prototype.Pk=function(a){if(a!==p){u&&x.i(a,cn,Zm,"addVertex:vertex");this.Fr.add(a);var b=a.kb;b!==p&&this.Mx.add(b,a);a.B=this}};Zm.prototype.addNode=Zm.prototype.Kn=function(a){if(a===p)return p;u&&x.i(a,A,Zm,"addNode:node");var b=this.Ne(a);b===p&&(b=this.Nj(),b.bh=a,this.Pk(b));return b};
Zm.prototype.deleteVertex=Zm.prototype.XC=function(a){if(a!==p&&(u&&x.i(a,cn,Zm,"deleteVertex:vertex"),en(this,a))){for(var b=a.Xf,c=b.count-1;0<=c;c--){var d=b.ia(c);this.bo(d)}b=a.bf;for(c=b.count-1;0<=c;c--)d=b.ia(c),this.bo(d)}};function en(a,b){if(b===p)return q;var c=a.Fr.remove(b);c&&(a.Mx.remove(b.kb),b.B=p);return c}Zm.prototype.deleteNode=Zm.prototype.cK=function(a){a!==p&&(u&&x.i(a,A,Zm,"deleteNode:node"),a=this.Ne(a),a!==p&&this.XC(a))};
Zm.prototype.findVertex=Zm.prototype.Ne=function(a){if(a===p)return p;u&&x.i(a,A,Zm,"findVertex:node");return this.Mx.va(a)};Zm.prototype.addEdge=Zm.prototype.Jn=function(a){if(a!==p){u&&x.i(a,dn,Zm,"addEdge:edge");this.Dp.add(a);var b=a.Wa;b!==p&&this.Cv(b)===p&&this.Fx.add(b,a);b=a.T;b!==p&&b.qC(a);b=a.W;b!==p&&b.mC(a);a.B=this}};
Zm.prototype.addLink=Zm.prototype.UI=function(a){if(a===p)return p;u&&x.i(a,F,Zm,"addLink:link");var b=a.ja,c=a.na,d=this.Cv(a);d===p?(d=this.$n(),d.Wa=a,b!==p&&(d.W=this.Kn(b)),c!==p&&(d.T=this.Kn(c)),this.Jn(d)):(d.W=b!==p?this.Kn(b):p,d.T=c!==p?this.Kn(c):p);return d};Zm.prototype.deleteEdge=Zm.prototype.bo=function(a){if(a!==p){u&&x.i(a,dn,Zm,"deleteEdge:edge");var b=a.T;b!==p&&b.WC(a);b=a.W;b!==p&&b.VC(a);fn(this,a)}};function fn(a,b){b!==p&&a.Dp.remove(b)&&(a.Fx.remove(b.Wa),b.B=p)}
Zm.prototype.deleteLink=Zm.prototype.bK=function(a){a!==p&&(u&&x.i(a,F,Zm,"deleteLink:link"),a=this.Cv(a),a!==p&&this.bo(a))};Zm.prototype.findEdge=Zm.prototype.Cv=function(a){if(a===p)return p;u&&x.i(a,F,Zm,"findEdge:link");return this.Fx.va(a)};
Zm.prototype.linkVertexes=Zm.prototype.qm=function(a,b,c){if(a===p||b===p)return p;u&&(x.i(a,cn,Zm,"linkVertexes:fromVertex"),x.i(b,cn,Zm,"linkVertexes:toVertex"),x.i(c,F,Zm,"linkVertexes:link"));if(a.B===this&&b.B===this){var d=this.$n();d.Wa=c;d.W=a;d.T=b;this.Jn(d);return d}return p};Zm.prototype.reverseEdge=Zm.prototype.Zv=function(a){if(a!==p){u&&x.i(a,dn,Zm,"reverseEdge:edge");var b=a.W,c=a.T;b===p||c===p||(b.VC(a),c.WC(a),a.Zv(),b.qC(a),c.mC(a))}};
Zm.prototype.deleteSelfEdges=Zm.prototype.xv=function(){for(var a=[],b=this.qc.l;b.next();){var c=b.value;c.W===c.T&&a.push(c)}b=a.length;for(c=0;c<b;c++)this.bo(a[c])};Zm.prototype.deleteArtificialVertexes=Zm.prototype.BG=function(){for(var a=[],b=this.ma.l;b.next();){var c=b.value;c.kb===p&&a.push(c)}c=a.length;for(b=0;b<c;b++)this.XC(a[b]);a=[];for(b=this.qc.l;b.next();)c=b.value,c.Wa===p&&a.push(c);c=a.length;for(b=0;b<c;b++)this.bo(a[b])};
Zm.prototype.splitIntoSubNetworks=Zm.prototype.rI=function(){this.BG();for(var a=[],b=this.qc.l;b.next();){var c=b.value;(c.W===p||c.T===p)&&a.push(c)}b=a.length;for(c=0;c<b;c++)this.bo(a[c]);this.xv();a=new H(Zm);for(c=i;c;)for(var c=q,d=this.ma.l;d.next();)if(b=d.value,0<b.Xf.count||0<b.bf.count){c=this.Ub.createNetwork();a.add(c);gn(this,c,b);c=i;break}a.sort(function(a,b){return a===p||b===p||a===b?0:b.ma.count-a.ma.count});return a};
function gn(a,b,c){if(c!==p&&c.B!==b){en(a,c);b.Pk(c);for(var d=c.Mb;d.next();){var e=d.value;e.B!==b&&(fn(a,e),b.Jn(e),gn(a,b,e.W))}for(d=c.Lb;d.next();)e=d.value,e.B!==b&&(fn(a,e),b.Jn(e),gn(a,b,e.T))}}Zm.prototype.getParts=Zm.prototype.findAllParts=Zm.prototype.vK=function(){for(var a=new qa(z),b=this.ma.l;b.next();)a.add(b.value.kb);for(b=this.qc.l;b.next();)a.add(b.value.Wa);return a};
function cn(){x.lc(this);this.B=p;this.N=(new L(0,0,10,10)).freeze();this.M=(new K(5,5)).freeze();this.clear()}x.S("LayoutVertex",cn);cn.prototype.clear=function(){this.kb=p;this.Xf=new H(dn);this.bf=new H(dn)};cn.prototype.toString=function(){return"LayoutVertex#"+x.gc(this)+(this.kb!==p?"("+this.kb.toString()+")":"")};x.g(cn,"network",cn.prototype.Sc);x.defineProperty(cn,{Sc:"network"},t("B"),function(a){this.B!==a&&(a!==p&&x.i(a,Zm,cn,"network"),this.B=a)});x.g(cn,"node",cn.prototype.bh);
x.defineProperty(cn,{bh:"node"},t("kb"),function(a){if(this.kb!==a){u&&a!==p&&x.i(a,A,cn,"node");this.kb=a;a.Ki();var b=a.ya,c=b.x,d=b.y,e=b.width,b=b.height;isNaN(c)&&(c=0);isNaN(d)&&(d=0);this.N.Y(c,d,e,b);c=a.Vb;c!==a&&!(a instanceof B)?(a=c.ya,this.M.Y(a.x+a.width/2,a.y+a.height/2)):this.M.Y(e/2,b/2)}});x.g(cn,"bounds",cn.prototype.Kb);x.defineProperty(cn,{Kb:"bounds"},t("N"),function(a){this.N.K(a)||(u&&x.i(a,L,cn,"bounds"),this.N.bb(a))});x.g(cn,"focus",cn.prototype.focus);
x.defineProperty(cn,{focus:"focus"},t("M"),function(a){this.M.K(a)||(u&&x.i(a,K,cn,"focus"),this.M.bb(a))});x.g(cn,"centerX",cn.prototype.ua);x.defineProperty(cn,{ua:"centerX"},function(){return this.N.x+this.M.x},function(a){var b=this.N;b.x+this.M.x!==a&&(u&&x.n(a,cn,"centerX"),b.Oa(),b.x=a-this.M.x,b.freeze())});x.g(cn,"centerY",cn.prototype.Da);
x.defineProperty(cn,{Da:"centerY"},function(){return this.N.y+this.M.y},function(a){var b=this.N;b.y+this.M.y!==a&&(u&&x.n(a,cn,"centerY"),b.Oa(),b.y=a-this.M.y,b.freeze())});x.g(cn,"focusX",cn.prototype.TG);x.defineProperty(cn,{TG:"focusX"},function(){return this.M.x},function(a){var b=this.M;b.x!==a&&(b.Oa(),b.x=a,b.freeze())});x.g(cn,"focusY",cn.prototype.UG);x.defineProperty(cn,{UG:"focusY"},function(){return this.M.y},function(a){var b=this.M;b.y!==a&&(b.Oa(),b.y=a,b.freeze())});x.g(cn,"x",cn.prototype.x);
x.defineProperty(cn,{x:"x"},function(){return this.N.x},function(a){var b=this.N;b.x!==a&&(b.Oa(),b.x=a,b.freeze())});x.g(cn,"y",cn.prototype.y);x.defineProperty(cn,{y:"y"},function(){return this.N.y},function(a){var b=this.N;b.y!==a&&(b.Oa(),b.y=a,b.freeze())});x.g(cn,"width",cn.prototype.width);x.defineProperty(cn,{width:"width"},function(){return this.N.width},function(a){var b=this.N;b.width!==a&&(b.Oa(),b.width=a,b.freeze())});x.g(cn,"height",cn.prototype.height);
x.defineProperty(cn,{height:"height"},function(){return this.N.height},function(a){var b=this.N;b.height!==a&&(b.Oa(),b.height=a,b.freeze())});cn.prototype.commit=cn.prototype.pv=function(){var a=this.kb;a!==p&&a.move(this.Kb.position)};cn.prototype.addSourceEdge=cn.prototype.qC=function(a){a!==p&&(u&&x.i(a,dn,cn,"addSourceEdge:edge"),this.Xf.contains(a)||this.Xf.add(a))};cn.prototype.deleteSourceEdge=cn.prototype.WC=function(a){a!==p&&(u&&x.i(a,dn,cn,"deleteSourceEdge:edge"),this.Xf.remove(a))};
cn.prototype.addDestinationEdge=cn.prototype.mC=function(a){a!==p&&(u&&x.i(a,dn,cn,"addDestinationEdge:edge"),this.bf.contains(a)||this.bf.add(a))};cn.prototype.deleteDestinationEdge=cn.prototype.VC=function(a){a!==p&&(u&&x.i(a,dn,cn,"deleteDestinationEdge:edge"),this.bf.remove(a))};x.u(cn,{qI:"sourceVertexes"},function(){for(var a=new qa(cn),b=this.Mb;b.next();){var c=b.value.W;c!==p&&!a.contains(c)&&a.add(c)}return a.l});
x.u(cn,{DG:"destinationVertexes"},function(){for(var a=new qa(cn),b=this.Lb;b.next();){var c=b.value.T;c!==p&&!a.contains(c)&&a.add(c)}return a.l});x.u(cn,{ma:"vertexes"},function(){for(var a=new qa(cn),b=this.Mb;b.next();){var c=b.value,c=c.W;c!==p&&!a.contains(c)&&a.add(c)}for(b=this.Lb;b.next();)c=b.value,c=c.T,c!==p&&!a.contains(c)&&a.add(c);return a.l});x.u(cn,{Mb:"sourceEdges"},function(){return this.Xf.l});x.u(cn,{Lb:"destinationEdges"},function(){return this.bf.l});
x.u(cn,{qc:"edges"},function(){for(var a=new H(dn),b=this.Mb;b.next();){var c=b.value;a.add(c)}for(b=this.Lb;b.next();)c=b.value,a.add(c);return a.l});x.u(cn,{QG:"edgesCount"},function(){return this.Xf.count+this.bf.count});var hn;cn.standardComparer=hn=function(a,b){u&&x.i(a,cn,cn,"standardComparer:m");u&&x.i(b,cn,cn,"standardComparer:n");var c=a.kb,d=b.kb;return c?d?(c=c.text,d=d.text,c<d?-1:c>d?1:0):1:d!==p?-1:0};
cn.smartComparer=function(a,b){u&&x.i(a,cn,cn,"smartComparer:m");u&&x.i(b,cn,cn,"smartComparer:n");if(a!==p){if(b!==p){var c=a.kb,d=b.kb;if(c!==p){if(d!==p){var c=c.text.toLocaleLowerCase().split(/([+\-]?[\.]?\d+(?:\.\d*)?(?:e[+\-]?\d+)?)/),d=d.text.toLocaleLowerCase().split(/([+\-]?[\.]?\d+(?:\.\d*)?(?:e[+\-]?\d+)?)/),e;for(e=0;e<c.length;e++)if(""!==d[e]&&d[e]!==f){var g=parseFloat(c[e]),h=parseFloat(d[e]);if(isNaN(g))if(isNaN(h)){if(0!==c[e].localeCompare(d[e]))return c[e].localeCompare(d[e])}else return 1;
else{if(isNaN(h))return-1;if(0!==g-h)return g-h}}else if(""!==c[e])return 1;return""!==d[e]&&d[e]!==f?-1:0}return 1}return d!==p?-1:0}return 1}return b!==p?-1:0};function dn(){x.lc(this);this.B=p;this.clear()}x.S("LayoutEdge",dn);dn.prototype.clear=function(){this.T=this.W=this.Wa=p};dn.prototype.toString=function(){return"LayoutEdge#"+x.gc(this)+(this.Wa!==p?"("+this.Wa.toString()+")":"")};x.g(dn,"network",dn.prototype.Sc);
x.defineProperty(dn,{Sc:"network"},t("B"),function(a){this.B!==a&&(u&&a!==p&&x.i(a,Zm,dn,"network"),this.B=a)});x.g(dn,"link",dn.prototype.link);x.defineProperty(dn,{link:"link"},t("Wa"),function(a){this.Wa!==a&&(u&&a!==p&&x.i(a,F,dn,"link"),this.Wa=a)});x.g(dn,"fromVertex",dn.prototype.mz);x.defineProperty(dn,{mz:"fromVertex"},t("W"),function(a){this.W!==a&&(u&&a!==p&&x.i(a,cn,dn,"fromVertex"),this.W=a)});x.g(dn,"toVertex",dn.prototype.sA);
x.defineProperty(dn,{sA:"toVertex"},t("T"),function(a){this.T!==a&&(u&&a!==p&&x.i(a,cn,dn,"toVertex"),this.T=a)});dn.prototype.Zv=function(){var a=this.W;this.W=this.T;this.T=a};dn.prototype.commit=dn.prototype.pv=aa();dn.prototype.getOtherVertex=dn.prototype.$G=function(a){u&&x.i(a,cn,dn,"getOtherVertex:v");return this.T===a?this.W:this.W===a?this.T:p};
function fj(){Yh.call(this);this.Pv=i;this.Ir=this.Jr=NaN;this.fj=(new cb(NaN,NaN)).freeze();this.zh=(new cb(10,10)).freeze();this.Ga=yk;this.Wc=wk;this.yc=sk;this.vc=jn}x.S("GridLayout",fj);x.Ja(fj,Yh);fj.prototype.cloneProtected=fj.prototype.Db=function(a){Yh.prototype.Db.call(this,a);a.Jr=this.Jr;a.Ir=this.Ir;a.fj=this.fj.Q();a.zh=this.zh.Q();a.Ga=this.Ga;a.Wc=this.Wc;a.yc=this.yc;a.vc=this.vc};
fj.prototype.doLayout=fj.prototype.Yr=function(a){var b=this.h;b===p&&x.m("The diagram for this layout is not set.");this.nd=bn(this,this.nd);var c=new qa(z);a===this.h?(an(this,c,a.hl,i,p,i,q,i),an(this,c,a.links,i,p,i,q,i),an(this,c,a.Ui,i,p,i,q,i)):a===this.group&&an(this,c,a.Ic,q,p,i,q,i);for(a=c.copy().l;a.next();){var d=a.value;if(d instanceof F&&(d.ja!==p||d.na!==p))c.remove(d);else if(d.Ki(),d instanceof B)for(d=d.Ic;d.next();)c.remove(d.value)}c=c.vg();if(0!==c.length){switch(this.rg){case vk:c.reverse();
break;case sk:c.sort(this.Ih);break;case tk:c.sort(this.Ih),c.reverse()}d=this.iF;isNaN(d)&&(d=0);a=this.xA;a=isNaN(a)?Math.max(this.h.Ya.width-b.padding.left-b.padding.right,0):Math.max(this.xA,0);0>=d&&0>=a&&(d=1);var e=this.spacing.width;isFinite(e)||(e=0);var g=this.spacing.height;isFinite(g)||(g=0);b.jc("Layout");switch(this.Ib){case zk:var h=Math.max(this.Vk.width,1);if(!isFinite(h))for(var j=h=0;j<c.length;j++)var k=c[j],l=k.Ba,h=Math.max(h,l.width);var h=Math.max(h+e,1),m=Math.max(this.Vk.height,
1);if(!isFinite(m))for(j=m=0;j<c.length;j++)k=c[j],l=k.Ba,m=Math.max(m,l.height);for(var m=Math.max(m+g,1),n=this.ne,r=this.nd.x,s=r,v=this.nd.y,y=0,C=0,j=0;j<c.length;j++){var k=c[j],l=k.Ba,D=Math.ceil((l.width+e)/h)*h,I=Math.ceil((l.height+g)/m)*m,E;switch(n){case xk:E=Math.abs(s-l.width)+r;break;default:E=s+l.width-r}if(0<d&&y>d-1||0<a&&0<y&&E>a)y=0,s=r,v+=C,C=0;C=Math.max(C,I);switch(n){case xk:l=-l.width;break;default:l=0}k.move(new K(s+l,v));switch(n){case xk:s-=D;break;default:s+=D}y++}break;
case yk:h=Math.max(this.Vk.width,1);for(k=j=y=v=0;k<c.length;k++)m=c[k],n=m.Ba,r=Ol(m,m.Vb,m.ig),v=Math.max(v,r.x),y=Math.max(y,n.width-r.x),j=Math.max(j,r.y);s=this.ne;switch(s){case xk:v+=e;break;default:y+=e}var h=isFinite(h)?Math.max(h+e,1):Math.max(v+y,1),M=v=this.nd.x,y=this.nd.y,D=C=0,l=Math.max(this.Vk.height,1),I=j=0;E=i;for(k=0;k<c.length;k++){m=c[k];n=m.Ba;r=Ol(m,m.Vb,m.ig);if(0<C)switch(s){case xk:M=Math.floor((M-v-(n.width-r.x))/h)*h+v;break;default:M=Math.ceil((M-v+r.x)/h)*h+v}else switch(s){case xk:D=
M+r.x+n.width;break;default:D=M-r.x}var O;switch(s){case xk:O=-(M+r.x)+v+D;break;default:O=M+n.width-r.x-v-D}if(0<d&&C>d-1||0<a&&0<C&&O>a){for(M=0;M<C&&k!==C;M++){O=c[k-C+M];var X=Ol(O,O.Vb,O.ig);O.move(new K(O.position.x,O.position.y+j-X.y))}I+=g;y=E?y+I:y+(I+j);C=I=j=0;M=v;E=q}j=Math.max(j,r.y);I=Math.max(I,n.height-r.y);isFinite(l)&&(I=Math.max(I,Math.max(n.height,l)-r.y));E?m.move(new K(M-r.x,y-r.y)):m.move(new K(M-r.x,y));switch(s){case xk:M-=r.x+e;break;default:M+=n.width-r.x+e}C++}for(M=0;M<
C&&k!==C;M++)O=c[k-C+M],X=Ol(O,O.Vb,O.ig),O.move(new K(O.position.x,O.position.y+j-X.y))}b.qe("Layout");this.Re=i}};x.g(fj,"wrappingWidth",fj.prototype.xA);x.defineProperty(fj,{xA:"wrappingWidth"},t("Jr"),function(a){if(this.Jr!==a&&(0<a||isNaN(a)))this.Jr=a,this.Pv=isNaN(a),this.G()});x.g(fj,"wrappingColumn",fj.prototype.iF);x.defineProperty(fj,{iF:"wrappingColumn"},t("Ir"),function(a){if(this.Ir!==a&&(0<a||isNaN(a)))this.Ir=a,this.G()});x.g(fj,"cellSize",fj.prototype.Vk);
x.defineProperty(fj,{Vk:"cellSize"},t("fj"),function(a){this.fj.K(a)||(this.fj.bb(a),this.G())});x.g(fj,"spacing",fj.prototype.spacing);x.defineProperty(fj,{spacing:"spacing"},t("zh"),function(a){this.zh.K(a)||(this.zh.bb(a),this.G())});x.g(fj,"alignment",fj.prototype.Ib);x.defineProperty(fj,{Ib:"alignment"},t("Ga"),function(a){if(this.Ga!==a&&(u&&x.i(a,oa,fj,"alignment"),a===yk||a===zk))this.Ga=a,this.G()});x.g(fj,"arrangement",fj.prototype.ne);
x.defineProperty(fj,{ne:"arrangement"},t("Wc"),function(a){if(this.Wc!==a&&(u&&x.i(a,oa,fj,"arrangement"),a===wk||a===xk))this.Wc=a,this.G()});x.g(fj,"sorting",fj.prototype.rg);x.defineProperty(fj,{rg:"sorting"},t("yc"),function(a){if(this.yc!==a&&(u&&x.i(a,oa,fj,"sorting"),a===uk||a===vk||a===sk||a===tk))this.yc=a,this.G()});x.g(fj,"comparer",fj.prototype.Ih);x.defineProperty(fj,{Ih:"comparer"},t("vc"),function(a){this.vc!==a&&(u&&x.k(a,"function",fj,"comparer"),this.vc=a,this.G())});var jn;
fj.standardComparer=jn=function(a,b){u&&x.i(a,z,fj,"standardComparer:a");u&&x.i(b,z,fj,"standardComparer:b");var c=a.text,d=b.text;return c<d?-1:c>d?1:0};
fj.smartComparer=function(a,b){u&&x.i(a,z,fj,"standardComparer:a");u&&x.i(b,z,fj,"standardComparer:b");if(a!==p){if(b!==p){var c=a.text.toLocaleLowerCase().split(/([+\-]?[\.]?\d+(?:\.\d*)?(?:e[+\-]?\d+)?)/),d=b.text.toLocaleLowerCase().split(/([+\-]?[\.]?\d+(?:\.\d*)?(?:e[+\-]?\d+)?)/),e;for(e=0;e<c.length;e++)if(""!==d[e]&&d[e]!==f){var g=parseFloat(c[e]),h=parseFloat(d[e]);if(isNaN(g))if(isNaN(h)){if(0!==c[e].localeCompare(d[e]))return c[e].localeCompare(d[e])}else return 1;else{if(isNaN(h))return-1;
if(0!==g-h)return g-h}}else if(""!==c[e])return 1;return""!==d[e]&&d[e]!==f?-1:0}return 1}return b!==p?-1:0};var zk;fj.Position=zk=x.s(fj,"Position",0);var yk;fj.Location=yk=x.s(fj,"Location",1);var wk;fj.LeftToRight=wk=x.s(fj,"LeftToRight",2);var xk;fj.RightToLeft=xk=x.s(fj,"RightToLeft",3);var uk;fj.Forward=uk=x.s(fj,"Forward",4);var vk;fj.Reverse=vk=x.s(fj,"Reverse",5);var sk;fj.Ascending=sk=x.s(fj,"Ascending",6);var tk;fj.Descending=tk=x.s(fj,"Descending",7);
function Ak(){Yh.call(this);this.ix=this.Qm=this.fd=0;this.Cp=360;this.hx=Mk;this.tk=0;this.hB=Mk;this.st=this.bg=this.fC=0;this.bv=new kn;this.vt=this.Nl=0;this.xF=600;this.Pq=NaN;this.ep=1;this.Yd=0;this.$d=360;this.Wc=Mk;this.ga=Ik;this.yc=Fk;this.vc=hn;this.zh=6;this.Jq=Pk}x.S("CircularLayout",Ak);x.Ja(Ak,Yh);
Ak.prototype.cloneProtected=Ak.prototype.Db=function(a){Yh.prototype.Db.call(this,a);a.Pq=this.Pq;a.ep=this.ep;a.Yd=this.Yd;a.$d=this.$d;a.Wc=this.Wc;a.ga=this.ga;a.yc=this.yc;a.vc=this.vc;a.zh=this.zh;a.Jq=this.Jq};Ak.prototype.createNetwork=Ak.prototype.uv=function(){var a=new ln;$m(a,this);return a};
Ak.prototype.doLayout=Ak.prototype.Yr=function(a){this.Sc===p&&(this.Sc=this.makeNetwork(a));a=this.Sc.ma;if(1>=a.count)1==a.count&&(a=a.Fb(),a.ua=0,a.Da=0);else{var b=new H(mn);b.cg(a.l);var a=new H(mn),c=new H(mn),b=this.sort(b),a=new H(mn),c=new H(mn),d=this.hx,e=this.hB,g=this.fd,h=this.Qm,j=this.ix,k=this.Cp,l=this.tk,m=this.fC,n=this.bg,r=this.st,d=this.ne,e=this.Gs,g=this.oE;if(!isFinite(g)||0>=g)g=NaN;h=this.xC;if(!isFinite(h)||0>=h)h=1;j=this.fh;isFinite(j)||(j=0);k=this.Wi;if(!isFinite(k)||
360<k||1>k)k=360;l=this.spacing;isFinite(l)||(l=NaN);d===Nk&&e===Ok?d=Mk:d===Nk&&e!==Ok&&(e=Ok,d=this.ne);if((this.direction===Gk||this.direction===Hk)&&this.rg!==Fk){for(var s=0;!(s>=b.length);s+=2){a.add(b.ia(s));if(s+1>=b.length)break;c.add(b.ia(s+1))}this.direction===Gk?(this.ne===Nk&&a.reverse(),b=new H(mn),b.cg(a),b.cg(c)):(this.ne===Nk&&c.reverse(),b=new H(mn),b.cg(c),b.cg(a))}for(var v=b.length,y=m=0,s=0;s<b.length;s++){var n=j+k*y*(this.direction===Ik?1:-1)/v,C=b.ia(s).zf;isNaN(C)&&(C=nn(b.ia(s),
n));if(360>k&&(0===s||s===b.length-1))C/=2;m+=C;y++}if(isNaN(g)||d===Nk){isNaN(l)&&(l=6);if(d!==Mk&&d!==Nk){C=-Infinity;for(s=0;s<v;s++){var r=b.ia(s),D=b.ia(s===v-1?0:s+1);isNaN(r.zf)&&nn(r,0);isNaN(D.zf)&&nn(D,0);C=Math.max(C,(r.zf+D.zf)/2)}r=C+l;d===Kk?(n=2*Math.PI/v,g=(C+l)/n):g=on(this,r*(360<=k?v:v-1),h,j*Math.PI/180,k*Math.PI/180)}else g=on(this,m+(360<=k?v:v-1)*(d!==Nk?l:1.6*l),h,j*Math.PI/180,k*Math.PI/180);n=g*h}else if(n=g*h,y=pn(this,g,n,j*Math.PI/180,k*Math.PI/180),isNaN(l)){if(d===Mk||
d===Nk)l=(y-m)/(360<=k?v:v-1)}else if(d===Mk||d===Nk)s=(y-m)/(360<=k?v:v-1),s<l?(g=on(this,m+l*(360<=k?v:v-1),h,j*Math.PI/180,k*Math.PI/180),n=g*h):l=s;else{C=-Infinity;for(s=0;s<v;s++)r=b.ia(s),D=b.ia(s===v-1?0:s+1),isNaN(r.zf)&&nn(r,0),isNaN(D.zf)&&nn(D,0),C=Math.max(C,(r.zf+D.zf)/2);r=C+l;s=on(this,r*(360<=k?v:v-1),h,j*Math.PI/180,k*Math.PI/180);s>g?(g=s,n=g*h):r=y/(360<=k?v:v-1)}this.hx=d;this.hB=e;this.fd=g;this.Qm=h;this.ix=j;this.Cp=k;this.tk=l;this.fC=m;this.bg=n;this.st=r;c=[b,a,c];b=c[0];
a=c[1];c=c[2];d=this.hx;e=this.fd;h=this.ix;j=this.Cp;k=this.tk;l=this.bg;m=this.st;if((this.direction===Gk||this.direction===Hk)&&d===Nk)qn(this,b,j,h-j/2,Ik);else if(this.direction===Gk||this.direction===Hk){g=0;switch(d){case Lk:g=180*rn(this,e,l,h,m)/Math.PI;break;case Mk:m=b=0;g=a.Fb();g!==p&&(b=nn(g,Math.PI/2));g=c.Fb();g!==p&&(m=nn(g,Math.PI/2));g=180*rn(this,e,l,h,k+(b+m)/2)/Math.PI;break;case Kk:g=j/b.length}if(this.direction===Gk){switch(d){case Lk:sn(this,a,h,Jk);break;case Mk:tn(this,
a,h,Jk);break;case Kk:un(this,a,j/2,h,Jk)}switch(d){case Lk:sn(this,c,h+g,Ik);break;case Mk:tn(this,c,h+g,Ik);break;case Kk:un(this,c,j/2,h+g,Ik)}}else{switch(d){case Lk:sn(this,c,h,Jk);break;case Mk:tn(this,c,h,Jk);break;case Kk:un(this,c,j/2,h,Jk)}switch(d){case Lk:sn(this,a,h+g,Ik);break;case Mk:tn(this,a,h+g,Ik);break;case Kk:un(this,a,j/2,h+g,Ik)}}}else switch(d){case Lk:sn(this,b,h,this.direction);break;case Mk:tn(this,b,h,this.direction);break;case Kk:un(this,b,j,h,this.direction);break;case Nk:qn(this,
b,j,h,this.direction)}}this.updateParts();this.Sc=p;this.Re=i};function un(a,b,c,d,e){for(var g=a.Cp,h=a.fd,a=a.bg,d=d*Math.PI/180,c=c*Math.PI/180,j=b.length,k=0;k<j;k++){var l=d+(e===Ik?k*c/(360<=g?j:j-1):-(k*c)/j),m=b.ia(k),n=h*Math.tan(l)/a,n=Math.sqrt((h*h+a*a*n*n)/(1+n*n));m.ua=n*Math.cos(l);m.Da=n*Math.sin(l);m.ev=180*l/Math.PI}}
function tn(a,b,c,d){for(var e=a.fd,g=a.bg,h=a.tk,c=c*Math.PI/180,j=b.length,k=0;k<j;k++){var l=b.ia(k),m=b.ia(k===j-1?0:k+1),n=g*Math.sin(c);l.ua=e*Math.cos(c);l.Da=n;l.ev=180*c/Math.PI;isNaN(l.zf)&&nn(l,0);isNaN(m.zf)&&nn(m,0);l=rn(a,e,g,d===Ik?c:-c,(l.zf+m.zf)/2+h);c+=d===Ik?l:-l}}function sn(a,b,c,d){for(var e=a.fd,g=a.bg,h=a.st,c=c*Math.PI/180,j=b.length,k=0;k<j;k++){var l=b.ia(k);l.ua=e*Math.cos(c);l.Da=g*Math.sin(c);l.ev=180*c/Math.PI;l=rn(a,e,g,d===Ik?c:-c,h);c+=d===Ik?l:-l}}
function qn(a,b,c,d,e){var g=a.vt,g=a.Cp;a.Nl=0;a.bv=new kn;if(360>c){for(g=d+(e===Ik?g:-g);0>g;)g+=360;g%=360;180<g&&(g-=360);g*=Math.PI/180;a.vt=g;vn(a,b,c,d,e)}else wn(a,b,c,d,e);a.bv.pv(b)}
function wn(a,b,c,d,e){var g=a.fd,h=a.bg,j=a.tk,k=a.Qm,l=g*Math.cos(d*Math.PI/180),m=h*Math.sin(d*Math.PI/180),n=b.vg();if(3===n.length)n[0].ua=g*Math.cos(0),n[0].Da=h*Math.sin(0),n[1].ua=n[0].ua-n[0].width/2-n[1].width/2-j,n[1].y=n[0].y,n[2].ua=(n[0].ua+n[1].ua)/2,n[2].y=n[0].y-n[2].height-j;else if(4===n.length)n[0].ua=g*Math.cos(0),n[0].Da=h*Math.sin(0),n[2].ua=-n[0].ua,n[2].Da=n[0].Da,n[1].ua=0,n[1].y=Math.min(n[0].y,n[2].y)-n[1].height-j,n[3].ua=0,n[3].y=Math.max(n[0].y+n[0].height+j,n[2].y+
n[2].height+j);else{for(g=0;g<n.length;g++){n[g].ua=l;n[g].Da=m;if(g>=n.length-1)break;h=xn(a,l,m,n,g,e);h[0]||(h=yn(a,l,m,n,g,e));l=h[1];m=h[2]}a.Nl++;if(!(23<a.Nl)){var l=n[0].ua,m=n[0].Da,g=n[n.length-1].ua,h=n[n.length-1].Da,r=Math.abs(l-g)-((n[0].width+n[n.length-1].width)/2+j),s=Math.abs(m-h)-((n[0].height+n[n.length-1].height)/2+j),j=0;1>Math.abs(s)?Math.abs(l-g)<(n[0].width+n[n.length-1].width)/2&&(j=0):j=0<s?s:1>Math.abs(r)?0:r;r=q;r=Math.abs(g)>Math.abs(h)?0<g!==m>h:0<h!==l<g;if(r=e===Ik?
r:!r)j=-Math.abs(j),j=Math.min(j,-n[n.length-1].width),j=Math.min(j,-n[n.length-1].height);l=a.bv;if(0<j&&0>l.Um||Math.abs(j)<Math.abs(l.Um)&&!(0>j&&0<l.Um)){l.Um=j;l.Ul=[];l.Hn=[];for(m=0;m<n.length;m++)l.Ul[m]=n[m].Kb.x,l.Hn[m]=n[m].Kb.y}1<Math.abs(j)&&(a.fd=8>a.Nl?a.fd-j/(2*Math.PI):5>n.length&&10<j?a.fd/2:a.fd-(0<j?1.7:-2.3),a.bg=a.fd*k,wn(a,b,c,d,e))}}}
function vn(a,b,c,d,e){for(var g=a.fd,h=a.bg,j=a.Qm,k=g*Math.cos(d*Math.PI/180),l=h*Math.sin(d*Math.PI/180),m=b.vg(),n=0;n<m.length;n++){m[n].ua=k;m[n].Da=l;if(n>=m.length-1)break;var r=xn(a,k,l,m,n,e);r[0]||(r=yn(a,k,l,m,n,e));k=r[1];l=r[2]}a.Nl++;if(!(23<a.Nl)){b.ia(b.length-1);k=Math.atan2(l,k);k=e===Ik?a.vt-k:k-a.vt;k=Math.abs(k)<Math.abs(k-2*Math.PI)?k:k-2*Math.PI;g=k*(g+h)/2;h=a.bv;if(Math.abs(g)<Math.abs(h.Um)){h.Um=g;h.Ul=[];h.Hn=[];for(k=0;k<m.length;k++)h.Ul[k]=m[k].Kb.x,h.Hn[k]=m[k].Kb.y}1<
Math.abs(g)&&(a.fd=8>a.Nl?a.fd-g/(2*Math.PI):a.fd-(0<g?1.7:-2.3),a.bg=a.fd*j,vn(a,b,c,d,e))}}function xn(a,b,c,d,e,g){var h=a.fd,j=a.bg,k=0,l=0,a=(d[e].width+d[e+1].width)/2+a.tk,m=q;if(0<=c!==(g===Ik)){if(k=b+a,k>h){k=b-a;if(k<-h)return[q,k,l];m=i}}else if(k=b-a,k<-h){k=b+a;if(k>h)return[q,k,l];m=i}l=Math.sqrt(1-Math.min(1,k*k/(h*h)))*j;0>c!==m&&(l=-l);return Math.abs(c-l)>(d[e].height+d[e+1].height)/2?[q,k,l]:[i,k,l]}
function yn(a,b,c,d,e,g){var h=a.fd,j=a.bg,k=0,l=0,a=(d[e].height+d[e+1].height)/2+a.tk,m=q;if(0<=b!==(g===Ik)){if(l=c-a,l<-j){l=c+a;if(l>j)return[q,k,l];m=i}}else if(l=c+a,l>j){l=c-a;if(l<-j)return[q,k,l];m=i}k=Math.sqrt(1-Math.min(1,l*l/(j*j)))*h;0>b!==m&&(k=-k);return Math.abs(b-k)>(d[e].width+d[e+1].width)/2?[q,k,l]:[i,k,l]}function kn(){this.Um=-Infinity;this.Hn=this.Ul=p}
kn.prototype.pv=function(a){if(!(this.Ul===p||this.Hn===p))for(var b=0;b<this.Ul.length;b++){var c=a.ia(b);c.x=this.Ul[b];c.y=this.Hn[b]}};Ak.prototype.commitLayout=Ak.prototype.qv=function(){this.commitNodes();this.ts&&this.commitLinks()};Ak.prototype.commitNodes=Ak.prototype.Wy=function(){for(var a=this.NF,b=this.B.ma.l,c;b.next();)c=b.value,c.x+=a.x,c.y+=a.y,c.commit()};Ak.prototype.commitLinks=Ak.prototype.Vy=function(){for(var a=this.B.qc.l;a.next();)a.value.commit()};
function pn(a,b,c,d,e){var g=a.xF;if(0.0010>Math.abs(a.Qm-1))return d!==f&&e!==f?e*b:2*Math.PI*b;var a=b>c?Math.sqrt(b*b-c*c)/b:Math.sqrt(c*c-b*b)/c,h=0,j;j=d!==f&&e!==f?e/(g+1):Math.PI/(2*(g+1));for(var k=0;k<=g;k++)var l=Math.sin(d!==f&&e!==f?d+k*e/g:k*Math.PI/(2*g)),h=h+Math.sqrt(1-a*a*l*l)*j;return d!==f&&e!==f?(b>c?b:c)*h:4*(b>c?b:c)*h}function on(a,b,c,d,e){return b/(d!==f&&e!==f?pn(a,1,c,d,e):pn(a,1,c))}
function rn(a,b,c,d,e){if(0.0010>Math.abs(a.Qm-1))return e/b;var g=b>c?Math.sqrt(b*b-c*c)/b:Math.sqrt(c*c-b*b)/c,h=0,a=2*Math.PI/(700*a.B.ma.count);b>c&&(d+=Math.PI/2);for(var j=0;;j++){var k=Math.sin(d+j*a),h=h+(b>c?b:c)*Math.sqrt(1-g*g*k*k)*a;if(h>=e)return j*a}return 0}
Ak.prototype.sort=function(a){switch(this.rg){case Dk:break;case Ek:a.reverse();break;case Bk:a.sort(this.Ih);break;case Ck:a.sort(this.Ih);a.reverse();break;case Fk:for(var b=[],c=0;c<a.length;c++)b.push(0);for(var d=new H(mn),c=0;c<a.length;c++){var e=-1,g=-1;if(0===c)for(var h=0;h<a.length;h++){var j=a.ia(h).QG;j>e&&(e=j,g=h)}else for(h=0;h<a.length;h++)j=b[h],j>e&&(e=j,g=h);d.add(a.ia(g));b[g]=-1;g=a.ia(g);e=g.Mb;for(g=g.Lb;e.next();)h=e.value,h=h.mz,h=a.indexOf(h),0>h||0<=b[h]&&b[h]++;for(;g.next();)h=
g.value,h=h.sA,h=a.indexOf(h),0>h||0<=b[h]&&b[h]++}a=[];for(b=0;b<d.length;b++){j=d.ia(b);a[b]=[];for(var c=j.Lb,e=j.Mb,k,l;c.next();)k=c.value,l=d.indexOf(k.sA),l!==b&&0>a[b].indexOf(l)&&a[b].push(l);for(;e.next();)k=e.value,l=d.indexOf(k.mz),l!==b&&0>a[b].indexOf(l)&&a[b].push(l)}j=[];for(b=0;b<a.length;b++)j[b]=0;for(var c=[],m=[],n=[],e=[],g=new H(mn),h=b=0;b<a.length;b++){var r=a[b].length;if(1===r)e.push(b);else if(0===r)g.add(d.ia(b));else{if(0===h)c.push(b);else{for(var s=Infinity,v=Infinity,
y=-1,C=[],r=0;r<c.length;r++)if(0>a[c[r]].indexOf(c[r===c.length-1?0:r+1]))C.push(r===c.length-1?0:r+1);if(0===C.length)for(r=0;r<c.length;r++)C.push(r);for(r=0;r<C.length;r++){var D=C[r],I;l=a[b];k=m;I=n;for(var E=j,M=D,O=c,X=0,sa=0;sa<k.length;sa++){var ka=E[k[sa]],va=E[I[sa]],Fa=0,Ga=0;ka<va?(Fa=ka,Ga=va):(Fa=va,Ga=ka);if(Fa<M&&M<=Ga)for(ka=0;ka<l.length;ka++)va=l[ka],0>O.indexOf(va)||Fa<E[va]&&E[va]<Ga||(Fa===E[va]||Ga===E[va])||X++;else for(ka=0;ka<l.length;ka++)va=l[ka],0>O.indexOf(va)||Fa<
E[va]&&E[va]<Ga&&!(Fa===E[va]||Ga===E[va])&&X++}I=X;for(k=E=0;k<a[b].length;k++)l=c.indexOf(a[b][k]),0<=l&&(l=Math.abs(D-(l>=D?l+1:l)),E+=l<c.length+1-l?l:c.length+1-l);for(k=0;k<m.length;k++)l=j[m[k]],M=j[n[k]],l>=D&&l++,M>=D&&M++,l>M&&(O=M,M=l,l=O),M-l<(c.length+2)/2===(l<D&&D<=M)&&E++;if(I<s||I===s&&E<v)s=I,v=E,y=D}c.splice(y,0,b);for(r=0;r<c.length;r++)j[c[r]]=r;for(r=0;r<a[b].length;r++)s=a[b][r],0<=c.indexOf(s)&&(m.push(b),n.push(s))}h++}}m=q;for(n=c.length;;){m=i;for(j=0;j<e.length;j++)if(b=
e[j],r=a[b][0],l=c.indexOf(r),0<=l){for(h=v=0;h<a[r].length;h++)s=a[r][h],s=c.indexOf(s),0>s||s===l||(y=s>l?s-l:l-s,v+=s<l!==y>n-y?1:-1);c.splice(0>v?l:l+1,0,b);e.splice(j,1);j--}else m=q;if(m)break;else c.push(e[0]),e.splice(0,1)}for(b=0;b<c.length;b++)l=c[b],g.add(d.ia(l));return g;default:x.m("Invalid sorting type.")}return a};x.g(Ak,"radius",Ak.prototype.oE);x.defineProperty(Ak,{oE:"radius"},t("Pq"),function(a){if(this.Pq!==a&&(0<a||isNaN(a)))this.Pq=a,this.G()});x.g(Ak,"aspectRatio",Ak.prototype.xC);
x.defineProperty(Ak,{xC:"aspectRatio"},t("ep"),function(a){this.ep!==a&&0<a&&(this.ep=a,this.G())});x.g(Ak,"startAngle",Ak.prototype.fh);x.defineProperty(Ak,{fh:"startAngle"},t("Yd"),function(a){this.Yd!==a&&(this.Yd=a,this.G())});x.g(Ak,"sweepAngle",Ak.prototype.Wi);x.defineProperty(Ak,{Wi:"sweepAngle"},t("$d"),function(a){this.$d!==a&&(this.$d=0<a&&360>=a?a:360,this.G())});x.g(Ak,"arrangement",Ak.prototype.ne);
x.defineProperty(Ak,{ne:"arrangement"},t("Wc"),function(a){if(this.Wc!==a&&(u&&x.i(a,oa,Ak,"arrangement"),a===Nk||a===Mk||a===Lk||a===Kk))this.Wc=a,this.G()});x.g(Ak,"direction",Ak.prototype.direction);x.defineProperty(Ak,{direction:"direction"},t("ga"),function(a){if(this.ga!==a&&(u&&x.i(a,oa,Ak,"direction"),a===Ik||a===Jk||a===Gk||a===Hk))this.ga=a,this.G()});x.g(Ak,"sorting",Ak.prototype.rg);
x.defineProperty(Ak,{rg:"sorting"},t("yc"),function(a){if(this.yc!==a&&(u&&x.i(a,oa,Ak,"sorting"),a===Dk||a===Ek||a===Bk||Ck||a===Fk))this.yc=a,this.G()});x.g(Ak,"comparer",Ak.prototype.Ih);x.defineProperty(Ak,{Ih:"comparer"},t("vc"),function(a){this.vc!==a&&(u&&x.k(a,"function",Ak,"comparer"),this.vc=a,this.G())});x.g(Ak,"spacing",Ak.prototype.spacing);x.defineProperty(Ak,{spacing:"spacing"},t("zh"),function(a){this.zh!==a&&(this.zh=a,this.G())});x.g(Ak,"nodeDiameterFormula",Ak.prototype.Gs);
x.defineProperty(Ak,{Gs:"nodeDiameterFormula"},t("Jq"),function(a){if(this.Jq!==a&&(u&&x.i(a,oa,Ak,"nodeDiameterFormula"),a===Pk||a===Ok))this.Jq=a,this.G()});x.u(Ak,{OF:"actualXRadius"},t("fd"));x.u(Ak,{PF:"actualYRadius"},t("bg"));x.u(Ak,{RI:"actualSpacing"},t("tk"));x.u(Ak,{NF:"actualCenter"},function(){return isNaN(this.nd.x)||isNaN(this.nd.y)?new K(0,0):new K(this.nd.x+this.OF,this.nd.y+this.PF)});var Mk;Ak.ConstantSpacing=Mk=x.s(Ak,"ConstantSpacing",0);var Lk;
Ak.ConstantDistance=Lk=x.s(Ak,"ConstantDistance",1);var Kk;Ak.ConstantAngle=Kk=x.s(Ak,"ConstantAngle",2);var Nk;Ak.Packed=Nk=x.s(Ak,"Packed",3);var Ik;Ak.Clockwise=Ik=x.s(Ak,"Clockwise",4);var Jk;Ak.Counterclockwise=Jk=x.s(Ak,"Counterclockwise",5);var Gk;Ak.BidirectionalLeft=Gk=x.s(Ak,"BidirectionalLeft",6);var Hk;Ak.BidirectionalRight=Hk=x.s(Ak,"BidirectionalRight",7);var Dk;Ak.Forwards=Dk=x.s(Ak,"Forwards",8);var Ek;Ak.Reverse=Ek=x.s(Ak,"Reverse",9);var Bk;Ak.Ascending=Bk=x.s(Ak,"Ascending",10);
var Ck;Ak.Descending=Ck=x.s(Ak,"Descending",11);var Fk;Ak.Optimized=Fk=x.s(Ak,"Optimized",12);var Pk;Ak.Pythagorean=Pk=x.s(Ak,"Pythagorean",13);var Ok;Ak.Circular=Ok=x.s(Ak,"Circular",14);function ln(){Zm.call(this)}x.S("CircularNetwork",ln);x.Ja(ln,Zm);ln.prototype.createVertex=ln.prototype.Nj=function(){return new mn};ln.prototype.createEdge=ln.prototype.$n=function(){return new zn};function mn(){cn.call(this);this.HA=this.Pm=NaN}x.S("CircularVertex",mn);x.Ja(mn,cn);
function nn(a,b){var c=a.B;if(c===p)return NaN;c=c.Ub;if(c===p)return NaN;if(c.ne===Nk)if(c.Gs===Ok)a.Pm=Math.max(a.width,a.height);else{var c=Math.abs(Math.sin(b)),d=Math.abs(Math.cos(b));if(0===c)return a.width;if(0===d)return a.height;a.Pm=Math.min(a.height/c,a.width/d)}else a.Pm=c.Gs===Ok?Math.max(a.width,a.height):Math.sqrt(a.width*a.width+a.height*a.height);return a.Pm}x.g(mn,"diameter",mn.prototype.zf);x.defineProperty(mn,{zf:"diameter"},t("Pm"),ba("Pm"));x.g(mn,"actualAngle",mn.prototype.ev);
x.defineProperty(mn,{ev:"actualAngle"},t("HA"),ba("HA"));function zn(){dn.call(this)}x.S("CircularEdge",zn);x.Ja(zn,dn);function An(){Yh.call(this);this.ag=p;this.iq=0;this.Jf=(new cb(100,100)).freeze();this.dp=q;this.Kd=this.yh=i;this.jn=100;this.Fp=1;this.Tp=1E3;this.yp=0.05;this.xp=50;this.vp=150;this.wp=0;this.tp=20;this.sp=25}x.S("ForceDirectedLayout",An);x.Ja(An,Yh);
An.prototype.cloneProtected=An.prototype.Db=function(a){Yh.prototype.Db.call(this,a);a.Jf=this.Jf.Q();a.dp=this.dp;a.yh=this.yh;a.Kd=this.Kd;a.jn=this.jn;a.Fp=this.Fp;a.Tp=this.Tp;a.yp=this.yp;a.xp=this.xp;a.vp=this.vp;a.wp=this.wp;a.tp=this.tp;a.sp=this.sp};An.prototype.createNetwork=An.prototype.uv=function(){var a=new Bn;$m(a,this);return a};
An.prototype.doLayout=An.prototype.Yr=function(a){this.Sc===p&&(this.Sc=this.makeNetwork(a));a=this.Rv;if(0<this.B.ma.count){this.B.xv();for(var b=this.B.ma.l;b.next();){var c=b.value;c.hj=this.electricalCharge(c);c.hn=this.gravitationalMass(c)}for(b=this.B.qc.l;b.next();)c=b.value,c.rr=this.springStiffness(c),c.ki=this.springLength(c);this.iq=0;a:{if(!(3>this.B.ma.count)){var d=b=0,c=this.B.ma.l;c.next();for(var e=c.value.N;c.next();){if(c.value.N.Oe(e)&&(b++,1<b)){b=i;break a}if(10<d)break;d++}}b=
q}if(b){b=this.B;for(d=b.rI().l;d.next();){this.Sc=e=d.value;for(c=this.B.ma.l;c.next();){for(var e=c.value,g=0,h=e.ma;h.next();)g++;e.hf=g;e.yj=1;e.tl=p;e.Qg=p}Cn(this,0,a)}this.Sc=b;d.reset();u&&x.i(b,Bn,An,"arrangeConnectedGraphs:singletons");for(var c=this.iv,j=d.count,e=i,h=g=0,k=[],l=0;l<j+b.ma.count+2;l++)k[l]=p;j=0;for(d.reset();d.next();){var m=d.value,l=this.re(m);if(e)e=q,g=l.x+l.width/2,h=l.y+l.height/2,k[0]=new K(l.right+c.width,l.top),k[1]=new K(l.left,l.bottom+c.height),j=2;else{var n=
Dn(k,j,new K(g,h),new cb(l.width,l.height),c),r=k[n],s=new K(r.x+l.width+c.width,r.y),v=new K(r.x,r.y+l.height+c.height);n+1<j&&k.splice(n+1,0,p);k[n]=s;k[n+1]=v;j++;n=r.x-l.x;l=r.y-l.y;for(m=m.ma.l;m.next();){var y=m.value;y.ua+=n;y.Da+=l}}}for(m=b.ma.l;m.next();)y=m.value,l=y.N,2>j?(g=l.x+l.width/2,h=l.y+l.height/2,k[0]=new K(l.right+c.width,l.top),k[1]=new K(l.left,l.bottom+c.height),j=2):(n=Dn(k,j,new K(g,h),new cb(l.width,l.height),c),r=k[n],s=new K(r.x+l.width+c.width,r.y),v=new K(r.x,r.y+l.height+
c.height),n+1<j&&k.splice(n+1,0,p),k[n]=s,k[n+1]=v,j++,y.ua=r.x+y.width/2,y.Da=r.y+y.height/2);for(d.reset();d.next();){e=d.value;for(g=e.ma.l;g.next();)c=g.value,b.Pk(c);for(e=e.qc.l;e.next();)c=e.value,b.Jn(c)}}En(this,a);this.updateParts()}this.jn=a;this.Sc=p;this.Re=i};An.prototype.re=function(a){u&&x.i(a,Bn,An,"computeBounds:net");for(var b=new L,c=i,a=a.ma.l;a.next();){var d=a.value;c?(c=q,b.set(d.N)):b.Yi(d.N)}return b};
function Fn(a,b,c){u&&(x.n(b,An,"computeClusterLayoutIterations:level"),x.n(c,An,"computeClusterLayoutIterations:maxiter"));return Math.max(Math.min(a.B.ma.count,c*(b+1)/11),10)}
function Cn(a,b,c){u&&(x.n(b,An,"layoutClusters:level"),x.n(c,An,"layoutClusters:maxiter"));var d;u&&x.n(b,An,"hasClusters:level");if(10<b||3>a.B.ma.count)d=q;else{a.ag===p?a.ag=new H(Gn):a.ag.clear();a.ag.cg(a.B.ma);d=a.ag;d.sort(function(a,b){return a===p||b===p||a===b?0:b.hf-a.hf});for(var e=d.count-1;0<=e&&1>=d.o[e].hf;)e--;d=1<d.count-e}if(d){d=a.lm;a.lm*=1+1/(b+1);u&&x.n(b,An,"pushSubNetwork:level");for(var e=a.B,g=new Bn,h=a.ag.l;h.next();){var j=h.value;if(1<j.hf){g.Pk(j);var k={BA:j.hf,CA:j.width,
AA:j.height,kF:j.M.x,lF:j.M.y};j.Qg===p&&(j.Qg=new H);j.Qg.add(k);j.Zx=j.Qg.count-1}else break}for(var l=e.qc.l;l.next();){var m=l.value;if(m.W.B===g&&m.T.B===g)g.Jn(m);else if(m.W.B===g){var n=m.W.tl;n===p&&(n=new H(Gn),m.W.tl=n);n.add(m.T);m.W.hf--;m.W.yj+=m.T.yj}else m.T.B===g&&(n=m.T.tl,n===p&&(n=new H(Gn),m.T.tl=n),n.add(m.W),m.T.hf--,m.T.yj+=m.W.yj)}for(l=g.qc.l;l.next();)m=l.value,m.ki*=Math.max(1,oc((m.W.yj+m.T.yj)/(4*b+1)));for(h=g.ma.l;h.next();)if(j=h.value,n=j.tl,n!==p&&0<n.count&&(k=
j.Qg.o[j.Qg.count-1],k=k.BA-j.hf,!(0>=k))){for(var r=0,s=0,v=n.count-k;v<n.count;v++){for(var y=n.o[v],m=p,l=y.qc.l;l.next();){var C=l.value;if(C.$G(y)===j){m=C;break}}m!==p&&(s+=m.ki,r+=y.width*y.height)}n=j.ua;l=j.Da;m=j.width;v=j.height;y=j.M;C=m*v;1>C&&(C=1);r=oc((r+C+4*s*s/(k*k))/C);k=(r-1)*m/2;r=(r-1)*v/2;j.Kb=new L(n-y.x-k,l-y.y-r,m+2*k,v+2*r);j.focus=new K(y.x+k,y.y+r)}a.Sc=g;g=Math.max(0,Fn(a,b,c));a.Rv+=g;Cn(a,b+1,c);En(a,g);u&&(x.i(e,Bn,An,"popNetwork:oldnet"),x.n(b,An,"popNetwork:level"));
for(c=a.B.ma.l;c.next();)g=c.value,g.B=e,g.Qg!==p&&(h=g.Qg.o[g.Zx],g.hf=h.BA,j=h.kF,k=h.lF,g.Kb=new L(g.ua-j,g.Da-k,h.CA,h.AA),g.focus=new K(j,k),g.Zx--);for(c=a.B.qc.l;c.next();)c.value.B=e;a.Sc=e;c=a.ag;c===p?c=new H(Gn):c.clear();c.cg(e.ma);c.sort(function(a,b){return a===p||b===p||a===b?0:b.hf-a.hf});for(e=c.l;e.next();)Hn(a,e.value,b);a.lm=d}}
function Hn(a,b,c){u&&(x.i(b,Gn,An,"surroundNode:oldnet"),x.n(c,An,"surroundNode:level"));var d=b.tl;if(!(d===p||0===d.count)){var c=b.ua,e=b.Da,g=b.width,h=b.height;b.Qg!==p&&0<b.Qg.count&&(h=b.Qg.o[0],g=h.CA,h=h.AA);for(var g=oc(g*g+h*h)/2,j=q,k=h=0,l=0,m=b.ma.l;m.next();){var n=m.value;1>=n.hf?k++:(j=i,l++,h+=Math.atan2(b.Da-n.Da,b.ua-n.ua))}if(0!==k){0<l&&(h/=l);l=b=0;b=j?2*Math.PI/(k+1):2*Math.PI/k;0===k%2&&(l=b/2);1<d.count&&d.sort(function(a,b){return a===p||b===p||a===b?0:b.width*b.height-
a.width*a.height});j=0===k%2?0:1;for(m=d.l;m.next();)if(n=m.value,!(1<n.hf)&&!a.isFixed(n)){d=p;for(k=n.qc.l;k.next();){d=k.value;break}var k=n.width,r=n.height,k=oc(k*k+r*r)/2,d=g+d.ki+k,k=h+(b*(j/2>>1)+l)*(0==j%2?1:-1);n.ua=c+d*Math.cos(k);n.Da=e+d*Math.sin(k);j++}}}}
function Dn(a,b,c,d,e){var g=9E19,h=-1,j=0;a:for(;j<b;j++){var k=a[j],l=k.x-c.x,m=k.y-c.y,l=l*l+m*m;if(l<g){for(m=j-1;0<=m;m--)if(a[m].y>k.y&&a[m].x-k.x<d.width+e.width)continue a;for(m=j+1;m<b;m++)if(a[m].x>k.x&&a[m].y-k.y<d.height+e.height)continue a;h=j;g=l}}return h}An.prototype.QF=function(a){var b=a.kb;if(b!==p)for(b=b.fD();b.next();){var c=b.value;if("Comment"===c.Cd){var d=this.B.Ne(c);d===p&&(d=this.B.Kn(c),d.hj=this.OC,c=this.B.qm(a,d,p),c!==p&&(c.ki=this.PC))}}};
function In(a,b){u&&(x.i(a,Gn,An,"getNodeDistance:vertexA"),x.i(b,Gn,An,"getNodeDistance:vertexB"));var c=a.N,d=c.x,e=c.y,g=c.width,c=c.height,h=b.N,j=h.x,k=h.y,l=h.width,h=h.height;return d+g<j?e>k+h?(d=d+g-j,e=e-k-h,oc(d*d+e*e)):e+c<k?(d=d+g-j,e=e+c-k,oc(d*d+e*e)):j-(d+g):d>j+l?e>k+h?(d=d-j-l,e=e-k-h,oc(d*d+e*e)):e+c<k?(d=d-j-l,e=e+c-k,oc(d*d+e*e)):d-(j+l):e>k+h?e-(k+h):e+c<k?k-(e+c):0.1}
function En(a,b){u&&x.n(b,An,"performIterations:num");a.ag=p;for(var c=a.iq+b;a.iq<c&&!(a.iq++,!Jn(a)););a.ag=p}
function Jn(a){a.ag===p&&(a.ag=new H(Gn),a.ag.cg(a.B.ma));var b=a.ag;if(0>=b.count)return q;var c=b.o[0];c.Td=0;c.Ud=0;for(var d=c.ua,e=d,g=c.Da,h=g,c=1;c<b.count;c++){var j=b.o[c];j.Td=0;j.Ud=0;var k=j.ua,j=j.Da,d=Math.min(d,k),e=Math.max(e,k),g=Math.min(g,j),h=Math.max(h,j)}(h=e-d>h-g)?b.sort(function(a,b){return a===p||b===p||a===b?0:a.ua-b.ua}):b.sort(function(a,b){return a===p||b===p||a===b?0:a.Da-b.Da});for(var l=0,m=k=0,c=0;c<b.count;c++){j=b.o[c];d=j.ua;e=j.Da;k=j.hj*a.electricalFieldX(d,
e);m=j.hj*a.electricalFieldY(d,e);j.Td+=k;j.Ud+=m;k=j.hn*a.gravitationalFieldX(d,e);m=j.hn*a.gravitationalFieldY(d,e);j.Td+=k;j.Ud+=m;for(var n=a.lm,r=c+1;r<b.count;r++)if(g=b.o[r],g!==j){var m=g.ua,s=g.Da;if(Math.abs(d-m)>n){if(h)break}else if(Math.abs(e-s)>n){if(!h)break}else{var v=In(j,g);1>v?(d>m?(k=Math.abs(g.N.right-j.N.left),k=Kn(1+k)):d<m?(k=Math.abs(g.N.left-j.N.right),k=-Kn(1+k)):(k=Math.max(g.width,j.width),k=Kn(1+k)-k/2),e>s?(m=Math.abs(g.N.bottom-j.N.top),m=Kn(1+m)):d<m?(m=Math.abs(g.N.top-
j.N.bottom),m=-Kn(1+m)):(m=Math.max(g.height,j.height),m=Kn(1+m)-m/2)):(l=-(j.hj*g.hj)/(v*v),k=l*((m-d)/v),m=l*((s-e)/v));j.Td+=k;j.Ud+=m;g.Td-=k;g.Ud-=m}}}for(c=a.B.qc.l;c.next();)h=c.value,j=h.W,g=h.T,d=j.ua,e=j.Da,m=g.ua,s=g.Da,v=In(j,g),1>v?(k=(d>m?1:-1)*Kn(1+Math.max(g.width,j.width)),m=(e>s?1:-1)*Kn(1+Math.max(g.height,j.height))):(l=h.rr*(v-h.ki),k=l*((m-d)/v),m=l*((s-e)/v)),j.Td+=k,j.Ud+=m,g.Td-=k,g.Ud-=m;c=0;d=Math.max(a.lm/20,50);for(e=0;e<b.count;e++)j=b.o[e],a.isFixed(j)||(g=j.Td,h=j.Ud,
g<-d?g=-d:g>d&&(g=d),h<-d?h=-d:h>d&&(h=d),j.ua+=g,j.Da+=h,c=Math.max(c,g*g+h*h));return c>a.iz*a.iz}function Kn(a){return Math.floor(a*Math.random())}An.prototype.commitLayout=An.prototype.qv=function(){this.jA();this.commitNodes();this.ts&&this.commitLinks()};An.prototype.jA=function(){if(this.xm)for(var a=this.B.qc.l;a.next();){var b=a.value.Wa;b!==p&&(b.qb=Cb,b.ub=Cb)}};
An.prototype.commitNodes=An.prototype.Wy=function(){var a=0,b=0;if(this.vC)var b=this.re(this.B),c=this.nd,a=c.x-b.x,b=c.y-b.y;for(var c=new L,d=this.B.ma.l;d.next();){var e=d.value;if(0!==a||0!==b)c.set(e.N),c.x+=a,c.y+=b,e.Kb=c;e.commit()}};An.prototype.commitLinks=An.prototype.Vy=function(){for(var a=this.B.qc.l;a.next();)a.value.commit()};An.prototype.springStiffness=An.prototype.nM=function(a){a=a.rr;return!isNaN(a)?a:this.TC};
An.prototype.springLength=An.prototype.mM=function(a){a=a.ki;return!isNaN(a)?a:this.SC};An.prototype.electricalCharge=An.prototype.sK=function(a){a=a.hj;return!isNaN(a)?a:this.QC};An.prototype.electricalFieldX=An.prototype.tK=ca(0);An.prototype.electricalFieldY=An.prototype.uK=ca(0);An.prototype.gravitationalMass=An.prototype.VK=function(a){a=a.hn;return!isNaN(a)?a:this.RC};An.prototype.gravitationalFieldX=An.prototype.TK=ca(0);An.prototype.gravitationalFieldY=An.prototype.UK=ca(0);
An.prototype.isFixed=An.prototype.JD=function(a){return a.xx};x.u(An,{YJ:"currentIteration"},t("iq"));x.g(An,"arrangementSpacing",An.prototype.iv);x.defineProperty(An,{iv:"arrangementSpacing"},t("Jf"),function(a){this.Jf.K(a)||(this.Jf.bb(a),this.G())});x.g(An,"arrangesToOrigin",An.prototype.vC);x.defineProperty(An,{vC:"arrangesToOrigin"},t("dp"),function(a){this.dp!==a&&(this.dp=a,this.G())});x.g(An,"setsPortSpots",An.prototype.xm);
x.defineProperty(An,{xm:"setsPortSpots"},t("yh"),function(a){this.yh!==a&&(this.yh=a,this.G())});x.g(An,"comments",An.prototype.Uy);x.defineProperty(An,{Uy:"comments"},t("Kd"),function(a){this.Kd!==a&&(this.Kd=a,this.G())});x.g(An,"maxIterations",An.prototype.Rv);x.defineProperty(An,{Rv:"maxIterations"},t("jn"),function(a){this.jn!==a&&0<=a&&(this.jn=a,this.G())});x.g(An,"epsilonDistance",An.prototype.iz);
x.defineProperty(An,{iz:"epsilonDistance"},t("Fp"),function(a){this.Fp!==a&&0<a&&(this.Fp=a,this.G())});x.g(An,"infinityDistance",An.prototype.lm);x.defineProperty(An,{lm:"infinityDistance"},t("Tp"),function(a){this.Tp!==a&&1<a&&(this.Tp=a,this.G())});x.g(An,"defaultSpringStiffness",An.prototype.TC);x.defineProperty(An,{TC:"defaultSpringStiffness"},t("yp"),function(a){this.yp!==a&&(this.yp=a,this.G())});x.g(An,"defaultSpringLength",An.prototype.SC);
x.defineProperty(An,{SC:"defaultSpringLength"},t("xp"),function(a){this.xp!==a&&(this.xp=a,this.G())});x.g(An,"defaultElectricalCharge",An.prototype.QC);x.defineProperty(An,{QC:"defaultElectricalCharge"},t("vp"),function(a){this.vp!==a&&(this.vp=a,this.G())});x.g(An,"defaultGravitationalMass",An.prototype.RC);x.defineProperty(An,{RC:"defaultGravitationalMass"},t("wp"),function(a){this.wp!==a&&(this.wp=a,this.G())});x.g(An,"defaultCommentSpringLength",An.prototype.PC);
x.defineProperty(An,{PC:"defaultCommentSpringLength"},t("tp"),function(a){this.tp!==a&&(this.tp=a,this.G())});x.g(An,"defaultCommentElectricalCharge",An.prototype.OC);x.defineProperty(An,{OC:"defaultCommentElectricalCharge"},t("sp"),function(a){this.sp!==a&&(this.sp=a,this.G())});function Bn(){Zm.call(this)}x.S("ForceDirectedNetwork",Bn);x.Ja(Bn,Zm);Bn.prototype.createVertex=Bn.prototype.Nj=function(){return new Gn};Bn.prototype.createEdge=Bn.prototype.$n=function(){return new Ln};
function Gn(){cn.call(this);this.xx=q;this.hn=this.hj=NaN;this.yj=this.hf=this.Ud=this.Td=0;this.Qg=this.tl=p;this.Zx=0}x.S("ForceDirectedVertex",Gn);x.Ja(Gn,cn);x.g(Gn,"isFixed",Gn.prototype.JD);x.defineProperty(Gn,{JD:"isFixed"},t("xx"),ba("xx"));x.g(Gn,"charge",Gn.prototype.oG);x.defineProperty(Gn,{oG:"charge"},t("hj"),ba("hj"));x.g(Gn,"mass",Gn.prototype.EH);x.defineProperty(Gn,{EH:"mass"},t("hn"),ba("hn"));x.g(Gn,"forceX",Gn.prototype.VG);x.defineProperty(Gn,{VG:"forceX"},t("Td"),ba("Td"));
x.g(Gn,"forceY",Gn.prototype.WG);x.defineProperty(Gn,{WG:"forceY"},t("Ud"),ba("Ud"));function Ln(){dn.call(this);this.ki=this.rr=NaN}x.S("ForceDirectedEdge",Ln);x.Ja(Ln,dn);x.g(Ln,"stiffness",Ln.prototype.tI);x.defineProperty(Ln,{tI:"stiffness"},t("rr"),ba("rr"));x.g(Ln,"length",Ln.prototype.length);x.defineProperty(Ln,{length:"length"},t("ki"),ba("ki"));
function Y(){Yh.call(this);this.ud=this.Md=25;this.ga=0;this.Lm=Mn;this.en=Nn;this.$m=On;this.El=4;this.Em=Pn;this.ti=Qn;this.yh=i;this.wb=this.cu=this.gb=-1;this.ff=this.zq=0;this.xd=this.df=this.Ig=this.th=this.wd=p;this.Gq=0;this.nu=this.Kl=p;this.Pf=0;this.Hq=p;this.Mg=[];this.Mg.length=100}x.S("LayeredDigraphLayout",Y);x.Ja(Y,Yh);
Y.prototype.cloneProtected=Y.prototype.Db=function(a){Yh.prototype.Db.call(this,a);a.Md=this.Md;a.ud=this.ud;a.ga=this.ga;a.Lm=this.Lm;a.en=this.en;a.$m=this.$m;a.El=this.El;a.Em=this.Em;a.ti=this.ti;a.yh=this.yh};Y.prototype.createNetwork=Y.prototype.uv=function(){var a=new Rn;$m(a,this);return a};
Y.prototype.doLayout=Y.prototype.Yr=function(a){this.Sc===p&&(this.Sc=this.makeNetwork(a));this.nd=bn(this,this.nd);this.cu=-1;this.ff=this.zq=0;this.Hq=this.nu=this.Kl=p;for(a=0;a<this.Mg.length;a++)this.Mg[a]=p;if(0<this.B.ma.count){this.B.xv();for(a=this.B.qc.l;a.next();)a.value.Cb=q;switch(this.Lm){default:case Sn:var b=0,c=this.B.ma.count-1,a=[];a.length=c+1;for(var d=this.B.ma.l;d.next();)d.value.Ia=i;for(;Tn(this.B)!==p;){for(d=Un(this.B);d!==p;)a[c]=d,c--,d.Ia=q,d=Un(this.B);for(d=Vn(this.B);d!==
p;)a[b]=d,b++,d.Ia=q,d=Vn(this.B);u&&x.i(this.B,Zm,Y,"greedyCycleRemovalFindNodeMaxDegDiff:network");for(var d=p,e=0,g=this.B.ma.l;g.next();){var h=g.value;if(h.Ia){for(var j=0,k=h.Lb;k.next();)k.value.T.Ia&&j++;for(var k=0,l=h.Mb;l.next();)l.value.W.Ia&&k++;if(d===p||e<j-k)d=h,e=j-k}}d!==p&&(a[b]=d,b++,d.Ia=q)}for(b=0;b<this.B.ma.count;b++)a[b].ha=b;for(a=this.B.qc.l;a.next();)b=a.value,b.W.ha>b.T.ha&&(this.B.Zv(b),b.Cb=i);break;case Mn:for(b=this.B.ma.l;b.next();)b.value.sk=-1,b.value.Sm=-1;for(a=
this.B.qc.l;a.next();)a.value.Ip=q;this.Gq=0;for(b.reset();b.next();)0===b.value.Mb.count&&Wn(this,b.value);for(b.reset();b.next();)-1===b.value.sk&&Wn(this,b.value);for(a.reset();a.next();)b=a.value,b.Ip||(c=b.W,d=c.Sm,e=b.T,g=e.Sm,e.sk<c.sk&&d<g&&(this.B.Zv(b),b.Cb=i))}for(a=this.B.ma.l;a.next();)b=a.value,b.H=-1;this.gb=-1;this.assignLayers();for(a.reset();a.next();)this.gb=Math.max(this.gb,a.value.H);c=this.B.qc.l;for(b=[];c.next();)a=c.value,a.Ia=q,b.push(a);for(c=0;c<b.length;c++)if(a=b[c],
!a.Ia&&!((a.W.kb===p||a.T.kb===p)&&a.W.H===a.T.H)){g=j=h=k=0;e=a.W;d=a.T;if(a.Wa!==p){j=a.Wa;if(j===p)continue;var m=e.kb,g=d.kb;if(m===p||g===p)continue;var n=j.ja,h=j.na,r=j.Zc,k=j.Sd;a.Cb&&(j=n,l=r,n=h,r=k,h=j,k=l);var l=e.M.copy(),j=a.T.M.copy(),s=a.Cb?d.N.copy():e.N.copy(),r=isNaN(s.x)?l.copy():Ol(n,r,Kb);m!==n&&(!isNaN(s.x)&&n.tb())&&(m=e.N.copy(),isNaN(m.x)||(r.x+=s.x-m.x,r.y+=s.y-m.y));m=a.Cb?e.N.copy():d.N.copy();k=isNaN(m.x)?j.copy():Ol(h,k,Kb);g!==h&&(!isNaN(m.x)&&h.tb())&&(g=d.N,isNaN(g.x)||
(k.x+=m.x-g.x,k.y+=m.y-g.y));90===this.ga||270===this.ga?(g=Math.round((r.x-l.x)/this.ud),h=r.x,j=Math.round((k.x-j.x)/this.ud),k=k.x):(g=Math.round((r.y-l.y)/this.ud),h=r.y,j=Math.round((k.y-j.y)/this.ud),k=k.y);a.lf=g;a.mf=h;a.Ge=j;a.of=k}else a.lf=0,a.mf=0,a.Ge=0,a.of=0;l=e.H;r=d.H;m=a;u&&x.i(m,Xn,Y,"_goesAround:edge");n=0;s=m.Wa;if(s!==p){if(s.Zc!==p){var v=s.ja;vm(s)===Yn(this,m,i)?n+=1:this.xm&&v!==p&&1===v.ports.count&&m.Cb&&(n+=1)}s.Sd!==p&&(v=s.na,wm(s)===Yn(this,m,q)?n+=2:this.xm&&v!==p&&
1===v.ports.count&&m.Cb&&(n+=2))}m=1===n||3===n?i:q;if(n=2===n||3===n?i:q)s=this.B.Nj(),s.kb=p,s.pl=1,s.H=l,s.uj=e,this.B.Pk(s),e=this.B.qm(e,s,a.Wa),e.Ia=q,e.Cb=a.Cb,e.lf=g,e.Ge=0,e.mf=h,e.of=0,e=s;v=1;m&&v--;if(l-r>v&&0<l){a.Ia=q;s=this.B.Nj();s.kb=p;s.pl=2;s.H=l-1;this.B.Pk(s);e=this.B.qm(e,s,a.Wa);e.Ia=i;e.Cb=a.Cb;e.lf=n?0:g;e.Ge=0;e.mf=n?0:h;e.of=0;e=s;for(l--;l-r>v&&0<l;)s=this.B.Nj(),s.kb=p,s.pl=3,s.H=l-1,this.B.Pk(s),e=this.B.qm(e,s,a.Wa),e.Ia=i,e.Cb=a.Cb,e.lf=0,e.Ge=0,e.mf=0,e.of=0,e=s,l--;
e=this.B.qm(s,d,a.Wa);e.Ia=!m;m&&(s.uj=d);e.Cb=a.Cb;e.lf=0;e.Ge=j;e.mf=0;e.of=k}else a.Ia=i}b=this.wd=[];for(c=0;c<=this.gb;c++)b[c]=0;for(a=this.B.ma.l;a.next();)a.value.ha=-1;this.initializeIndices();this.cu=-1;for(c=this.ff=this.zq=0;c<=this.gb;c++)b[c]>b[this.ff]&&(this.cu=b[c]-1,this.ff=c),b[c]<b[this.zq]&&(this.zq=c);this.Hq=[];for(c=0;c<b.length;c++)this.Hq[c]=[];for(a.reset();a.next();)c=a.value,b=c.H,this.Hq[b][c.ha]=c;this.wb=-1;for(a=0;a<=this.gb;a++){b=Zn(this,a);c=0;d=this.wd[a];for(e=
0;e<d;e++)g=b[e],c+=$n(this,g,i),g.aa=c,c+=1,c+=$n(this,g,q);this.wb=Math.max(this.wb,c-1);ao(this,a,b)}this.reduceCrossings();this.straightenAndPack();this.updateParts()}this.Sc=p;this.Re=i};function bo(a){u&&x.i(a,dn,Y,"linkMinLength:edge");for(var b=a.T,c=0,a=a.W.Lb;a.next();)a.value.T===b&&c++;return 1<c?2:1}function co(a){u&&x.i(a,dn,Y,"linkLengthWeight:edge");return 1}function eo(a){u&&x.i(a,dn,Y,"linkStraightenWeight:edge");var b=a.W.kb,a=a.T.kb;return b===p&&a===p?8:b===p||a===p?4:1}
function fo(a,b,c){u&&(x.i(b,ho,Y,"nodeMinLayerSpace:v"),x.k(c,"boolean",Y,"nodeMinLayerSpace:topleft"));return b.kb===p?0:90===a.ga||270===a.ga?c?b.M.y+10:b.N.height-b.M.y+10:c?b.M.x+10:b.N.width-b.M.x+10}
function $n(a,b,c){u&&(x.i(b,ho,Y,"nodeMinColumnSpace:v"),x.k(c,"boolean",Y,"nodeMinColumnSpace:topleft"));if(b.kb===p)return 0;var d=c?b.Lx:b.Kx;if(d!==f)return d;d=a.ga;return 90===d||270===d?c?b.Lx=b.M.x/a.ud+1|0:b.Kx=(b.N.width-b.M.x)/a.ud+1|0:c?b.Lx=b.M.y/a.ud+1|0:b.Kx=(b.N.height-b.M.y)/a.ud+1|0}function io(a){a.Kl===p&&(a.Kl=[]);for(var b=0,c=a.B.ma.l,d;c.next();)d=c.value,a.Kl[b]=d.H,b++,a.Kl[b]=d.aa,b++,a.Kl[b]=d.ha,b++;return a.Kl}
function jo(a,b){u&&x.i(b,Array,Y,"restoreLayout:layout");for(var c=0,d=a.B.ma.l,e;d.next();)e=d.value,e.H=b[c],c++,e.aa=b[c],c++,e.ha=b[c],c++}
function ko(a,b,c){u&&(x.n(b,Y,"crossingMatrix:unfixedLayer"),x.n(c,Y,"crossingMatrix:direction"));var d=Zn(a,b),e=a.wd[b];a.nu||(a.nu=[]);for(var g=a.nu,h,j=0;j<e;j++){h=0;var k=d[j],l=k.uj,m,n;if(l!==p&&l.H===k.H)if(k=l.ha,k>j)for(n=j+1;n<k;n++)m=d[n],(m.uj!==l||m.pl!==l.pl)&&h++;else for(n=j-1;n>k;n--)m=d[n],(m.uj!==l||m.pl!==l.pl)&&h++;var r,s,v,y,C,D;if(0<=c){k=d[j].Xf;for(l=0;l<k.count;l++)if(r=k.o[l],r.Ia&&r.W.H!==b){m=r.W.ha;n=r.of;r=r.mf;for(s=l+1;s<k.count;s++)v=k.o[s],v.Ia&&v.W.H!==b&&
(y=v.W.ha,C=v.of,v=v.mf,n<C&&(m>y||m===y&&r>v)&&h++,C<n&&(y>m||y===m&&v>r)&&h++)}}if(0>=c){k=d[j].bf;for(l=0;l<k.count;l++)if(r=k.o[l],r.Ia&&r.T.H!==b){m=r.T.ha;n=r.of;r=r.mf;for(s=l+1;s<k.count;s++)v=k.o[s],v.Ia&&v.T.H!==b&&(y=v.T.ha,C=v.of,v=v.mf,r<v&&(m>y||m===y&&n>C)&&h++,v<r&&(y>m||y===m&&C>n)&&h++)}}g[j*e+j]=h;for(k=j+1;k<e;k++){var I=0,E=0;if(0<=c){h=d[j].Xf;D=d[k].Xf;for(l=0;l<h.count;l++)if(r=h.o[l],r.Ia&&r.W.H!==b){m=r.W.ha;r=r.mf;for(s=0;s<D.count;s++)v=D.o[s],v.Ia&&v.W.H!==b&&(y=v.W.ha,
v=v.mf,(m<y||m===y&&r<v)&&E++,(y<m||y===m&&v<r)&&I++)}}if(0>=c){h=d[j].bf;D=d[k].bf;for(l=0;l<h.count;l++)if(r=h.o[l],r.Ia&&r.T.H!==b){m=r.T.ha;n=r.of;for(s=0;s<D.count;s++)v=D.o[s],v.Ia&&v.T.H!==b&&(y=v.T.ha,C=v.of,(m<y||m===y&&n<C)&&E++,(y<m||y===m&&C<n)&&I++)}}g[j*e+k]=I;g[k*e+j]=E}}ao(a,b,d);return g}Y.prototype.countCrossings=Y.prototype.XJ=function(){var a,b=0,c,d;for(a=0;a<=this.gb;a++){c=ko(this,a,1);d=this.wd[a];for(var e=0;e<d;e++)for(var g=e;g<d;g++)b+=c[e*d+g]}return b};
function lo(a){u&&x.k(i,"boolean",Y,"countBends:weighted");for(var b=0,c=0;c<=a.gb;c++){var d=a,e=c;u&&(x.n(e,Y,"bends:unfixedLayer"),x.n(1,Y,"bends:direction"),x.k(i,"boolean",Y,"bends:weighted"));for(var g=Zn(d,e),h=d.wd[e],j=0,k=f,k=0;k<h;k++){var l=g[k].bf,m,n,r;if("undefined"!==typeof l)for(var s=0;s<l.count;s++)m=l.o[s],m.Ia&&m.T.H!==e&&(n=m.W.aa+m.lf,r=m.T.aa+m.Ge,j+=(Math.abs(n-r)+1)*eo(m))}ao(d,e,g);b+=j}return b}
Y.prototype.normalize=function(){var a=Infinity;this.wb=-1;for(var b=this.B.ma.l,c;b.next();)c=b.value,a=Math.min(a,c.aa-$n(this,c,i)),this.wb=Math.max(this.wb,c.aa+$n(this,c,q));for(b.reset();b.next();)b.value.aa-=a;this.wb-=a};
function uo(a,b,c){u&&(x.n(b,Y,"barycenters:unfixedLayer"),x.n(c,Y,"barycenters:direction"));var d=Zn(a,b),e=a.wd[b],g=[],h;for(h=0;h<e;h++){var j=d[h],k=p;0>=c&&(k=j.Xf);var l=p;0<=c&&(l=j.bf);var m=0,n=0,r=j.uj;r!==p&&r.H===j.H&&(m+=r.aa-1,n++);if(k!==p)for(r=0;r<k.count;r++){var j=k.o[r],s=j.W;j.Ia&&(!j.Cb&&s.H!==b)&&(m+=s.aa+j.lf,n++)}if(l!==p)for(k=0;k<l.count;k++)j=l.o[k],r=j.T,j.Ia&&(!j.Cb&&r.H!==b)&&(m+=r.aa+j.Ge,n++);g[h]=0===n?-1:m/n}ao(a,b,d);return g}
function Bo(a,b,c){u&&(x.n(b,Y,"medians:unfixedLayer"),x.n(c,Y,"medians:direction"));for(var d=Zn(a,b),e=a.wd[b],g=[],h=0;h<e;h++){var j=d[h],k=p;0>=c&&(k=j.Xf);var l=p;0<=c&&(l=j.bf);var m=0,n=[],r=j.uj;r!==p&&r.H===j.H&&(n[m]=r.aa-1,m++);if(k!==p)for(r=0;r<k.count;r++){var j=k.o[r],s=j.W;j.Ia&&(!j.Cb&&s.H!==b)&&(n[m]=s.aa+j.lf,m++)}if(l!==p)for(k=0;k<l.count;k++)j=l.o[k],r=j.T,j.Ia&&(!j.Cb&&r.H!==b)&&(n[m]=r.aa+j.Ge,m++);0===m?g[h]=-1:(n.sort(function(a,b){return a-b}),l=m>>1,g[h]=m&1?n[l]:n[l-
1]+n[l]>>1)}ao(a,b,d);return g}function Co(a,b,c,d,e,g){u&&(x.i(b,ho,Y,"tightComponentUnset:v"),x.n(c,Y,"tightComponentUnset:component"),x.n(d,Y,"tightComponentUnset:unset"),x.k(e,"boolean",Y,"tightComponentUnset:forward"),x.k(g,"boolean",Y,"tightComponentUnset:backward"));if(b.Ob===d){b.Ob=c;var h,j;if(e)for(var k=b.Lb;k.next();){var l=k.value.T;h=b.H-l.H;j=bo(k.value);h===j&&Co(a,l,c,d,e,g)}if(g)for(k=b.Mb;k.next();)l=k.value.W,h=l.H-b.H,j=bo(k.value),h===j&&Co(a,l,c,d,e,g)}}
function Do(a,b,c,d,e,g){u&&(x.i(b,ho,Y,"componentUnset:v"),x.n(c,Y,"componentUnset:component"),x.n(d,Y,"componentUnset:unset"),x.k(e,"boolean",Y,"componentUnset:forward"),x.k(g,"boolean",Y,"componentUnset:backward"));if(b.Ob===d){b.Ob=c;if(e)for(var h=b.Lb,j;h.next();)j=h.value.T,Do(a,j,c,d,e,g);if(g)for(b=b.Mb;b.next();)h=b.value.W,Do(a,h,c,d,e,g)}}function Tn(a){u&&x.i(a,Zm,Y,"greedyCycleRemovalFindNode:network");for(a=a.ma.l;a.next();){var b=a.value;if(b.Ia)return b}return p}
function Un(a){u&&x.i(a,Zm,Y,"greedyCycleRemovalFindSink:network");for(a=a.ma.l;a.next();){var b=a.value;if(b.Ia){for(var c=i,d=b.Lb;d.next();)if(d.value.T.Ia){c=q;break}if(c)return b}}return p}function Vn(a){u&&x.i(a,Zm,Y,"greedyCycleRemovalFindSource:network");for(a=a.ma.l;a.next();){var b=a.value;if(b.Ia){for(var c=i,d=b.Mb;d.next();)if(d.value.W.Ia){c=q;break}if(c)return b}}return p}
function Wn(a,b){u&&x.i(b,ho,Y,"depthFirstSearchCycleRemovalVisit:v");b.sk=a.Gq;a.Gq++;for(var c=b.Lb;c.next();){var d=c.value,e=d.T;-1===e.sk&&(d.Ip=i,Wn(a,e))}b.Sm=a.Gq;a.Gq++}
Y.prototype.assignLayers=Y.prototype.YI=function(){switch(this.en){case Eo:Fo(this);break;case Go:for(var a,b=this.B.ma.l;b.next();)a=Ho(this,b.value),this.gb=Math.max(a,this.gb);for(b.reset();b.next();)a=b.value,a.H=this.gb-a.H;break;default:case Nn:Fo(this);for(b=this.B.ma.l;b.next();)b.value.Ia=q;for(b.reset();b.next();)0===b.value.Mb.count&&Io(this,b.value);a=Infinity;for(b.reset();b.next();)a=Math.min(a,b.value.H);this.gb=-1;for(b.reset();b.next();)b.value.H-=a,this.gb=Math.max(this.gb,b.value.H)}};
function Fo(a){for(var b=a.B.ma.l;b.next();){var c=Jo(a,b.value);a.gb=Math.max(c,a.gb)}}function Jo(a,b){u&&x.i(b,ho,Y,"longestPathSinkLayeringLength:v");var c=0;if(-1===b.H){for(var d=b.Lb;d.next();)var e=d.value,g=bo(e),c=Math.max(c,Jo(a,e.T)+g);b.H=c}else c=b.H;return c}function Ho(a,b){u&&x.i(b,ho,Y,"longestPathSourceLayeringLength:v");var c=0;if(-1===b.H){for(var d,e,g=b.Mb;g.next();)e=g.value,d=bo(e),c=Math.max(c,Ho(a,e.W)+d);b.H=c}else c=b.H;return c}
function Io(a,b){u&&x.i(b,ho,Y,"optimalLinkLengthLayeringDepthFirstSearch:v");if(!b.Ia){b.Ia=i;for(var c=b.Lb;c.next();)Io(a,c.value.T);u&&x.i(b,ho,Y,"optimalLinkLengthLayeringPull:v");for(c=a.B.ma.l;c.next();)c.value.Ob=-1;for(var d=b.Mb;d.next();){var e=d.value,g=bo(e);e.W.H-e.T.H>g&&Co(a,e.W,0,-1,i,q)}for(Co(a,b,1,-1,i,i);0!==b.Ob;){for(var g=0,d=Infinity,h=0,j=p,k=a.B.ma.l;k.next();){var l=k.value;if(1===l.Ob){for(var m=0,n=q,r=l.Mb;r.next();){var e=r.value,s=e.W,m=m+co(e);1!==s.Ob&&(g+=co(e),
s=s.H-l.H,e=bo(e),d=Math.min(d,s-e))}for(e=l.Lb;e.next();)r=e.value,s=r.T,m-=co(r),1!==s.Ob?g-=co(r):n=i;if((j===p||m<h)&&!n)j=l,h=m}}if(0<g){for(c.reset();c.next();)g=c.value,1===g.Ob&&(g.H+=d);b.Ob=0}else j.Ob=0}u&&x.i(b,ho,Y,"optimalLinkLengthLayeringPush:v");for(c=a.B.ma.l;c.next();)c.value.Ob=-1;for(Co(a,b,1,-1,i,q);0!==b.Ob;){g=0;d=Infinity;h=0;j=p;for(k=a.B.ma.l;k.next();)if(l=k.value,1===l.Ob){m=0;n=q;for(e=l.Mb;e.next();)r=e.value.W,m+=co(e.value),1!==r.Ob?g+=co(e.value):n=i;for(e=k.value.Lb;e.next();)r=
e.value,s=r.T,m-=co(r),1!==s.Ob&&(g-=co(r),s=l.H-s.H,r=bo(r),d=Math.min(d,s-r));if((j===p||m>h)&&!n)j=l,h=m}if(0>g){for(c.reset();c.next();)g=c.value,1===g.Ob&&(g.H-=d);b.Ob=0}else j.Ob=0}}}function Yn(a,b,c){u&&(x.i(b,Xn,Y,"_oppositeSpotDir:edge"),x.k(c,"boolean",Y,"_oppositeSpotDir:from"));return 90===a.ga?c&&!b.Cb||!c&&b.Cb?Eb:Mb:180===a.ga?c&&!b.Cb||!c&&b.Cb?Qb:Pb:270===a.ga?c&&!b.Cb||!c&&b.Cb?Mb:Eb:c&&!b.Cb||!c&&b.Cb?Pb:Qb}
Y.prototype.initializeIndices=Y.prototype.eL=function(){switch(this.$m){default:case Ko:for(var a,b=this.B.ma.l;b.next();){var c=b.value;a=c.H;c.ha=this.wd[a];this.wd[a]++}break;case On:b=this.B.ma.l;for(a=this.gb;0<=a;a--){for(;b.next();)b.value.H===a&&-1===b.value.ha&&Lo(this,b.value);b.reset()}break;case Mo:b=this.B.ma.l;for(a=0;a<=this.gb;a++){for(;b.next();)b.value.H===a&&-1===b.value.ha&&No(this,b.value);b.reset()}}};
function Lo(a,b){u&&x.i(b,ho,Y,"depthFirstOutInitializeIndicesVisit:v");var c=b.H;b.ha=a.wd[c];a.wd[c]++;for(var c=b.bf.vg(),d=i,e;d;){d=q;for(e=0;e<c.length-1;e++){var g=c[e],h=c[e+1];g.lf>h.lf&&(d=i,c[e]=h,c[e+1]=g)}}for(e=0;e<c.length;e++)d=c[e],d.Ia&&(d=d.T,-1===d.ha&&Lo(a,d))}
function No(a,b){u&&x.i(b,ho,Y,"depthFirstInInitializeIndicesVisit:v");var c=b.H;b.ha=a.wd[c];a.wd[c]++;for(var c=b.Xf.vg(),d=i,e;d;){d=q;for(e=0;e<c.length-1;e++){var g=c[e],h=c[e+1];g.Ge>h.Ge&&(d=i,c[e]=h,c[e+1]=g)}}for(e=0;e<c.length;e++)d=c[e],d.Ia&&(d=d.W,-1===d.ha&&No(a,d))}
Y.prototype.reduceCrossings=Y.prototype.WL=function(){var a=this.countCrossings(),b=io(this),c,d,e;for(c=0;c<this.El;c++){for(d=0;d<=this.gb;d++)Oo(this,d,1),Po(this,d,1,1);e=this.countCrossings();e<a&&(a=e,b=io(this));for(d=this.gb;0<=d;d--)Oo(this,d,-1),Po(this,d,-1,-1);e=this.countCrossings();e<a&&(a=e,b=io(this))}jo(this,b);for(c=0;c<this.El;c++){for(d=0;d<=this.gb;d++)Oo(this,d,0),Po(this,d,0,0);e=this.countCrossings();e<a&&(a=e,b=io(this));for(d=this.gb;0<=d;d--)Oo(this,d,0),Po(this,d,0,0);
e=this.countCrossings();e<a&&(a=e,b=io(this))}jo(this,b);var g,h,j;switch(this.Em){case Qo:break;case Ro:for(j=a+1;(d=this.countCrossings())<j;){j=d;for(c=this.gb;0<=c;c--)for(h=0;h<=c;h++){for(g=i;g;){g=q;for(d=c;d>=h;d--)g=Po(this,d,-1,-1)||g}e=this.countCrossings();e>=a?jo(this,b):(a=e,b=io(this));for(g=i;g;){g=q;for(d=c;d>=h;d--)g=Po(this,d,1,1)||g}e=this.countCrossings();e>=a?jo(this,b):(a=e,b=io(this));for(g=i;g;){g=q;for(d=h;d<=c;d++)g=Po(this,d,1,1)||g}e>=a?jo(this,b):(a=e,b=io(this));for(g=
i;g;){g=q;for(d=h;d<=c;d++)g=Po(this,d,-1,-1)||g}e>=a?jo(this,b):(a=e,b=io(this));for(g=i;g;){g=q;for(d=c;d>=h;d--)g=Po(this,d,0,0)||g}e>=a?jo(this,b):(a=e,b=io(this));for(g=i;g;){g=q;for(d=h;d<=c;d++)g=Po(this,d,0,0)||g}e>=a?jo(this,b):(a=e,b=io(this))}}break;default:case Pn:c=this.gb;h=0;for(j=a+1;(d=this.countCrossings())<j;){j=d;for(g=i;g;){g=q;for(d=c;d>=h;d--)g=Po(this,d,-1,-1)||g}e=this.countCrossings();e>=a?jo(this,b):(a=e,b=io(this));for(g=i;g;){g=q;for(d=c;d>=h;d--)g=Po(this,d,1,1)||g}e=
this.countCrossings();e>=a?jo(this,b):(a=e,b=io(this));for(g=i;g;){g=q;for(d=h;d<=c;d++)g=Po(this,d,1,1)||g}e>=a?jo(this,b):(a=e,b=io(this));for(g=i;g;){g=q;for(d=h;d<=c;d++)g=Po(this,d,-1,-1)||g}e>=a?jo(this,b):(a=e,b=io(this));for(g=i;g;){g=q;for(d=c;d>=h;d--)g=Po(this,d,0,0)||g}e>=a?jo(this,b):(a=e,b=io(this));for(g=i;g;){g=q;for(d=h;d<=c;d++)g=Po(this,d,0,0)||g}e>=a?jo(this,b):(a=e,b=io(this))}}jo(this,b)};
function Oo(a,b,c){u&&(x.n(b,Y,"medianBarycenterCrossingReduction:unfixedLayer"),x.n(c,Y,"medianBarycenterCrossingReduction:direction"));for(var d=Zn(a,b),e=a.wd[b],g=Bo(a,b,c),h=uo(a,b,c),c=0;c<e;c++)-1===h[c]&&(h[c]=d[c].aa),-1===g[c]&&(g[c]=d[c].aa);for(var j=i,k;j;){j=q;for(c=0;c<e-1;c++)if(g[c+1]<g[c]||g[c+1]===g[c]&&h[c+1]<h[c])j=i,k=g[c],g[c]=g[c+1],g[c+1]=k,k=h[c],h[c]=h[c+1],h[c+1]=k,k=d[c],d[c]=d[c+1],d[c+1]=k}for(c=g=0;c<e;c++)k=d[c],k.ha=c,g+=$n(a,k,i),k.aa=g,g+=1,g+=$n(a,k,q);ao(a,b,
d)}
function Po(a,b,c,d){u&&(x.n(b,Y,"adjacentExchangeCrossingReductionBendStraighten:unfixedLayer"),x.n(c,Y,"adjacentExchangeCrossingReductionBendStraighten:directionCR"),x.k(q,"boolean",Y,"adjacentExchangeCrossingReductionBendStraighten:straighten"),x.n(d,Y,"adjacentExchangeCrossingReductionBendStraighten:directionBS"));var d=Zn(a,b),e=a.wd[b],c=ko(a,b,c),g,h;h=[];for(g=0;g<e;g++)h[g]=-1;var j;j=[];for(g=0;g<e;g++)j[g]=-1;for(var k=q,l=i;l;){l=q;for(g=0;g<e-1;g++){var m=c[d[g].ha*e+d[g+1].ha],n=c[d[g+
1].ha*e+d[g].ha],r=0,s=0,v=d[g].aa,y=d[g+1].aa,C=$n(a,d[g],i),D=$n(a,d[g],q),I=$n(a,d[g+1],i),E=$n(a,d[g+1],q),C=v-C+I,D=y-D+E,M=d[g].Mb.l;for(M.reset();M.next();)if(E=M.value,E.Ia&&E.W.H===b){E=E.W;for(I=0;d[I]!==E;)I++;I<g&&(r+=2*(g-I),s+=2*(g+1-I));I===g+1&&(r+=1);I>g+1&&(r+=4*(I-g),s+=4*(I-(g+1)))}M=d[g].Lb.l;for(M.reset();M.next();)if(E=M.value,E.Ia&&E.T.H===b){E=E.T;for(I=0;d[I]!==E;)I++;I===g+1&&(s+=1)}M=d[g+1].Mb.l;for(M.reset();M.next();)if(E=M.value,E.Ia&&E.W.H===b){E=E.W;for(I=0;d[I]!==
E;)I++;I<g&&(r+=2*(g+1-I),s+=2*(g-I));I===g&&(s+=1);I>g+1&&(r+=4*(I-(g+1)),s+=4*(I-g))}M=d[g+1].Lb.l;for(M.reset();M.next();)if(E=M.value,E.Ia&&E.T.H===b){E=E.T;for(I=0;d[I]!==E;)I++;I===g&&(r+=1)}var I=E=0,M=h[d[g].ha],O=j[d[g].ha],X=h[d[g+1].ha],sa=j[d[g+1].ha];-1!==M&&(E+=Math.abs(M-v),I+=Math.abs(M-D));-1!==O&&(E+=Math.abs(O-v),I+=Math.abs(O-D));-1!==X&&(E+=Math.abs(X-y),I+=Math.abs(X-C));-1!==sa&&(E+=Math.abs(sa-y),I+=Math.abs(sa-C));if(s<r-0.5||s===r&&n<m-0.5||s===r&&n===m&&I<E-0.5)l=k=i,d[g].aa=
D,d[g+1].aa=C,m=d[g],d[g]=d[g+1],d[g+1]=m}}for(g=0;g<e;g++)d[g].ha=g;ao(a,b,d);return k}
Y.prototype.straightenAndPack=Y.prototype.uM=function(){var a,b,c=0!==(this.ti&So);a=this.ti===Qn;1E3<this.B.qc.count&&!a&&(c=q);if(c){b=[];for(a=0;a<=this.gb;a++)b[a]=0;for(var d=this.B.ma.l,e,g;d.next();)e=d.value,a=e.H,g=e.aa,e=$n(this,e,q),b[a]=Math.max(b[a],g+e);for(d.reset();d.next();)e=d.value,a=e.H,g=e.aa,e.aa=(8*(this.wb-b[a])>>1)+8*g;this.wb*=8}if(0!==(this.ti&To))for(b=i;b;){b=q;for(a=this.ff+1;a<=this.gb;a++)b=Uo(this,a,1)||b;for(a=this.ff-1;0<=a;a--)b=Uo(this,a,-1)||b;b=Uo(this,this.ff,
0)||b}if(0!==(this.ti&Vo)){for(a=this.ff+1;a<=this.gb;a++)Wo(this,a,1);for(a=this.ff-1;0<=a;a--)Wo(this,a,-1);Wo(this,this.ff,0)}c&&(Xo(this,-1),Xo(this,1));if(0!==(this.ti&To))for(b=i;b;){b=q;b=Uo(this,this.ff,0)||b;for(a=this.ff+1;a<=this.gb;a++)b=Uo(this,a,0)||b;for(a=this.ff-1;0<=a;a--)b=Uo(this,a,0)||b}};function Uo(a,b,c){u&&(x.n(b,Y,"bendStraighten:unfixedLayer"),x.n(c,Y,"bendStraighten:direction"));for(var d=q;Yo(a,b,c);)d=i;return d}
function Yo(a,b,c){u&&(x.n(b,Y,"shiftbendStraighten:unfixedLayer"),x.n(c,Y,"shiftbendStraighten:direction"));var d,e=Zn(a,b),g=a.wd[b],h=uo(a,b,-1);if(0<c)for(d=0;d<g;d++)h[d]=-1;var j=uo(a,b,1);if(0>c)for(d=0;d<g;d++)j[d]=-1;for(var k=q,l=i;l;){l=q;for(d=0;d<g;d++){var m=e[d].aa,n=$n(a,e[d],i),r=$n(a,e[d],q),n=0>d-1||m-e[d-1].aa-1>n+$n(a,e[d-1],q)?m-1:m,r=d+1>=g||e[d+1].aa-m-1>r+$n(a,e[d+1],i)?m+1:m,s=0,v=0,y=0,C,D,I,E;if(0>=c)for(var M=e[d].Mb.l;M.next();)C=M.value,C.Ia&&C.W.H!==b&&(D=eo(C),I=C.lf,
E=C.Ge,C=C.W.aa,s+=(Math.abs(m+E-(C+I))+1)*D,v+=(Math.abs(n+E-(C+I))+1)*D,y+=(Math.abs(r+E-(C+I))+1)*D);if(0<=c)for(M=e[d].Lb.l;M.next();)C=M.value,C.Ia&&C.T.H!==b&&(D=eo(C),I=C.lf,E=C.Ge,C=C.T.aa,s+=(Math.abs(m+I-(C+E))+1)*D,v+=(Math.abs(n+I-(C+E))+1)*D,y+=(Math.abs(r+I-(C+E))+1)*D);E=I=D=0;C=h[e[d].ha];M=j[e[d].ha];-1!==C&&(D+=Math.abs(C-m),I+=Math.abs(C-n),E+=Math.abs(C-r));-1!==M&&(D+=Math.abs(M-m),I+=Math.abs(M-n),E+=Math.abs(M-r));if(v<s||v===s&&I<D)l=k=i,e[d].aa=n;if(y<s||y===s&&E<D)l=k=i,
e[d].aa=r}}ao(a,b,e);a.normalize();return k}
function Wo(a,b,c){u&&(x.n(b,Y,"medianStraighten:unfixedLayer"),x.n(c,Y,"medianStraighten:direction"));for(var d=Zn(a,b),e=a.wd[b],g=Bo(a,b,c),h=[],c=0;c<e;c++)h[c]=g[c];for(g=i;g;){g=q;for(c=0;c<e;c++){var j=d[c].aa,k=$n(a,d[c],i),l=$n(a,d[c],q),m=0,n;-1===h[c]?0===c&&c===e-1?m=j:0===c?(n=d[c+1].aa,m=n-j===l+$n(a,d[c+1],i)?j-1:j):c===e-1?(n=d[c-1].aa,m=j-n===k+$n(a,d[c-1],q)?j+1:j):(n=d[c-1].aa,k=n+$n(a,d[c-1],q)+k+1,n=d[c+1].aa,l=n-$n(a,d[c+1],i)-l-1,m=(k+l)/2|0):0===c&&c===e-1?m=h[c]:0===c?(n=
d[c+1].aa,l=n-$n(a,d[c+1],i)-l-1,m=Math.min(h[c],l)):c===e-1?(n=d[c-1].aa,k=n+$n(a,d[c-1],q)+k+1,m=Math.max(h[c],k)):(n=d[c-1].aa,k=n+$n(a,d[c-1],q)+k+1,n=d[c+1].aa,l=n-$n(a,d[c+1],i)-l-1,k<h[c]&&h[c]<l?m=h[c]:k>=h[c]?m=k:l<=h[c]&&(m=l));m!==j&&(g=i,d[c].aa=m)}}ao(a,b,d);a.normalize()}
function Zo(a,b){u&&(x.n(b,Y,"packAux:column"),x.n(1,Y,"packAux:direction"));for(var c=i,d=a.B.ma.l,e;d.next();){e=d.value;var g=$n(a,e,i),h=$n(a,e,q);if(e.aa-g<=b&&e.aa+h>=b){c=q;break}}g=q;if(c)for(d.reset();d.next();)e=d.value,e.aa>b&&(e.aa-=1,g=i);return g}
function $o(a,b){u&&(x.n(b,Y,"tightPackAux:column"),x.n(1,Y,"tightPackAux:direction"));var c=b,c=b+1,d,e=[],g=[];for(d=0;d<=a.gb;d++)e[d]=q,g[d]=q;for(var h=a.B.ma.l;h.next();){d=h.value;var j=d.aa-$n(a,d,i),k=d.aa+$n(a,d,q);j<=b&&k>=b&&(e[d.H]=i);j<=c&&k>=c&&(g[d.H]=i)}j=i;c=q;for(d=0;d<=a.gb;d++)j=j&&!(e[d]&&g[d]);if(j)for(h.reset();h.next();)d=h.value,d.aa>b&&(d.aa-=1,c=i);return c}
function Xo(a,b){u&&x.n(b,Y,"componentPack:direction");for(var c=0;c<=a.wb;c++)for(;Zo(a,c););a.normalize();for(c=0;c<a.wb;c++)for(;$o(a,c););a.normalize();var d,e,g,h;if(0<b)for(c=0;c<=a.wb;c++){d=io(a);e=lo(a);for(g=e+1;e<g;)g=e,ap(a,c,1),h=lo(a),h>e?jo(a,d):h<e&&(e=h,d=io(a))}if(0>b)for(c=a.wb;0<=c;c--){d=io(a);e=lo(a);for(g=e+1;e<g;)g=e,ap(a,c,-1),h=lo(a),h>e?jo(a,d):h<e&&(e=h,d=io(a))}a.normalize()}
function ap(a,b,c){u&&(x.n(b,Y,"componentPackAux:column"),x.n(c,Y,"componentPackAux:direction"));a.Pf=0;for(var d=a.B.ma.l,e;d.next();)d.value.Ob=-1;if(0<c)for(d.reset();d.next();)e=d.value,e.aa-$n(a,e,i)<=b&&(e.Ob=a.Pf);if(0>c)for(d.reset();d.next();)e=d.value,e.aa+$n(a,e,q)>=b&&(e.Ob=a.Pf);a.Pf++;for(d.reset();d.next();)e=d.value,-1===e.Ob&&(Do(a,e,a.Pf,-1,i,i),a.Pf++);b=[];for(e=0;e<a.Pf*a.Pf;e++)b[e]=q;var g=[];for(e=0;e<(a.gb+1)*(a.wb+1);e++)g[e]=-1;for(d.reset();d.next();){e=d.value;for(var h=
e.H,j=Math.max(0,e.aa-$n(a,e,i)),k=Math.min(a.wb,e.aa+$n(a,e,q));j<=k;j++)g[h*(a.wb+1)+j]=e.Ob}for(e=0;e<=a.gb;e++){if(0<c)for(j=0;j<a.wb;j++)-1!==g[e*(a.wb+1)+j]&&(-1!==g[e*(a.wb+1)+j+1]&&g[e*(a.wb+1)+j]!==g[e*(a.wb+1)+j+1])&&(b[g[e*(a.wb+1)+j]*a.Pf+g[e*(a.wb+1)+j+1]]=i);if(0>c)for(j=a.wb;0<j;j--)-1!==g[e*(a.wb+1)+j]&&(-1!==g[e*(a.wb+1)+j-1]&&g[e*(a.wb+1)+j]!==g[e*(a.wb+1)+j-1])&&(b[g[e*(a.wb+1)+j]*a.Pf+g[e*(a.wb+1)+j-1]]=i)}g=[];for(e=0;e<a.Pf;e++)g[e]=i;h=new H("number");for(h.add(0);0!==h.count;)if(k=
h.o[h.count-1],h.Ve(h.count-1),g[k]){g[k]=q;for(e=0;e<a.Pf;e++)b[k*a.Pf+e]&&h.Bc(0,e)}if(0<c)for(d.reset();d.next();)e=d.value,g[e.Ob]&&(e.aa-=1);if(0>c)for(d.reset();d.next();)e=d.value,g[e.Ob]&&(e.aa+=1)}Y.prototype.commitLayout=Y.prototype.qv=function(){if(this.xm){var a,b;270===this.ga?(a=Ob,b=Rb):90===this.ga?(a=Rb,b=Ob):180===this.ga?(a=Pb,b=Qb):(a=Qb,b=Pb);for(var c=this.B.qc.l,d;c.next();)d=c.value.Wa,d!==p&&(d.qb=a,d.ub=b)}this.commitNodes();this.ts&&this.commitLinks()};
Y.prototype.commitNodes=Y.prototype.Wy=function(){this.th=[];this.Ig=[];this.df=[];this.xd=[];for(var a=0;a<=this.gb;a++)this.th[a]=0,this.Ig[a]=0,this.df[a]=0,this.xd[a]=0;for(var a=this.B.ma.l,b,c;a.next();)b=a.value,c=b.H,this.th[c]=Math.max(this.th[c],fo(this,b,i)),this.Ig[c]=Math.max(this.Ig[c],fo(this,b,q));b=0;for(var d=this.Md,e=0;e<=this.gb;e++)c=d,0>=this.th[e]+this.Ig[e]&&(c=0),0<e&&(b+=c/2),90===this.ga||0===this.ga?(b+=this.Ig[e],this.df[e]=b,b+=this.th[e]):(b+=this.th[e],this.df[e]=
b,b+=this.Ig[e]),e<this.gb&&(b+=c/2),this.xd[e]=b;d=this.nd.copy();for(e=0;e<=this.gb;e++)270===this.ga?(this.df[e]=d.y+this.df[e],this.xd[e]=d.y+this.xd[e]):90===this.ga?(this.df[e]=d.y+b-this.df[e],this.xd[e]=d.y+b-this.xd[e]):180===this.ga?(this.df[e]=d.x+this.df[e],this.xd[e]=d.x+this.xd[e]):(this.df[e]=d.x+b-this.df[e],this.xd[e]=d.x+b-this.xd[e]);for(a.reset();a.next();){b=a.value;c=b.H;var g=b.aa|0;270===this.ga||90===this.ga?(e=d.x+this.ud*g,c=this.df[c]):(e=this.df[c],c=d.y+this.ud*g);b.ua=
e;b.Da=c;b.commit()}};
Y.prototype.commitLinks=Y.prototype.Vy=function(){for(var a=this.B.qc.l,b,c;a.next();)c=a.value.Wa,"undefined"!==typeof c&&c!==p&&(c.jl(),c.Xn(),c.Fi());for(a.reset();a.next();)c=a.value.Wa,"undefined"!==typeof c&&c!==p&&pm(c);for(a.reset();a.next();)if(b=a.value,c=b.Wa){c.jl();var d=c,e=d.ja,g=d.na,h=d.Zc,j=d.Sd;if(b.Ia){if(c.yf===lk&&4===c.oa){b.Cb&&(d=e,e=g,g=d,d=h,h=j,j=d);var k,l,m,n;if(b.W.aa===b.T.aa)k=c.getLinkPoint(e,h,vm(c),i,q,g,j).copy(),l=c.getLinkPoint(g,j,wm(c),q,q,e,h).copy(),m=new K((2*
k.x+l.x)/3,(2*k.y+l.y)/3),n=new K((k.x+2*l.x)/3,(k.y+2*l.y)/3),c.Xn(),c.Bd(k),c.Bd(m),c.Bd(n),c.Bd(l);else{d=b=q;h!==p&&vm(c)===Bb&&(b=i);j!==p&&wm(c)===Bb&&(d=i);if(b||d)k=c.p(0).copy(),m=c.p(1).copy(),n=c.p(2).copy(),l=c.p(3).copy();b&&(90===this.ga||270===this.ga?(m.x=k.x,m.y=(k.y+l.y)/2):(m.x=(k.x+l.x)/2,m.y=k.y),c.L(1,m),c.L(0,c.getLinkPoint(e,h,vm(c),i,q,g,j).copy()));d&&(90===this.ga||270===this.ga?(n.x=l.x,n.y=(k.y+l.y)/2):(n.x=(k.x+l.x)/2,n.y=l.y),c.L(2,n),c.L(3,c.getLinkPoint(g,j,wm(c),
q,q,e,h).copy()))}}c.Fi()}else if(b.W.H===b.T.H)c.Fi();else{var r=q,s=q,v,y=c.Hv+1;if(Rg(c))s=i,v=c.oa,4<v&&c.points.removeRange(2,v-3);else if(c.yf===lk)r=i,v=c.oa,4<v&&c.points.removeRange(2,v-3),y=2;else{v=c.oa;var C=vm(c)===Bb,D=wm(c)===Bb;2<v&&C&&D?c.points.removeRange(1,v-2):3<v&&C&&!D?c.points.removeRange(1,v-3):3<v&&!C&&D?c.points.removeRange(2,v-2):4<v&&(!C&&!D)&&c.points.removeRange(2,v-3)}v=b.W;var D=b.T,I;if(b.Cb){for(;D!==p&&v!==D;){I=C=p;for(var E=D.Mb.l;E.next()&&!(M=E.value,M.Wa===
b.Wa&&(C=M.W,I=M.T,C.kb===p)););C!==v&&(M=c.p(y-1).copy(),E=new K(C.ua,C.Da),s?180===this.ga||0===this.ga?2===y?(c.A(y++,new K(M.x,M.y)),c.A(y++,new K(M.x,E.y))):(I=I!==p?new K(I.ua,I.Da):M.copy(),I.y!==E.y&&(I=this.xd[C.H-1],c.A(y++,new K(I,M.y)),c.A(y++,new K(I,E.y)))):2===y?(c.A(y++,new K(M.x,M.y)),c.A(y++,new K(E.x,M.y))):(I=I!==p?new K(I.ua,I.Da):M.copy(),I.x!==E.x&&(I=this.xd[C.H-1],c.A(y++,new K(M.x,I)),c.A(y++,new K(E.x,I)))):2===y?r?(I=Math.max(10,this.th[D.H]),O=Math.max(10,this.Ig[D.H]),
180===this.ga?(D=D.N.x,c.A(y++,new K(D-I,E.y)),c.A(y++,new K(D,E.y)),c.A(y++,new K(D+O,E.y))):90===this.ga?(D=D.N.y+D.N.height,c.A(y++,new K(E.x,D+O)),c.A(y++,new K(E.x,D)),c.A(y++,new K(E.x,D-I))):270===this.ga?(D=D.N.y,c.A(y++,new K(E.x,D-I)),c.A(y++,new K(E.x,D)),c.A(y++,new K(E.x,D+O))):(D=D.N.x+D.N.width,c.A(y++,new K(D+O,E.y)),c.A(y++,new K(D,E.y)),c.A(y++,new K(D-I,E.y)))):(c.A(y++,M),180===this.ga||0===this.ga?c.A(y++,new K(M.x,E.y)):c.A(y++,new K(E.x,M.y)),c.A(y++,new K(E.x,E.y))):(I=Math.max(10,
this.th[C.H]),O=Math.max(10,this.Ig[C.H]),180===this.ga?(r&&c.A(y++,new K(E.x-I,E.y)),c.A(y++,E),r&&c.A(y++,new K(E.x+O,E.y))):90===this.ga?(r&&c.A(y++,new K(E.x,E.y+O)),c.A(y++,E),r&&c.A(y++,new K(E.x,E.y-I))):270===this.ga?(r&&c.A(y++,new K(E.x,E.y-I)),c.A(y++,E),r&&c.A(y++,new K(E.x,E.y+O))):(r&&c.A(y++,new K(E.x+O,E.y)),c.A(y++,E),r&&c.A(y++,new K(E.x-I,E.y)))));D=C}if(j===p||!wm(c).K(Bb))M=c.p(y-1).copy(),E=c.p(y).copy(),s?(C=this.Ig[v.H],180===this.ga||0===this.ga?(s=M.y,s>=v.N.y&&s<=v.N.bottom&&
(D=v.ua+C,s=s<v.N.y+v.N.height/2?v.N.y-this.ud/2:v.N.bottom+this.ud/2,c.A(y++,new K(D,M.y)),c.A(y++,new K(D,s))),c.A(y++,new K(E.x,s))):(s=M.x,s>=v.N.x&&s<=v.N.right&&(D=v.Da+C,s=s<v.N.x+v.N.width/2?v.N.x-this.ud/2:v.N.right+this.ud/2,c.A(y++,new K(M.x,D)),c.A(y++,new K(s,D))),c.A(y++,new K(s,E.y))),c.A(y++,E)):r?(I=Math.max(10,this.th[v.H]),O=Math.max(10,this.Ig[v.H]),180===this.ga?(D=v.N.x+v.N.width,c.L(y-2,new K(D,M.y)),c.L(y-1,new K(D+O,M.y))):90===this.ga?(D=v.N.y,c.L(y-2,new K(M.x,D)),c.L(y-
1,new K(M.x,D-I))):270===this.ga?(D=v.N.y+v.N.height,c.L(y-2,new K(M.x,D)),c.L(y-1,new K(M.x,D+O))):(D=v.N.x,c.L(y-2,new K(D,M.y)),c.L(y-1,new K(D-I,M.y)))):(180===this.ga||0===this.ga?c.A(y++,new K(E.x,M.y)):c.A(y++,new K(M.x,E.y)),c.A(y++,E))}else{for(;v!==p&&v!==D;){I=C=p;v=v.Lb.l;for(var M;v.next()&&!(M=v.value,M.Wa===b.Wa&&(C=M.T,I=M.W,I.kb!==p&&(I=p),C.kb===p)););var O;C!==D&&(M=c.p(y-1).copy(),E=new K(C.ua,C.Da),s?180===this.ga||0===this.ga?(I=I!==p?new K(I.ua,I.Da):M.copy(),I.y!==E.y&&(I=
this.xd[C.H],2===y&&(I=0===this.ga?Math.max(I,M.x):Math.min(I,M.x)),c.A(y++,new K(I,M.y)),c.A(y++,new K(I,E.y)))):(I=I!==p?new K(I.ua,I.Da):M.copy(),I.x!==E.x&&(I=this.xd[C.H],2===y&&(I=90===this.ga?Math.max(I,M.y):Math.min(I,M.y)),c.A(y++,new K(M.x,I)),c.A(y++,new K(E.x,I)))):(I=Math.max(10,this.th[C.H]),O=Math.max(10,this.Ig[C.H]),180===this.ga?(c.A(y++,new K(E.x+O,E.y)),r&&c.A(y++,E),c.A(y++,new K(E.x-I,E.y))):90===this.ga?(c.A(y++,new K(E.x,E.y-I)),r&&c.A(y++,E),c.A(y++,new K(E.x,E.y+O))):270===
this.ga?(c.A(y++,new K(E.x,E.y+O)),r&&c.A(y++,E),c.A(y++,new K(E.x,E.y-I))):(c.A(y++,new K(E.x-I,E.y)),r&&c.A(y++,E),c.A(y++,new K(E.x+O,E.y)))));v=C}s&&(M=c.p(y-1).copy(),E=c.p(y).copy(),180===this.ga||0===this.ga?M.y!==E.y&&(I=0===this.ga?Math.min(Math.max((E.x+M.x)/2,this.xd[D.H]),E.x):Math.max(Math.min((E.x+M.x)/2,this.xd[D.H]),E.x),c.A(y++,new K(I,M.y)),c.A(y++,new K(I,E.y))):M.x!==E.x&&(I=90===this.ga?Math.min(Math.max((E.y+M.y)/2,this.xd[D.H]),E.y):Math.max(Math.min((E.y+M.y)/2,this.xd[D.H]),
E.y),c.A(y++,new K(M.x,I)),c.A(y++,new K(E.x,I))))}d!==p&&r&&(h!==p&&(yb(vm(c))&&(d=c.p(0).copy(),r=c.p(2).copy(),d.K(r)||c.L(1,new K((d.x+r.x)/2,(d.y+r.y)/2))),c.L(0,c.getLinkPoint(e,h,Bb,i,q,g,j))),j!==p&&(yb(wm(c))&&(d=c.p(c.oa-1),r=c.p(c.oa-3),d.K(r)||c.L(c.oa-2,new K((d.x+r.x)/2,(d.y+r.y)/2))),c.L(c.oa-1,c.getLinkPoint(g,j,Bb,q,q,e,h))));c.Fi();b.commit()}}e=new H(F);for(a=this.B.qc.l;a.next();)c=a.value.Wa,c!==p&&(Rg(c)&&!e.contains(c))&&e.add(c);if(0<e.count)if(90===this.ga||270===this.ga){u&&
x.i(e,H,Y,"adjustOverlapsH:routables");a=0;c=new H(bp);for(k=e.l;k.next();)if(g=k.value,g!==p&&Rg(g))for(e=2;e<g.oa-3;e++)h=g.p(e).copy(),j=g.p(e+1).copy(),cp(h.y,j.y)&&!cp(h.x,j.x)&&(l=new bp,l.H=Math.floor(h.y/2),m=g.p(0).copy(),n=g.p(g.oa-1).copy(),l.Fb=m.x*m.x+m.y,l.Ed=n.x*n.x+n.y,l.ae=Math.min(h.x,j.x),l.Dd=Math.max(h.x,j.x),l.ha=e,l.Wa=g,e+2<g.oa&&(m=g.p(e-1).copy(),n=g.p(e+2).copy(),b=0,m.y<h.y?b=n.y<h.y?3:h.x<j.x?2:1:m.y>h.y&&(b=n.y>h.y?0:j.x<h.x?2:1),l.Vh=b),c.add(l));if(1<c.count){c.sort(this.FE);
for(k=0;k<c.count;){e=c.o[k].H;for(l=k+1;l<c.count&&c.o[l].H===e;)l++;if(1<l-k)for(g=k;g<l;){e=c.o[g].Dd;for(m=k+1;m<l&&c.o[m].ae<e;)e=Math.max(e,c.o[m].Dd),m++;h=m-g;if(1<h){c.Oo(this.bw,g,g+h);j=1;n=c.o[g].Ed;for(e=g;e<m;e++)b=c.o[e],b.Ed!==n&&(j++,n=b.Ed);c.Oo(this.EE,g,g+h);r=1;n=c.o[g].Fb;for(e=g;e<m;e++)b=c.o[e],b.Fb!==n&&(r++,n=b.Fb);j<r?(d=q,r=j,n=c.o[g].Ed,c.Oo(this.bw,g,g+h)):(d=i,n=c.o[g].Fb);y=0;for(e=g;e<m;e++){b=c.o[e];if((d?b.Fb:b.Ed)!==n)y++,n=d?b.Fb:b.Ed;g=b.Wa;h=g.p(b.ha).copy();
j=g.p(b.ha+1).copy();s=4*(y-(r-1)/2);if(g.Qh!==Ef||dp(h.x,h.y+s,j.x,j.y+s))a++,g.jl(),g.L(b.ha,new K(h.x,h.y+s)),g.L(b.ha+1,new K(j.x,j.y+s)),g.Fi()}}g=m}k=l}}}else{u&&x.i(e,H,Y,"adjustOverlapsV:routables");a=0;c=new H(bp);for(k=e.l;k.next();)if(g=k.value,g!==p&&Rg(g))for(e=2;e<g.oa-3;e++)h=g.p(e).copy(),j=g.p(e+1).copy(),cp(h.x,j.x)&&!cp(h.y,j.y)&&(l=new bp,l.H=Math.floor(h.x/2),m=g.p(0).copy(),n=g.p(g.oa-1).copy(),l.Fb=m.x+m.y*m.y,l.Ed=n.x+n.y*n.y,l.ae=Math.min(h.y,j.y),l.Dd=Math.max(h.y,j.y),l.ha=
e,l.Wa=g,e+2<g.oa&&(m=g.p(e-1).copy(),n=g.p(e+2).copy(),b=0,m.x<h.x?b=n.x<h.x?3:h.y<j.y?2:1:m.x>h.x&&(b=n.x>h.x?0:j.y<h.y?2:1),l.Vh=b),c.add(l));if(1<c.count){c.sort(this.FE);for(k=0;k<c.count;){e=c.o[k].H;for(l=k+1;l<c.count&&c.o[l].H===e;)l++;if(1<l-k)for(g=k;g<l;){e=c.o[g].Dd;for(m=k+1;m<l&&c.o[m].ae<e;)e=Math.max(e,c.o[m].Dd),m++;h=m-g;if(1<h){c.Oo(this.bw,g,g+h);j=1;n=c.o[g].Ed;for(e=g;e<m;e++)b=c.o[e],b.Ed!==n&&(j++,n=b.Ed);c.Oo(this.EE,g,g+h);r=1;n=c.o[g].Fb;for(e=g;e<m;e++)b=c.o[e],b.Fb!==
n&&(r++,n=b.Fb);j<r?(d=q,r=j,n=c.o[g].Ed,c.Oo(this.bw,g,g+h)):(d=i,n=c.o[g].Fb);y=0;for(e=g;e<m;e++){b=c.o[e];if((d?b.Fb:b.Ed)!==n)y++,n=d?b.Fb:b.Ed;g=b.Wa;h=g.p(b.ha).copy();j=g.p(b.ha+1).copy();s=4*(y-(r-1)/2);if(g.Qh!==Ef||dp(h.x+s,h.y,j.x+s,j.y))a++,g.jl(),g.L(b.ha,new K(h.x+s,h.y)),g.L(b.ha+1,new K(j.x+s,j.y)),g.Fi()}}g=m}k=l}}}};function bp(){this.ha=this.Dd=this.ae=this.Ed=this.Fb=this.H=0;this.Wa=p;this.Vh=0}x.eg(bp,{Ka:i,Fb:i,Ed:i,ae:i,Dd:i,index:i,link:i,Vh:i});
Y.prototype.FE=function(a,b){return!(a instanceof bp)||!(b instanceof bp)||a===b?0:a.H<b.H?-1:a.H>b.H?1:a.ae<b.ae?-1:a.ae>b.ae?1:a.Dd<b.Dd?-1:a.Dd>b.Dd?1:0};Y.prototype.EE=function(a,b){return!(a instanceof bp)||!(b instanceof bp)||a===b?0:a.Fb<b.Fb?-1:a.Fb>b.Fb||a.Vh<b.Vh?1:a.Vh>b.Vh||a.ae<b.ae?-1:a.ae>b.ae?1:a.Dd<b.Dd?-1:a.Dd>b.Dd?1:0};
Y.prototype.bw=function(a,b){return!(a instanceof bp)||!(b instanceof bp)||a===b?0:a.Ed<b.Ed?-1:a.Ed>b.Ed||a.Vh<b.Vh?1:a.Vh>b.Vh||a.ae<b.ae?-1:a.ae>b.ae?1:a.Dd<b.Dd?-1:a.Dd>b.Dd?1:0};function cp(a,b){u&&(x.n(a,Y,"isApprox:a"),x.n(b,Y,"isApprox:b"));var c=a-b;return-1<c&&1>c}function dp(a,b,c,d){u&&(x.n(a,Y,"isUnoccupied2:px"),x.n(b,Y,"isUnoccupied2:py"),x.n(c,Y,"isUnoccupied2:qx"),x.n(d,Y,"isUnoccupied2:qy"));return i}
function Zn(a,b){var c,d=a.wd[b];if(d>=a.Mg.length){c=[];var e;for(e=0;e<a.Mg.length;e++)c[e]=a.Mg[e];a.Mg=c}"undefined"===typeof a.Mg[d]||a.Mg[d]===p?c=[]:(c=a.Mg[d],a.Mg[d]=p);var d=a.Hq[b],g;for(e=0;e<d.length;e++)g=d[e],g instanceof ho&&(c[g.ha]=g);return c}function ao(a,b,c){a.Mg[a.wd[b]]=c}x.g(Y,"layerSpacing",Y.prototype.ws);x.defineProperty(Y,{ws:"layerSpacing"},t("Md"),function(a){this.Md!==a&&("number"===typeof a&&0<=a)&&(this.Md=a,this.G())});x.g(Y,"columnSpacing",Y.prototype.sG);
x.defineProperty(Y,{sG:"columnSpacing"},t("ud"),function(a){this.ud!==a&&("number"===typeof a&&0<=a)&&(this.ud=a,this.G())});x.g(Y,"direction",Y.prototype.direction);x.defineProperty(Y,{direction:"direction"},t("ga"),function(a){this.ga!==a&&"number"===typeof a&&(this.ga=a,this.G())});x.g(Y,"cycleRemoveOption",Y.prototype.NC);x.defineProperty(Y,{NC:"cycleRemoveOption"},t("Lm"),function(a){if(this.Lm!==a&&(u&&x.i(a,oa,Rn,"cycleRemoveOption"),a===Sn||a===Mn))this.Lm=a,this.G()});
x.g(Y,"layeringOption",Y.prototype.QD);x.defineProperty(Y,{QD:"layeringOption"},t("en"),function(a){if(this.en!==a&&(u&&x.i(a,oa,Rn,"layeringOption"),a===Nn||a===Eo||a===Go))this.en=a,this.G()});x.g(Y,"initializeOption",Y.prototype.FD);x.defineProperty(Y,{FD:"initializeOption"},t("$m"),function(a){if(this.$m!==a&&(u&&x.i(a,oa,Rn,"initializeOption"),a===On||a===Mo||a===Ko))this.$m=a,this.G()});x.g(Y,"iterations",Y.prototype.vH);
x.defineProperty(Y,{vH:"iterations"},t("El"),function(a){u&&x.n(a,Rn,"iterations");this.El!==a&&("number"===typeof a&&0<=a)&&(this.El=a,this.G())});x.g(Y,"aggressiveOption",Y.prototype.rC);x.defineProperty(Y,{rC:"aggressiveOption"},t("Em"),function(a){if(this.Em!==a&&(u&&x.i(a,oa,Rn,"cycleRemoveOption"),a===Qo||a===Pn||a===Ro))this.Em=a,this.G()});x.g(Y,"packOption",Y.prototype.TH);x.defineProperty(Y,{TH:"packOption"},t("ti"),function(a){this.ti!==a&&("number"===typeof a&&0<=a&&8>a)&&(this.ti=a,this.G())});
x.g(Y,"setsPortSpots",Y.prototype.xm);x.defineProperty(Y,{xm:"setsPortSpots"},t("yh"),function(a){this.yh!==a&&"boolean"===typeof a&&(this.yh=a,this.G())});x.u(Y,{DL:"maxLayer"},t("gb"));x.u(Y,{BL:"maxIndex"},t("cu"));x.u(Y,{AL:"maxColumn"},t("wb"));x.u(Y,{JL:"minIndexLayer"},t("zq"));x.u(Y,{CL:"maxIndexLayer"},t("ff"));var Mn;Y.CycleDepthFirst=Mn=x.s(Y,"CycleDepthFirst",0);var Sn;Y.CycleGreedy=Sn=x.s(Y,"CycleGreedy",1);var Nn;Y.LayerOptimalLinkLength=Nn=x.s(Y,"LayerOptimalLinkLength",0);var Eo;
Y.LayerLongestPathSink=Eo=x.s(Y,"LayerLongestPathSink",1);var Go;Y.LayerLongestPathSource=Go=x.s(Y,"LayerLongestPathSource",2);var On;Y.InitDepthFirstOut=On=x.s(Y,"InitDepthFirstOut",0);var Mo;Y.InitDepthFirstIn=Mo=x.s(Y,"InitDepthFirstIn",1);var Ko;Y.InitNaive=Ko=x.s(Y,"InitNaive",2);var Qo;Y.AggressiveNone=Qo=x.s(Y,"AggressiveNone",0);var Pn;Y.AggressiveLess=Pn=x.s(Y,"AggressiveLess",1);var Ro;Y.AggressiveMore=Ro=x.s(Y,"AggressiveMore",2);Y.PackNone=0;var So;Y.PackExpand=So=1;var To;
Y.PackStraighten=To=2;var Vo;Y.PackMedian=Vo=4;var Qn;Y.PackAll=Qn=7;function Rn(){Zm.call(this)}x.S("LayeredDigraphNetwork",Rn);x.Ja(Rn,Zm);Rn.prototype.createVertex=Rn.prototype.Nj=function(){return new ho};Rn.prototype.createEdge=Rn.prototype.$n=function(){return new Xn};function ho(){cn.call(this);this.ha=this.aa=this.H=-1;this.Ia=q;this.Ob=this.Sm=this.sk=NaN;this.uj=p;this.pl=0;this.Kx=this.Lx=f}x.S("LayeredDigraphVertex",ho);x.Ja(ho,cn);x.g(ho,"layer",ho.prototype.Ka);
x.defineProperty(ho,{Ka:"layer"},t("H"),ba("H"));x.g(ho,"column",ho.prototype.Gc);x.defineProperty(ho,{Gc:"column"},t("aa"),ba("aa"));x.g(ho,"index",ho.prototype.index);x.defineProperty(ho,{index:"index"},t("ha"),ba("ha"));x.g(ho,"valid",ho.prototype.valid);x.defineProperty(ho,{valid:"valid"},t("Ia"),ba("Ia"));x.g(ho,"discover",ho.prototype.EG);x.defineProperty(ho,{EG:"discover"},t("sk"),ba("sk"));x.g(ho,"finish",ho.prototype.finish);x.defineProperty(ho,{finish:"finish"},t("Sm"),ba("Sm"));
x.g(ho,"component",ho.prototype.tG);x.defineProperty(ho,{tG:"component"},t("Ob"),ba("Ob"));x.g(ho,"near",ho.prototype.KH);x.defineProperty(ho,{KH:"near"},t("uj"),function(a){a!==p&&x.i(a,ho,ho,"layeredDigraphVertex");this.uj=a});function Xn(){dn.call(this);this.Ip=this.Cb=this.Ia=q;this.of=this.mf=NaN;this.Ge=this.NI=0}x.S("LayeredDigraphEdge",Xn);x.Ja(Xn,dn);x.g(Xn,"valid",Xn.prototype.valid);x.defineProperty(Xn,{valid:"valid"},t("Ia"),ba("Ia"));x.g(Xn,"rev",Xn.prototype.rev);
x.defineProperty(Xn,{rev:"rev"},t("Cb"),ba("Cb"));x.g(Xn,"forest",Xn.prototype.XG);x.defineProperty(Xn,{XG:"forest"},t("Ip"),ba("Ip"));x.g(Xn,"portFromPos",Xn.prototype.WH);x.defineProperty(Xn,{WH:"portFromPos"},t("mf"),ba("mf"));x.g(Xn,"portToPos",Xn.prototype.YH);x.defineProperty(Xn,{YH:"portToPos"},t("of"),ba("of"));x.g(Xn,"portFromColOffset",Xn.prototype.VH);x.defineProperty(Xn,{VH:"portFromColOffset"},t("lf"),ba("lf"));x.g(Xn,"portToColOffset",Xn.prototype.XH);
x.defineProperty(Xn,{XH:"portToColOffset"},t("Ge"),ba("Ge"));function W(){Yh.call(this);this.jd=new qa(A);this.wh=ep;this.cf=fp;this.tr=gp;this.Wc=hp;this.Jf=new cb(10,10);this.la=new Z;this.ka=new Z}x.S("TreeLayout",W);x.Ja(W,Yh);W.prototype.cloneProtected=W.prototype.Db=function(a){Yh.prototype.Db.call(this,a);a.wh=this.wh;a.tr=this.tr;a.Wc=this.Wc;a.Jf=this.Jf.copy();ip(a.la,this.la);ip(a.ka,this.ka)};W.prototype.createNetwork=W.prototype.uv=function(){var a=new jp;$m(a,this);return a};
W.prototype.makeNetwork=W.prototype.CH=function(a){var b=this.createNetwork();a instanceof w?(kp(this,b,a.hl,i),kp(this,b,a.links,i)):a instanceof B?kp(this,b,a.Ic,q):a.l&&kp(this,b,a.l,q);return b};
function kp(a,b,c,d){for(c=c.l;c.next();){var e=c.value;if(e instanceof A&&e.Sr()&&"Comment"!==e.Cd&&(!d||e.us))e.Ri||(e instanceof B&&e.Ub===p?kp(a,b,e.Ic,q):b.Kn(e))}for(c.reset();c.next();)if(e=c.value,e instanceof F&&e.Sr()&&"Comment"!==e.Cd&&(!d||e.us)){var g=e.ja,a=e.na;if(!(g===p||a===p||g===a)&&"Comment"!==g.Cd&&"Comment"!==a.Cd)g=b.Dv(g),a=b.Dv(a),g!==p&&a!==p&&b.qm(g,a,e)}}
W.prototype.doLayout=W.prototype.Yr=function(a){this.Sc===p&&(this.Sc=this.makeNetwork(a));this.ne!==lp&&(this.nd=bn(this,this.nd));var b=this.h;b===p&&a instanceof w&&(b=a);this.cf=this.path===ep&&b!==p?b.rd?fp:mp:this.path===ep?fp:this.path;if(0<this.B.ma.count){this.B.xv();for(b=this.B.ma.l;b.next();)a=b.value,a.Ak=q,a.Fl=0,a.mb=p,a.cc=[];for(b=this.jd.l;b.next();){var c=b.value,a=this.B.Ne(c);a===p&&this.jd.remove(c)}if(0===this.jd.count){for(a=this.B.ma.l;a.next();)switch(b=a.value,this.cf){case fp:0===
b.Mb.count&&this.jd.add(b.kb);break;case mp:0===b.Lb.count&&this.jd.add(b.kb);break;default:x.m("Unhandled path value "+this.cf.toString())}if(0===this.jd.count){a=999999;b=p;for(c=this.B.ma.l;c.next();){var d=c.value;switch(this.cf){case fp:d.Mb.count<a&&(a=d.Mb.count,b=d);break;case mp:d.Lb.count<a&&(a=d.Lb.count,b=d);break;default:x.m("Unhandled path value "+this.cf.toString())}}b!==p&&this.jd.add(b.kb)}}for(b=this.jd.l;b.next();)c=b.value,a=this.B.Ne(c),a!==p&&!a.Ak&&(a.Ak=i,np(this,a));for(a=
this.jd.l;a.next();)b=this.B.Ne(a.value),op(this,b);for(a=this.jd.l;a.next();)b=this.B.Ne(a.value),pp(this,b);for(a=this.jd.l;a.next();)qp(this,this.B.Ne(a.value));for(a=this.B.ma.l;a.next();)this.addComments(a.value);for(a=this.jd.l;a.next();)rp(this,this.B.Ne(a.value));if(this.Wc===lp)for(a=this.jd.l;a.next();)d=a.value,b=this.B.Ne(d),d=d.position,c=d.x,d=d.y,isFinite(c)||(c=0),isFinite(d)||(d=0),sp(this,b,c,d);else for(var a=this.nd,c=a.x,e=a.y,a=this.jd.l;a.next();)if(d=a.value,b=this.B.Ne(d),
b!==p)switch(sp(this,b,c+b.Ha.x,e+b.Ha.y),this.Wc){case hp:e+=b.Ua.height+this.Jf.height;break;case tp:c+=b.Ua.width+this.Jf.width;break;default:x.m("Unhandled arrangement value "+this.Wc.toString())}this.updateParts()}this.Sc=p;this.jd=new qa(A);this.Re=i};
function np(a,b){u&&x.i(b,Z,W,"walkTree:v");if(b!==p){switch(a.cf){case fp:if(0<b.Lb.count){for(var c=new H(Z),d=b.DG;d.next();){var e=d.value;up(a,b,e)&&c.add(e)}0<c.count&&(b.cc=c.vg())}break;case mp:if(0<b.Mb.count){c=new H(Z);for(d=b.qI;d.next();)e=d.value,up(a,b,e)&&c.add(e);0<c.count&&(b.cc=c.vg())}break;default:x.m("Unhandled path value"+a.cf.toString())}for(var c=b.cc,d=c.length,g=0;g<d;g++)e=c[g],e.Ak=i,e.Fl=b.Fl+1,e.mb=b,a.jd.remove(e.kb);for(g=0;g<d;g++)e=c[g],np(a,e)}}
function up(a,b,c){u&&x.i(b,Z,W,"walkOK:v");u&&x.i(c,Z,W,"walkOK:c");if(c.Ak){var d;u&&x.i(c,Z,W,"isAncestor:a");u&&x.i(b,Z,W,"isAncestor:b");if(b===p)d=q;else{for(d=b.mb;d!==p&&d!==c;)d=d.mb;d=d===c}if(d||c.Fl>b.Fl)return q;a.removeChild(c.mb,c)}return i}
W.prototype.removeChild=function(a,b){u&&x.i(a,Z,W,"removeChild:p");u&&x.i(b,Z,W,"removeChild:c");if(a!==p&&b!==p){for(var c=a.cc,d=0,e=0;e<c.length;e++)c[e]===b&&d++;if(0<d){for(var d=Array(c.length-d),g=0,e=0;e<c.length;e++)c[e]!==b&&(d[g++]=c[e]);a.cc=d}}};
function op(a,b){u&&x.i(b,Z,W,"initializeTree:v");if(b!==p){u&&x.i(b,Z,W,"initializeTreeVertexValues:v");var c=vp(a,b);ip(b,c);if(b.mb!==p&&b.mb.Ga===wp){for(var c=b.angle,d=b.mb.cc,e=0;e<d.length&&b!==d[e];)e++;0===e%2?e!==d.length-1&&(c=90===c?180:180===c?270:270===c?180:270):c=90===c?0:180===c?90:270===c?0:90;b.angle=c}b.Ak=i;b.Ga===wp&&a.OE(b);for(var c=0,d=b.Yl,e=0,g=b.cc,h=g.length,j=0;j<h;j++){var k=g[j];op(a,k);c+=k.At+1;d=Math.max(d,k.bu);e=Math.max(e,k.li)}b.At=c;b.bu=d;b.li=0<d?e+1:0}}
function vp(a,b){u&&x.i(b,Z,W,"mom:v");switch(a.tr){default:case gp:return b.mb!==p?b.mb:a.la;case xp:return b.mb===p?a.la:b.mb.mb===p?a.ka:b.mb;case yp:if(b.mb!==p)return b.mb.mb!==p?b.mb.mb:a.ka;case zp:var c=i;if(0===b.Yl)c=q;else for(var d=b.cc,e=d.length,g=0;g<e;g++)if(0<d[g].Yl){c=q;break}return c&&b.mb!==p?a.ka:b.mb!==p?b.mb:a.la}}function pp(a,b){u&&x.i(b,Z,W,"assignTree:v");if(b!==p){a.assignTreeVertexValues(b);for(var c=b.cc,d=c.length,e=0;e<d;e++)pp(a,c[e])}}
W.prototype.assignTreeVertexValues=W.prototype.ZI=aa();function qp(a,b){u&&x.i(b,Z,W,"sortTree:v");if(b!==p){b.Ga!==wp&&a.OE(b);for(var c=b.cc,d=c.length,e=0;e<d;e++)qp(a,c[e])}}W.prototype.sortTreeVertexChildren=W.prototype.OE=function(a){u&&x.i(a,Z,W,"sortTreeVertexChildren:v");switch(a.yc){case Ap:break;case Bp:a.cc.reverse();break;case Cp:a.cc.sort(a.vc);break;case Dp:a.cc.sort(a.vc);a.cc.reverse();break;default:x.m("Unhandled sorting value "+a.yc.toString())}};
W.prototype.addComments=W.prototype.QF=function(a){u&&x.i(a,Z,W,"addComments:v");var b=a.sc,c=a.mb,d=0,e=Ep,e=q;c!==p&&(d=c.sc,e=c.Ga,e=Fp(e));var b=90===b||270===b,d=90===d||270===d,c=0===a.Yl,g=new L,h=g.width,g=g.height,j=0,k=a.Jd;if(a.kb!==p)for(var l=a.kb.fD();l.next();){var m=l.value;"Comment"===m.Cd&&m.tb()&&(a.Kd===p&&(a.Kd=[]),a.Kd.push(m),m.Ki(),m=m.Ba,b&&!c||!e&&!d&&c||e&&d&&c?(h=Math.max(h,m.width),g+=m.height+Math.abs(j)):(h+=m.width+Math.abs(j),g=Math.max(g,m.height)),j=k)}a.Kd!==p&&
(b&&!c||!e&&!d&&c||e&&d&&c?(h+=Math.abs(a.uc),g=Math.max(0,g-a.height)):(g+=Math.abs(a.uc),h=Math.max(0,h-a.width)),a.Kb=new L(0,0,a.N.width+h,a.N.height+g))};function Fp(a){return a===Gp||a===wp||a===Hp||a===Ip}function Jp(a){return a===Gp||a===wp}function Kp(a){u&&x.i(a,Z,W,"isLeftSideBus:v");var b=a.mb;if(b!==p){var c=b.Ib;if(Fp(c)){if(Jp(c)){b=b.children;for(c=0;c<b.length&&a!==b[c];)c++;return 0===c%2}if(c===Hp)return i}}return q}
W.prototype.layoutComments=W.prototype.vL=function(a){u&&x.i(a,Z,W,"layoutComments:v");if(a.Kd!==p){var b=a.bh.Ba,c=a.mb,d=a.sc,e=0,g=Ep,g=q;c!==p&&(e=c.sc,g=c.Ga,g=Fp(g));for(var d=90===d||270===d,h=90===e||270===e,j=0===a.Yl,k=Kp(a),l=0,m=a.Kd,n=m.length,r=0;r<n;r++){var c=m[r],s=c.Ba;if(d&&!j||!g&&!h&&j||g&&h&&j){if(135<e&&!g||h&&k)if(0<=a.uc){c.location=new K(a.N.x-a.uc-s.width,a.N.y+l);for(var v=c.Bf();v.next();)c=v.value,c.qb=Pb,c.ub=Qb}else{c.location=new K(a.N.x+2*a.M.x-a.uc,a.N.y+l);for(v=
c.Bf();v.next();)c=v.value,c.qb=Qb,c.ub=Pb}else if(0<=a.uc){c.location=new K(a.N.x+2*a.M.x+a.uc,a.N.y+l);for(v=c.Bf();v.next();)c=v.value,c.qb=Qb,c.ub=Pb}else{c.location=new K(a.N.x+a.uc-s.width,a.N.y+l);for(v=c.Bf();v.next();)c=v.value,c.qb=Pb,c.ub=Qb}l=0<=a.Jd?l+(s.height+a.Jd):l+(a.Jd-s.height)}else{if(135<e&&!g||!h&&k)if(0<=a.uc){c.location=new K(a.N.x+l,a.N.y-a.uc-s.height);for(v=c.Bf();v.next();)c=v.value,c.qb=Ob,c.ub=Rb}else{c.location=new K(a.N.x+l,a.N.y+2*a.M.y-a.uc);for(v=c.Bf();v.next();)c=
v.value,c.qb=Rb,c.ub=Ob}else if(0<=a.uc){c.location=new K(a.N.x+l,a.N.y+2*a.M.y+a.uc);for(v=c.Bf();v.next();)c=v.value,c.qb=Rb,c.ub=Ob}else{c.location=new K(a.N.x+l,a.N.y+a.uc-s.height);for(v=c.Bf();v.next();)c=v.value,c.qb=Ob,c.ub=Rb}l=0<=a.Jd?l+(s.width+a.Jd):l+(a.Jd-s.width)}}b=l-a.Jd-(d?b.height:b.width);if(this.cf===fp)for(a=a.Lb;a.next();){if(e=a.value,(c=e.link)&&c.Qh!==Ef)c.Zk=0<b?b:NaN}else for(a=a.Mb;a.next();)if(e=a.value,(c=e.link)&&c.Qh!==Ef)c.kl=0<b?b:NaN}};
function rp(a,b){u&&x.i(b,Z,W,"layoutTree:v");if(b!==p){for(var c=b.cc,d=c.length,e=0;e<d;e++)rp(a,c[e]);switch(b.zg){case Lp:Mp(a,b);break;case Np:if(b.Ga===wp)Mp(a,b);else if(u&&x.i(b,Z,W,"layoutTreeBlock:v"),0===b.Yl){var e=b.mb,c=q,d=0,g=Ep;e!==p&&(d=e.sc,g=e.Ga,c=Fp(g));e=Kp(b);b.ba.Y(0,0);b.Ua.Y(b.width,b.height);b.mb!==p&&b.Kd!==p&&((180===d||270===d)&&!c||e)?180===d&&!c||(90===d||270===d)&&e?b.Ha.Y(b.width-2*b.M.x,0):b.Ha.Y(0,b.height-2*b.M.y):b.Ha.Y(0,0);b.lq=p;b.Yq=p}else{for(var h=Op(b),
c=90===h||270===h,j=0,k=b.cc,l=k.length,m=0;m<l;m++)var n=k[m],j=Math.max(j,c?n.Ua.width:n.Ua.height);var r=b.Ga,e=r===Pp,s=r===Qp,v=Fp(r),y=Math.max(0,b.wg),d=Rp(b),C=b.Ad,D=Sp(b),I=b.He,E=0;if(e||s||b.Kk||b.Lk&&1===b.li)E=Math.max(0,b.kd);var e=b.width,g=b.height,M=0,O=0,X=0,sa=p,ka=p,va=0,Fa=0,Ga=0,Za=0,pb=0,Wa=0,Ia=0,eb=0,n=0;v&&!Jp(r)&&135<h&&k.reverse();if(Jp(r))if(1<l)for(m=0;m<l;m++)0===m%2&&m!==l-1?eb=Math.max(eb,c?k[m].Ua.width:k[m].Ua.height):0!==m%2&&(n=Math.max(n,c?k[m].Ua.width:k[m].Ua.height));
else 1===l&&(eb=c?k[0].Ua.width:k[0].Ua.height);if(v){switch(r){case Gp:Fa=135>h?Tp(b,k,eb,M,O):Up(b,k,eb,M,O);eb=Fa[0];M=Fa[1];O=Fa[2];break;case Hp:for(m=0;m<l;m++){var n=k[m],Va=n.Ua,sa=0===Wa?0:I;c?(n.ba.Y(j-Va.width,Za+sa),M=Math.max(M,Va.width),O=Math.max(O,Za+sa+Va.height),Za+=sa+Va.height):(n.ba.Y(Ga+sa,j-Va.height),M=Math.max(M,Ga+sa+Va.width),O=Math.max(O,Va.height),Ga+=sa+Va.width);Wa++}break;case Ip:for(m=0;m<l;m++)n=k[m],Va=n.Ua,sa=0===Wa?0:I,c?(n.ba.Y(C/2+b.M.x,Za+sa),M=Math.max(M,Va.width),
O=Math.max(O,Za+sa+Va.height),Za+=sa+Va.height):(n.ba.Y(Ga+sa,C/2+b.M.y),M=Math.max(M,Ga+sa+Va.width),O=Math.max(O,Va.height),Ga+=sa+Va.width),Wa++}sa=[];ka=[];c?(sa[0]=new K(0,0),sa[1]=new K(0,O),ka[0]=new K(M,0)):(sa[0]=new K(0,0),sa[1]=new K(M,0),ka[0]=new K(0,O));ka[1]=new K(M,O)}else for(m=0;m<l;m++){n=k[m];Va=n.Ua;if(c){0<y&&(0<Wa&&Ga+C+Va.width>y)&&(Ga<j&&Vp(b,r,j-Ga,0,Ia,m-1),pb++,Wa=0,Ia=m,X=O,Ga=0,Za=135<h?-O-I:O+I);Wp(a,n,0,Za);var mb=0;if(0===Wa){if(sa=n.lq,ka=n.Yq,va=Va.width,Fa=Va.height,
sa===p||ka===p||h!==Op(n))sa=[],ka=[],sa[0]=new K(0,0),sa[1]=new K(0,Fa),ka[0]=new K(va,0),ka[1]=new K(va,Fa)}else Fa=Xp(b,n,sa,ka,va,Fa),mb=Fa[0],sa=Fa[1],ka=Fa[2],va=Fa[3],Fa=Fa[4],Ga<Va.width&&0>mb&&(Yp(b,-mb,0,Ia,m-1),Zp(sa,-mb,0),Zp(ka,-mb,0),mb=0);n.ba.Y(mb,Za);M=Math.max(M,va);O=Math.max(O,X+(0===pb?0:I)+Va.height);Ga=va}else{0<y&&(0<Wa&&Za+C+Va.height>y)&&(Za<j&&Vp(b,r,0,j-Za,Ia,m-1),pb++,Wa=0,Ia=m,X=M,Za=0,Ga=135<h?-M-I:M+I);Wp(a,n,Ga,0);mb=0;if(0===Wa){if(sa=n.lq,ka=n.Yq,va=Va.width,Fa=
Va.height,sa===p||ka===p||h!==Op(n))sa=[],ka=[],sa[0]=new K(0,0),sa[1]=new K(va,0),ka[0]=new K(0,Fa),ka[1]=new K(va,Fa)}else Fa=Xp(b,n,sa,ka,va,Fa),mb=Fa[0],sa=Fa[1],ka=Fa[2],va=Fa[3],Fa=Fa[4],Za<Va.height&&0>mb&&(Yp(b,0,-mb,Ia,m-1),Zp(sa,0,-mb),Zp(ka,0,-mb),mb=0);n.ba.Y(Ga,mb);O=Math.max(O,Fa);M=Math.max(M,X+(0===pb?0:I)+Va.width);Za=Fa}Wa++}0<pb&&(c?(O+=Math.max(0,d),Ga<M&&Vp(b,r,M-Ga,0,Ia,l-1),0<E&&(s||Yp(b,E,0,0,l-1),M+=E)):(M+=Math.max(0,d),Za<O&&Vp(b,r,0,O-Za,Ia,l-1),0<E&&(s||Yp(b,0,E,0,l-1),
O+=E)));s=j=0;switch(r){case $p:c?j+=M/2-b.M.x-D/2:s+=O/2-b.M.y-D/2;break;case Ep:0<pb?c?j+=M/2-b.M.x-D/2:s+=O/2-b.M.y-D/2:c?(m=k[0].ba.x+k[0].Ha.x,eb=k[l-1].ba.x+k[l-1].Ha.x+2*k[l-1].M.x,j+=m+(eb-m)/2-b.M.x-D/2):(m=k[0].ba.y+k[0].Ha.y,eb=k[l-1].ba.y+k[l-1].Ha.y+2*k[l-1].M.y,s+=m+(eb-m)/2-b.M.y-D/2);break;case Pp:c?(j-=D,M+=D):(s-=D,O+=D);break;case Qp:c?(j+=M-b.width+D,M+=D):(s+=O-b.height+D,O+=D);break;case Gp:c?j=1<l?j+(eb+C/2-b.M.x):j+(k[0].M.x-b.M.x+k[0].Ha.x):s=1<l?s+(eb+C/2-b.M.y):s+(k[0].M.y-
b.M.y+k[0].Ha.y);break;case Hp:c?j+=M+C/2-b.M.x:s+=O+C/2-b.M.y;break;case Ip:break;default:x.m("Unhandled alignment value "+r.toString())}for(m=0;m<l;m++)n=k[m],c?n.ba.Y(n.ba.x+n.Ha.x-j,n.ba.y+(135<h?(v?-O:-n.Ua.height)+n.Ha.y-d:g+d+n.Ha.y)):n.ba.Y(n.ba.x+(135<h?(v?-M:-n.Ua.width)+n.Ha.x-d:e+d+n.Ha.x),n.ba.y+n.Ha.y-s);l=k=0;v?c?(M=aq(b,M,j),0>j&&(j=0),135<h&&(s+=O+d),O+=g+d,r===Ip&&(k+=C/2+b.M.x),l+=g+d):(135<h&&(j+=M+d),M+=e+d,O=bq(b,O,s),0>s&&(s=0),r===Ip&&(l+=C/2+b.M.y),k+=e+d):c?(b.Kd===p?e>M&&
(r=cq(r,e-M,0),k=r[0],l=r[1],M=e,j=0):M=aq(b,M,j),0>j&&(k-=j,j=0),135<h&&(s+=O+d),O=Math.max(Math.max(O,g),O+g+d),l+=g+d):(135<h&&(j+=M+d),M=Math.max(Math.max(M,e),M+e+d),b.Kd===p?g>O&&(r=cq(r,0,g-O),k=r[0],l=r[1],O=g,s=0):O=bq(b,O,s),0>s&&(l-=s,s=0),k+=e+d);if(0<pb)h=[],r=[],c?(h[2]=new K(0,g+d),h[3]=new K(h[2].x,O),r[2]=new K(M,h[2].y),r[3]=new K(r[2].x,h[3].y)):(h[2]=new K(e+d,0),h[3]=new K(M,h[2].y),r[2]=new K(h[2].x,O),r[3]=new K(h[3].x,r[2].y));else{h=[];r=[];for(m=0;m<sa.length;m++)v=sa[m],
h[m+2]=new K(v.x+k,v.y+l);for(m=0;m<ka.length;m++)v=ka[m],r[m+2]=new K(v.x+k,v.y+l)}c?(h[0]=new K(j,0),h[1]=new K(h[0].x,g),h[2].y<h[1].y&&(h[2].x>h[0].x?h[2]=h[1].copy():h[1].bb(h[2])),h[3].y<h[2].y&&(h[3].x>h[0].x?h[3]=h[2].copy():h[2]=h[3].copy()),r[0]=new K(j+e,0),r[1]=new K(r[0].x,g),r[2].y<r[1].y&&(r[2].x<r[0].x?r[2]=r[1].copy():r[1].bb(r[2])),r[3].y<r[2].y&&(r[3].x<r[0].x?r[3]=r[2].copy():r[2]=r[3].copy()),h[2].y-=d/2,r[2].y-=d/2):(h[0]=new K(0,s),h[1]=new K(e,h[0].y),h[2].x<h[1].x&&(h[2].y>
h[0].y?h[2]=h[1].copy():h[1].bb(h[2])),h[3].x<h[2].x&&(h[3].y>h[0].y?h[3]=h[2].copy():h[2]=h[3].copy()),r[0]=new K(0,s+g),r[1]=new K(e,r[0].y),r[2].x<r[1].x&&(r[2].y<r[0].y?r[2]=r[1].copy():r[1].bb(r[2])),r[3].x<r[2].x&&(r[3].y<r[0].y?r[3]=r[2].copy():r[2]=r[3].copy()),h[2].x-=d/2,r[2].x-=d/2);b.lq=h;b.Yq=r;b.Ha.Y(j,s);b.Ua.Y(M,O)}break;default:x.m("Unhandled compaction value "+b.zg.toString())}}}
function Mp(a,b){u&&x.i(b,Z,W,"layoutTreeNone:v");if(0===b.Yl){var c=q,d=0,e=Ep;b.mb!==p&&(d=b.mb.sc,e=b.mb.Ga,c=Fp(e));e=Kp(b);b.ba.Y(0,0);b.Ua.Y(b.width,b.height);b.mb!==p&&b.Kd!==p&&((180===d||270===d)&&!c||e)?180===d&&!c||(90===d||270===d)&&e?b.Ha.Y(b.width-2*b.M.x,0):b.Ha.Y(0,b.height-2*b.M.y):b.Ha.Y(0,0)}else{for(var c=Op(b),d=90===c||270===c,g=0,e=b.cc,h=e.length,j=0;j<h;j++)var k=e[j],g=Math.max(g,d?k.Ua.width:k.Ua.height);var l=b.Ga,m=l===Pp,n=l===Qp,r=Fp(l),s=Math.max(0,b.wg),v=Rp(b),y=
b.Ad,C=Sp(b),D=m||n?0:C/2,I=b.He,E=0;if(m||n||b.Kk||b.Lk&&1===b.li)E=Math.max(0,b.kd);var m=b.width,M=b.height,O=0,X=0,sa=0,ka=0,va=0,Fa=0,Ga=0,Za=0,pb=0,Wa=0;r&&!Jp(l)&&135<c&&e.reverse();if(Jp(l))if(1<h)for(j=0;j<h;j++){var k=e[j],Ia=k.Ua;0===j%2&&j!==h-1?pb=Math.max(pb,(d?Ia.width:Ia.height)+dq(k)-y):0!==j%2&&(Wa=Math.max(Wa,(d?Ia.width:Ia.height)+dq(k)-y))}else 1===h&&(pb=d?e[0].Ua.width:e[0].Ua.height);if(r)switch(l){case Gp:case wp:X=135>c?Tp(b,e,pb,O,X):Up(b,e,pb,O,X);pb=X[0];O=X[1];X=X[2];
break;case Hp:for(j=0;j<h;j++)k=e[j],Ia=k.Ua,s=0===Ga?0:I,d?(k.ba.Y(g-Ia.width,va+s),O=Math.max(O,Ia.width),X=Math.max(X,va+s+Ia.height),va+=s+Ia.height):(k.ba.Y(ka+s,g-Ia.height),O=Math.max(O,ka+s+Ia.width),X=Math.max(X,Ia.height),ka+=s+Ia.width),Ga++;break;case Ip:for(g=0;g<h;g++)k=e[g],Ia=k.Ua,s=0===Ga?0:I,d?(k.ba.Y(y/2+b.M.x,va+s),O=Math.max(O,Ia.width),X=Math.max(X,va+s+Ia.height),va+=s+Ia.height):(k.ba.Y(ka+s,y/2+b.M.y),O=Math.max(O,ka+s+Ia.width),X=Math.max(X,Ia.height),ka+=s+Ia.width),Ga++}else for(j=
0;j<h;j++)k=e[j],Ia=k.Ua,d?(0<s&&(0<Ga&&ka+y+Ia.width>s)&&(ka<g&&Vp(b,l,g-ka,0,Za,j-1),Fa++,Ga=0,Za=j,sa=X,ka=0,va=135<c?-X-I:X+I),Wa=0===Ga?D:y,Wp(a,k,0,va),k.ba.Y(ka+Wa,va),O=Math.max(O,ka+Wa+Ia.width),X=Math.max(X,sa+(0===Fa?0:I)+Ia.height),ka+=Wa+Ia.width):(0<s&&(0<Ga&&va+y+Ia.height>s)&&(va<g&&Vp(b,l,0,g-va,Za,j-1),Fa++,Ga=0,Za=j,sa=O,va=0,ka=135<c?-O-I:O+I),Wa=0===Ga?D:y,Wp(a,k,ka,0),k.ba.Y(ka,va+Wa),X=Math.max(X,va+Wa+Ia.height),O=Math.max(O,sa+(0===Fa?0:I)+Ia.width),va+=Wa+Ia.height),Ga++;
0<Fa&&(d?(X+=Math.max(0,v),ka<O&&Vp(b,l,O-ka,0,Za,h-1),0<E&&(n||Yp(b,E,0,0,h-1),O+=E)):(O+=Math.max(0,v),va<X&&Vp(b,l,0,X-va,Za,h-1),0<E&&(n||Yp(b,0,E,0,h-1),X+=E)));E=n=0;switch(l){case $p:d?n+=O/2-b.M.x-C/2:E+=X/2-b.M.y-C/2;break;case Ep:0<Fa?d?n+=O/2-b.M.x-C/2:E+=X/2-b.M.y-C/2:d?(l=e[0].ba.x+e[0].Ha.x,y=e[h-1].ba.x+e[h-1].Ha.x+2*e[h-1].M.x,n+=l+(y-l)/2-b.M.x-C/2):(l=e[0].ba.y+e[0].Ha.y,y=e[h-1].ba.y+e[h-1].Ha.y+2*e[h-1].M.y,E+=l+(y-l)/2-b.M.y-C/2);break;case Pp:d?(n-=C,O+=C):(E-=C,X+=C);break;
case Qp:d?(n+=O-b.width+C,O+=C):(E+=X-b.height+C,X+=C);break;case Gp:case wp:d?n=1<h?n+(pb+y/2-b.M.x):n+(e[0].M.x-b.M.x+e[0].Ha.x):E=1<h?E+(pb+y/2-b.M.y):E+(e[0].M.y-b.M.y+e[0].Ha.y);break;case Hp:d?n+=O+y/2-b.M.x:E+=X+y/2-b.M.y;break;case Ip:break;default:x.m("Unhandled alignment value "+l.toString())}for(j=0;j<h;j++)k=e[j],d?k.ba.Y(k.ba.x+k.Ha.x-n,k.ba.y+(135<c?(r?-X:-k.Ua.height)+k.Ha.y-v:M+v+k.Ha.y)):k.ba.Y(k.ba.x+(135<c?(r?-O:-k.Ua.width)+k.Ha.x-v:m+v+k.Ha.x),k.ba.y+k.Ha.y-E);d?(O=aq(b,O,n),
0>n&&(n=0),135<c&&(E+=X+v),X+=M+v):(135<c&&(n+=O+v),O+=m+v,X=bq(b,X,E),0>E&&(E=0));b.Ha.Y(n,E);b.Ua.Y(O,X)}}
function Tp(a,b,c,d,e){u&&x.i(a,Z,W,"layoutBusChildrenPosDir:v");var g=b.length;if(0===g)return[c,d,e];if(1===g){var h=b[0],d=h.Ua.width,e=h.Ua.height;return[c,d,e]}for(var j=a.Ad,k=a.He,l=90===Op(a),m=0,n=0,r=0,s=0;s<g;s++)if(!(0!==s%2||1<g&&s===g-1)){var h=b[s],v=h.Ua,y=0===m?0:k;if(l){var C=dq(h)-j;h.ba.Y(c-(v.width+C),r+y);d=Math.max(d,v.width+C);e=Math.max(e,r+y+v.height);r+=y+v.height}else C=dq(h)-j,h.ba.Y(n+y,c-(v.height+C)),e=Math.max(e,v.height+C),d=Math.max(d,n+y+v.width),n+=y+v.width;m++}var m=
0,D=n,I=r;l?(n=c+j,r=0):(n=0,r=c+j);for(s=0;s<g;s++)0!==s%2&&(h=b[s],v=h.Ua,y=0===m?0:k,l?(C=dq(h)-j,h.ba.Y(n+C,r+y),d=Math.max(d,n+v.width+C),e=Math.max(e,r+y+v.height),r+=y+v.height):(C=dq(h)-j,h.ba.Y(n+y,r+C),d=Math.max(d,n+y+v.width),e=Math.max(e,r+v.height+C),n+=y+v.width),m++);1<g&&1===g%2&&(h=b[g-1],v=h.Ua,b=eq(h,l?Math.max(Math.abs(I),Math.abs(r)):Math.max(Math.abs(D),Math.abs(n))),l?(h.ba.Y(c+j/2-h.M.x-h.Ha.x,e+b),l=c+j/2-h.M.x-h.Ha.x,d=Math.max(d,l+v.width),0>l&&(d-=l),e=Math.max(e,Math.max(I,
r)+b+v.height),0>h.ba.x&&(c=fq(a,h.ba.x,q,c,j))):(h.ba.Y(d+b,c+j/2-h.M.y-h.Ha.y),d=Math.max(d,Math.max(D,n)+b+v.width),l=c+j/2-h.M.y-h.Ha.y,e=Math.max(e,l+v.height),0>l&&(e-=l),0>h.ba.y&&(c=fq(a,h.ba.y,i,c,j))));return[c,d,e]}
function Up(a,b,c,d,e){u&&x.i(a,Z,W,"layoutBusChildrenNegDir:v");var g=b.length;if(0===g)return[c,d,e];if(1===g){var h=b[0],d=h.Ua.width,e=h.Ua.height;return[c,d,e]}for(var j=a.Ad,k=a.He,l=270===Op(a),m=0,n=0,r=0,s=0;s<g;s++)if(!(0!==s%2||1<g&&s===g-1)){var h=b[s],v=h.Ua,y=0===m?0:k;if(l){var C=dq(h)-j,r=r-(y+v.height);h.ba.Y(c-(v.width+C),r);d=Math.max(d,v.width+C);e=Math.max(e,Math.abs(r))}else C=dq(h)-j,n-=y+v.width,h.ba.Y(n,c-(v.height+C)),e=Math.max(e,v.height+C),d=Math.max(d,Math.abs(n));m++}var m=
0,D=n,I=r;l?(n=c+j,r=0):(n=0,r=c+j);for(s=0;s<g;s++)0!==s%2&&(h=b[s],v=h.Ua,y=0===m?0:k,l?(C=dq(h)-j,r-=y+v.height,h.ba.Y(n+C,r),d=Math.max(d,n+v.width+C),e=Math.max(e,Math.abs(r))):(C=dq(h)-j,n-=y+v.width,h.ba.Y(n,r+C),e=Math.max(e,r+v.height+C),d=Math.max(d,Math.abs(n))),m++);1<g&&1===g%2&&(h=b[g-1],v=h.Ua,k=eq(h,l?Math.max(Math.abs(I),Math.abs(r)):Math.max(Math.abs(D),Math.abs(n))),l?(h.ba.Y(c+j/2-h.M.x-h.Ha.x,-e-v.height-k),n=c+j/2-h.M.x-h.Ha.x,d=Math.max(d,n+v.width),0>n&&(d-=n),e=Math.max(e,
Math.abs(Math.min(I,r))+k+v.height),0>h.ba.x&&(c=fq(a,h.ba.x,q,c,j))):(h.ba.Y(-d-v.width-k,c+j/2-h.M.y-h.Ha.y),d=Math.max(d,Math.abs(Math.min(D,n))+k+v.width),n=c+j/2-h.M.y-h.Ha.y,e=Math.max(e,n+v.height),0>n&&(e-=n),0>h.ba.y&&(c=fq(a,h.ba.y,i,c,j))));for(s=0;s<g;s++)h=b[s],l?h.ba.Y(h.ba.x,h.ba.y+e):h.ba.Y(h.ba.x+d,h.ba.y);return[c,d,e]}function dq(a){u&&x.i(a,Z,W,"fixRelativePostions:child");return a.parent===p?0:a.parent.Sv}
function eq(a){u&&x.i(a,Z,W,"fixRelativePostions:lastchild");return a.parent===p?0:a.parent.aw}function fq(a,b,c,d,e){u&&x.i(a,Z,W,"fixRelativePostions:v");for(var a=a.cc,g=a.length,h=0;h<g;h++)c?a[h].ba.Y(a[h].ba.x,a[h].ba.y-b):a[h].ba.Y(a[h].ba.x-b,a[h].ba.y);b=a[g-1];return Math.max(d,c?b.Ha.y+b.M.y-e/2:b.Ha.x+b.M.x-e/2)}
function aq(a,b,c){u&&x.i(a,Z,W,"calculateSubwidth:v");switch(a.Ga){case Ep:case $p:var d=b;c+a.width>d&&(d=c+a.width);0>c&&(d-=c);return d;case Pp:return a.width>b?a.width:b;case Qp:return 2*a.M.x>b?a.width:b+a.width-2*a.M.x;case Gp:case wp:return d=Math.min(0,c),c=Math.max(b,c+a.width),Math.max(a.width,c-d);case Hp:return a.width-a.M.x+a.Ad/2+b;case Ip:return Math.max(a.width,a.M.x+a.Ad/2+b);default:return b}}
function bq(a,b,c){u&&x.i(a,Z,W,"calculateSubheight:v");switch(a.Ga){case Ep:case $p:var d=b;c+a.height>d&&(d=c+a.height);0>c&&(d-=c);return d;case Pp:return a.height>b?a.height:b;case Qp:return 2*a.M.y>b?a.height:b+a.height-2*a.M.y;case Gp:case wp:return d=Math.min(0,c),c=Math.max(b,c+a.height),Math.max(a.height,c-d);case Hp:return a.height-a.M.y+a.Ad/2+b;case Ip:return Math.max(a.height,a.M.y+a.Ad/2+b);default:return b}}
function cq(a,b,c){u&&x.i(a,oa,W,"alignOffset:align");switch(a){case $p:b/=2;c/=2;break;case Ep:b/=2;c/=2;break;case Pp:c=b=0;break;case Qp:break;default:x.m("Unhandled alignment value "+a.toString())}return[b,c]}function Vp(a,b,c,d,e,g){u&&x.i(a,Z,W,"shiftRelPosAlign:v");u&&x.i(b,oa,W,"shiftRelPosAlign:align");b=cq(b,c,d);Yp(a,b[0],b[1],e,g)}function Yp(a,b,c,d,e){u&&x.i(a,Z,W,"shiftRelPos:v");if(!(0===b&&0===c))for(a=a.cc;d<=e;d++){var g=a[d].ba;g.x+=b;g.y+=c}}
function Wp(a,b,c,d){u&&(x.i(b,Z,W,"recordMidPoints:v"),x.k(c,"number",W,"recordMidPoints:x"),x.k(d,"number",W,"recordMidPoints:y"));var e=b.mb;switch(a.cf){case fp:for(a=b.Mb;a.next();)b=a.value,b.W===e&&b.Qq.Y(c,d);break;case mp:for(a=b.Lb;a.next();)b=a.value,b.T===e&&b.Qq.Y(c,d);break;default:x.m("Unhandled path value "+a.cf.toString())}}function Zp(a,b,c){for(var d=0;d<a.length;d++){var e=a[d];e.x+=b;e.y+=c}}
function Xp(a,b,c,d,e,g){u&&x.i(a,Z,W,"mergeFringes:parent");u&&x.i(b,Z,W,"mergeFringes:child");var h=Op(a),j=90===h||270===h,k=a.Ad,l=e,m=g,n=b.lq,e=b.Yq,g=b.Ua,a=j?Math.max(m,g.height):Math.max(l,g.width);if(n===p||h!==Op(b))n=[],e=[],j?(n[0]=new K(0,0),n[1]=new K(0,g.height),e[0]=new K(g.width,0),e[1]=new K(e[0].x,n[1].y)):(n[0]=new K(0,0),n[1]=new K(g.width,0),e[0]=new K(0,g.height),e[1]=new K(n[1].x,e[0].y));if(j){b=j=l;h=n;l=9999999;if(!(d===p||2>d.length||h===p||2>h.length))for(var r=m=0;m<
d.length&&r<h.length;){var s=d[m],v=h[r].copy();v.x+=j;var y=s;m+1<d.length&&(y=d[m+1]);var C=v;r+1<h.length&&(C=h[r+1].copy(),C.x+=j);var D=l;s.y===v.y?D=v.x-s.x:s.y>v.y&&s.y<C.y?D=v.x+(s.y-v.y)/(C.y-v.y)*(C.x-v.x)-s.x:v.y>s.y&&v.y<y.y&&(D=v.x-(s.x+(v.y-s.y)/(y.y-s.y)*(y.x-s.x)));D<l&&(l=D);y.y<=s.y?m++:C.y<=v.y?r++:(y.y<=C.y&&m++,C.y<=y.y&&r++)}b-=l;b+=k;k=n;n=b;if(c===p||2>c.length||k===p||2>k.length)c=p;else{h=[];for(l=j=r=0;j<k.length&&k[j].y<c[0].y;)m=k[j++].copy(),m.x+=n,h[l++]=m;for(;r<c.length;)m=
c[r++].copy(),h[l++]=m;for(c=c[c.length-1].y;j<k.length&&k[j].y<=c;)j++;for(;j<k.length&&k[j].y>c;)m=k[j++].copy(),m.x+=n,h[l++]=m;c=h}j=e;l=b;if(d===p||2>d.length||j===p||2>j.length)d=p;else{e=[];for(n=m=k=0;k<d.length&&d[k].y<j[0].y;)h=d[k++].copy(),e[n++]=h;for(;m<j.length;)h=j[m++].copy(),h.x+=l,e[n++]=h;for(j=j[j.length-1].y;k<d.length&&d[k].y<=j;)k++;for(;k<d.length&&d[k].y>j;)h=d[k++].copy(),e[n++]=h;d=e}e=Math.max(0,b)+g.width;g=a}else{b=j=m;h=n;l=9999999;if(!(d===p||2>d.length||h===p||2>
h.length))for(r=m=0;m<d.length&&r<h.length;)s=d[m],v=h[r].copy(),v.y+=j,y=s,m+1<d.length&&(y=d[m+1]),C=v,r+1<h.length&&(C=h[r+1].copy(),C.y+=j),D=l,s.x===v.x?D=v.y-s.y:s.x>v.x&&s.x<C.x?D=v.y+(s.x-v.x)/(C.x-v.x)*(C.y-v.y)-s.y:v.x>s.x&&v.x<y.x&&(D=v.y-(s.y+(v.x-s.x)/(y.x-s.x)*(y.y-s.y))),D<l&&(l=D),y.x<=s.x?m++:C.x<=v.x?r++:(y.x<=C.x&&m++,C.x<=y.x&&r++);b-=l;b+=k;k=n;n=b;if(c===p||2>c.length||k===p||2>k.length)c=p;else{h=[];for(l=j=r=0;j<k.length&&k[j].x<c[0].x;)m=k[j++].copy(),m.y+=n,h[l++]=m;for(;r<
c.length;)m=c[r++].copy(),h[l++]=m;for(c=c[c.length-1].x;j<k.length&&k[j].x<=c;)j++;for(;j<k.length&&k[j].x>c;)m=k[j++].copy(),m.y+=n,h[l++]=m;c=h}j=e;l=b;if(d===p||2>d.length||j===p||2>j.length)d=p;else{e=[];for(n=m=k=0;k<d.length&&d[k].x<j[0].x;)h=d[k++].copy(),e[n++]=h;for(;m<j.length;)h=j[m++].copy(),h.y+=l,e[n++]=h;for(j=j[j.length-1].x;k<d.length&&d[k].x<=j;)k++;for(;k<d.length&&d[k].x>j;)h=d[k++].copy(),e[n++]=h;d=e}e=a;g=Math.max(0,b)+g.height}return[b,c,d,e,g]}
function sp(a,b,c,d){if(b!==p){u&&x.i(b,Z,W,"assignAbsolutePositions:v");b.x=c;b.y=d;for(var b=b.cc,e=b.length,g=0;g<e;g++){var h=b[g];sp(a,h,c+h.ba.x,d+h.ba.y)}}}W.prototype.commitLayout=W.prototype.qv=function(){this.jA();this.commitNodes();this.ts&&this.commitLinks()};W.prototype.commitNodes=W.prototype.Wy=function(){for(var a=this.B.ma.l,b;a.next();)b=a.value,b.commit();for(a.reset();a.next();)b=a.value,this.layoutComments(b)};W.prototype.commitLinks=W.prototype.Vy=function(){for(var a=this.B.qc.l;a.next();)a.value.commit()};
W.prototype.jA=function(){for(var a=this.jd.l;a.next();){var b=this.B.Ne(a.value);lq(this,b)}};
function lq(a,b){if(b!==p){u&&x.i(b,Z,W,"setPortSpotsTree:v");u&&x.i(b,Z,W,"setPortSpots:v");var c=b.Ga;if(Fp(c)){u&&x.i(b,Z,W,"setPortSpotsBus:v");u&&x.i(c,oa,W,"setPortSpots:align");var d=a.cf===fp,e=Op(b),g;switch(e){case 0:g=Qb;break;case 90:g=Rb;break;case 180:g=Pb;break;default:g=Ob}var h=b.cc,j=h.length;switch(c){case Gp:case wp:for(c=0;c<j;c++){var k=h[c],k=d?k.Mb:k.Lb;if(k.next()){var l=k.value,l=l.Wa;if(l!==p){var m=90===e||270===e?Pb:Ob;if(1===j||c===j-1&&1===j%2)switch(e){case 0:m=Pb;
break;case 90:m=Ob;break;case 180:m=Qb;break;default:m=Rb}else 0===c%2&&(m=90===e||270===e?Qb:Rb);d?(b.Yj&&(l.qb=g),b.Xj&&(l.ub=m)):(b.Yj&&(l.qb=m),b.Xj&&(l.ub=g))}}}break;case Hp:m=90===e||270===e?Qb:Rb;for(k=d?b.Lb:b.Mb;k.next();)l=k.value,l=l.Wa,l!==p&&(d?(b.Yj&&(l.qb=g),b.Xj&&(l.ub=m)):(b.Yj&&(l.qb=m),b.Xj&&(l.ub=g)));break;case Ip:m=90===e||270===e?Pb:Ob;for(k=d?b.Lb:b.Mb;k.next();)l=k.value,l=l.Wa,l!==p&&(d?(b.Yj&&(l.qb=g),b.Xj&&(l.ub=m)):(b.Yj&&(l.qb=m),b.Xj&&(l.ub=g)))}}else if(d=Op(b),a.cf===
fp)for(e=b.Lb;e.next();){if(g=e.value,g=g.Wa,g!==p){if(b.Sg)if(Ab(b.nf))switch(d){case 0:g.qb=Qb;break;case 90:g.qb=Rb;break;case 180:g.qb=Pb;break;default:g.qb=Ob}else g.qb=b.nf;if(b.Rg)if(Ab(b.$e))switch(d){case 0:g.ub=Pb;break;case 90:g.ub=Ob;break;case 180:g.ub=Qb;break;default:g.ub=Rb}else g.ub=b.$e}}else for(e=b.Mb;e.next();)if(g=e.value,g=g.Wa,g!==p){if(b.Sg)if(Ab(b.nf))switch(d){case 0:g.ub=Qb;break;case 90:g.ub=Rb;break;case 180:g.ub=Pb;break;default:g.ub=Ob}else g.ub=b.nf;if(b.Rg)if(Ab(b.$e))switch(d){case 0:g.qb=
Pb;break;case 90:g.qb=Ob;break;case 180:g.qb=Qb;break;default:g.qb=Rb}else g.qb=b.$e}d=b.cc;e=d.length;for(g=0;g<e;g++)lq(a,d[g])}}function Op(a){a=a.sc;return 45>=a?0:135>=a?90:225>=a?180:315>=a?270:0}function Rp(a){u&&x.i(a,Z,W,"computeLayerSpacing:v");var b=Op(a),b=90===b||270===b,c=a.Md;if(0<a.Jg)var d=Math.min(1,a.Jg),c=c-(b?a.height*d:a.width*d);if(c<(b?-a.height:-a.width))c=b?-a.height:-a.width;return c}
function Sp(a){u&&x.i(a,Z,W,"computeNodeIndent:v");var b=Op(a),b=90===b||270===b,c=a.vh;if(0<a.Og)var d=Math.min(1,a.Og),c=c+(b?a.width*d:a.height*d);return c=Math.max(0,c)}x.g(W,"roots",W.prototype.iI);x.defineProperty(W,{iI:"roots"},t("jd"),function(a){this.jd!==a&&(this.jd=a,this.G())});x.g(W,"path",W.prototype.path);x.defineProperty(W,{path:"path"},t("wh"),function(a){this.wh!==a&&(x.i(a,oa,W,"path"),this.wh=a,this.G())});x.g(W,"treeStyle",W.prototype.cF);
x.defineProperty(W,{cF:"treeStyle"},t("tr"),function(a){if(this.Wc!==a&&(u&&x.i(a,oa,W,"treeStyle"),a===gp||a===yp||a===zp||a===xp))this.tr=a,this.G()});x.g(W,"arrangement",W.prototype.ne);x.defineProperty(W,{ne:"arrangement"},t("Wc"),function(a){if(this.Wc!==a&&(u&&x.i(a,oa,W,"arrangement"),a===hp||a===tp||a===lp))this.Wc=a,this.G()});x.g(W,"arrangementSpacing",W.prototype.iv);x.defineProperty(W,{iv:"arrangementSpacing"},t("Jf"),function(a){this.Jf.K(a)||(this.Jf.bb(a),this.G())});
x.g(W,"rootDefaults",W.prototype.hI);x.defineProperty(W,{hI:"rootDefaults"},t("la"),function(a){this.la!==a&&(u&&x.i(a,Z,W,"rootDefaults"),this.la=a,this.G())});x.g(W,"alternateDefaults",W.prototype.cG);x.defineProperty(W,{cG:"alternateDefaults"},t("ka"),function(a){this.ka!==a&&(u&&x.i(a,Z,W,"alternateDefaults"),this.ka=a,this.G())});x.g(W,"sorting",W.prototype.rg);
x.defineProperty(W,{rg:"sorting"},function(){return this.la.yc},function(a){if(this.la.yc!==a&&(u&&x.i(a,oa,W,"sorting"),a===Ap||a===Bp||a===Cp||Dp))this.la.yc=a,this.G()});x.g(W,"comparer",W.prototype.Ih);x.defineProperty(W,{Ih:"comparer"},function(){return this.la.vc},function(a){this.la.vc!==a&&(u&&x.k(a,"function",W,"comparer"),this.la.vc=a,this.G())});x.g(W,"angle",W.prototype.angle);
x.defineProperty(W,{angle:"angle"},function(){return this.la.sc},function(a){if(this.la.sc!==a&&(0===a||90===a||180===a||270===a))this.la.sc=a,this.G()});x.g(W,"alignment",W.prototype.Ib);x.defineProperty(W,{Ib:"alignment"},function(){return this.la.Ga},function(a){this.la.Ga!==a&&(u&&x.pb(a,W,W,"alignment"),this.la.Ga=a,this.G())});x.g(W,"nodeIndent",W.prototype.Nz);x.defineProperty(W,{Nz:"nodeIndent"},function(){return this.la.vh},function(a){this.la.vh!==a&&0<=a&&(this.la.vh=a,this.G())});
x.g(W,"nodeIndentPastParent",W.prototype.Oz);x.defineProperty(W,{Oz:"nodeIndentPastParent"},function(){return this.la.Og},function(a){this.la.Og!==a&&(0<=a&&1>=a)&&(this.la.Og=a,this.G())});x.g(W,"nodeSpacing",W.prototype.Sv);x.defineProperty(W,{Sv:"nodeSpacing"},function(){return this.la.Ad},function(a){this.la.Ad!==a&&(this.la.Ad=a,this.G())});x.g(W,"layerSpacing",W.prototype.ws);x.defineProperty(W,{ws:"layerSpacing"},function(){return this.la.Md},function(a){this.la.Md!==a&&(this.la.Md=a,this.G())});
x.g(W,"layerSpacingParentOverlap",W.prototype.Az);x.defineProperty(W,{Az:"layerSpacingParentOverlap"},function(){return this.la.Jg},function(a){this.la.Jg!==a&&(0<=a&&1>=a)&&(this.la.Jg=a,this.G())});x.g(W,"compaction",W.prototype.rv);x.defineProperty(W,{rv:"compaction"},function(){return this.la.zg},function(a){if(this.la.zg!==a&&(u&&x.i(a,oa,W,"compaction"),a===Lp||a===Np))this.la.zg=a,this.G()});x.g(W,"breadthLimit",W.prototype.Ny);
x.defineProperty(W,{Ny:"breadthLimit"},function(){return this.la.wg},function(a){this.la.wg!==a&&0<=a&&(this.la.wg=a,this.G())});x.g(W,"rowSpacing",W.prototype.aw);x.defineProperty(W,{aw:"rowSpacing"},function(){return this.la.He},function(a){this.la.He!==a&&(this.la.He=a,this.G())});x.g(W,"rowIndent",W.prototype.bA);x.defineProperty(W,{bA:"rowIndent"},function(){return this.la.kd},function(a){this.la.kd!==a&&0<=a&&(this.la.kd=a,this.G())});x.g(W,"commentSpacing",W.prototype.Ty);
x.defineProperty(W,{Ty:"commentSpacing"},function(){return this.la.Jd},function(a){this.la.Jd!==a&&(this.la.Jd=a,this.G())});x.g(W,"commentMargin",W.prototype.Sy);x.defineProperty(W,{Sy:"commentMargin"},function(){return this.la.uc},function(a){this.la.uc!==a&&(this.la.uc=a,this.G())});x.g(W,"setsPortSpot",W.prototype.Yj);x.defineProperty(W,{Yj:"setsPortSpot"},function(){return this.la.Sg},function(a){this.la.Sg!==a&&(this.la.Sg=a,this.G())});x.g(W,"portSpot",W.prototype.Sz);
x.defineProperty(W,{Sz:"portSpot"},function(){return this.la.nf},function(a){this.la.nf.K(a)||(this.la.nf=a,this.G())});x.g(W,"setsChildPortSpot",W.prototype.Xj);x.defineProperty(W,{Xj:"setsChildPortSpot"},function(){return this.la.Rg},function(a){this.la.Rg!==a&&(this.la.Rg=a,this.G())});x.g(W,"childPortSpot",W.prototype.Qy);x.defineProperty(W,{Qy:"childPortSpot"},function(){return this.la.$e},function(a){this.la.$e.K(a)||(this.la.$e=a,this.G())});x.g(W,"alternateSorting",W.prototype.nG);
x.defineProperty(W,{nG:"alternateSorting"},function(){return this.ka.yc},function(a){if(this.ka.yc!==a&&(u&&x.i(a,oa,W,"alternateSorting"),a===Ap||a===Bp||a===Cp||Dp))this.ka.yc=a,this.G()});x.g(W,"alternateComparer",W.prototype.aG);x.defineProperty(W,{aG:"alternateComparer"},function(){return this.ka.vc},function(a){this.ka.vc!==a&&(u&&x.k(a,"function",W,"alternateComparer"),this.ka.vc=a,this.G())});x.g(W,"alternateAngle",W.prototype.VF);
x.defineProperty(W,{VF:"alternateAngle"},function(){return this.ka.sc},function(a){if(this.ka.sc!==a&&(0===a||90===a||180===a||270===a))this.ka.sc=a,this.G()});x.g(W,"alternateAlignment",W.prototype.UF);x.defineProperty(W,{UF:"alternateAlignment"},function(){return this.ka.Ga},function(a){this.ka.Ga!==a&&(u&&x.pb(a,W,W,"alternateAlignment"),this.ka.Ga=a,this.G())});x.g(W,"alternateNodeIndent",W.prototype.fG);
x.defineProperty(W,{fG:"alternateNodeIndent"},function(){return this.ka.vh},function(a){this.ka.vh!==a&&0<=a&&(this.ka.vh=a,this.G())});x.g(W,"alternateNodeIndentPastParent",W.prototype.gG);x.defineProperty(W,{gG:"alternateNodeIndentPastParent"},function(){return this.ka.Og},function(a){this.ka.Og!==a&&(0<=a&&1>=a)&&(this.ka.Og=a,this.G())});x.g(W,"alternateNodeSpacing",W.prototype.hG);
x.defineProperty(W,{hG:"alternateNodeSpacing"},function(){return this.ka.Ad},function(a){this.ka.Ad!==a&&(this.ka.Ad=a,this.G())});x.g(W,"alternateLayerSpacing",W.prototype.dG);x.defineProperty(W,{dG:"alternateLayerSpacing"},function(){return this.ka.Md},function(a){this.ka.Md!==a&&(this.ka.Md=a,this.G())});x.g(W,"alternateLayerSpacingParentOverlap",W.prototype.eG);
x.defineProperty(W,{eG:"alternateLayerSpacingParentOverlap"},function(){return this.ka.Jg},function(a){this.ka.Jg!==a&&(0<=a&&1>=a)&&(this.ka.Jg=a,this.G())});x.g(W,"alternateCompaction",W.prototype.$F);x.defineProperty(W,{$F:"alternateCompaction"},function(){return this.ka.zg},function(a){if(this.ka.zg!==a&&(u&&x.i(a,oa,W,"alternateCompaction"),a===Lp||a===Np))this.ka.zg=a,this.G()});x.g(W,"alternateBreadthLimit",W.prototype.WF);
x.defineProperty(W,{WF:"alternateBreadthLimit"},function(){return this.ka.wg},function(a){this.ka.wg!==a&&0<=a&&(this.ka.wg=a,this.G())});x.g(W,"alternateRowSpacing",W.prototype.kG);x.defineProperty(W,{kG:"alternateRowSpacing"},function(){return this.ka.He},function(a){this.ka.He!==a&&(this.ka.He=a,this.G())});x.g(W,"alternateRowIndent",W.prototype.jG);x.defineProperty(W,{jG:"alternateRowIndent"},function(){return this.ka.kd},function(a){this.ka.kd!==a&&0<=a&&(this.ka.kd=a,this.G())});
x.g(W,"alternateCommentSpacing",W.prototype.ZF);x.defineProperty(W,{ZF:"alternateCommentSpacing"},function(){return this.ka.Jd},function(a){this.ka.Jd!==a&&(this.ka.Jd=a,this.G())});x.g(W,"alternateCommentMargin",W.prototype.YF);x.defineProperty(W,{YF:"alternateCommentMargin"},function(){return this.ka.uc},function(a){this.ka.uc!==a&&(this.ka.uc=a,this.G())});x.g(W,"alternateSetsPortSpot",W.prototype.mG);
x.defineProperty(W,{mG:"alternateSetsPortSpot"},function(){return this.ka.Sg},function(a){this.ka.Sg!==a&&(this.ka.Sg=a,this.G())});x.g(W,"alternatePortSpot",W.prototype.iG);x.defineProperty(W,{iG:"alternatePortSpot"},function(){return this.ka.nf},function(a){this.ka.nf.K(a)||(this.ka.nf=a,this.G())});x.g(W,"alternateSetsChildPortSpot",W.prototype.lG);x.defineProperty(W,{lG:"alternateSetsChildPortSpot"},function(){return this.ka.Rg},function(a){this.ka.Rg!==a&&(this.ka.Rg=a,this.G())});
x.g(W,"alternateChildPortSpot",W.prototype.XF);x.defineProperty(W,{XF:"alternateChildPortSpot"},function(){return this.ka.$e},function(a){this.ka.$e.K(a)||(this.ka.$e=a,this.G())});var ep;W.PathDefault=ep=x.s(W,"PathDefault",-1);var fp;W.PathDestination=fp=x.s(W,"PathDestination",0);var mp;W.PathSource=mp=x.s(W,"PathSource",1);var Ap;W.SortingForwards=Ap=x.s(W,"SortingForwards",10);var Bp;W.SortingReverse=Bp=x.s(W,"SortingReverse",11);var Cp;W.SortingAscending=Cp=x.s(W,"SortingAscending",12);var Dp;
W.SortingDescending=Dp=x.s(W,"SortingDescending",13);var $p;W.AlignmentCenterSubtrees=$p=x.s(W,"AlignmentCenterSubtrees",20);var Ep;W.AlignmentCenterChildren=Ep=x.s(W,"AlignmentCenterChildren",21);var Pp;W.AlignmentStart=Pp=x.s(W,"AlignmentStart",22);var Qp;W.AlignmentEnd=Qp=x.s(W,"AlignmentEnd",23);var Gp;W.AlignmentBus=Gp=x.s(W,"AlignmentBus",24);var wp;W.AlignmentBusBranching=wp=x.s(W,"AlignmentBusBranching",25);var Hp;W.AlignmentTopLeftBus=Hp=x.s(W,"AlignmentTopLeftBus",26);var Ip;
W.AlignmentBottomRightBus=Ip=x.s(W,"AlignmentBottomRightBus",27);var Lp;W.CompactionNone=Lp=x.s(W,"CompactionNone",30);var Np;W.CompactionBlock=Np=x.s(W,"CompactionBlock",31);var gp;W.StyleLayered=gp=x.s(W,"StyleLayered",40);var zp;W.StyleLastParents=zp=x.s(W,"StyleLastParents",41);var yp;W.StyleAlternating=yp=x.s(W,"StyleAlternating",42);var xp;W.StyleRootOnly=xp=x.s(W,"StyleRootOnly",43);var hp;W.ArrangementVertical=hp=x.s(W,"ArrangementVertical",50);var tp;
W.ArrangementHorizontal=tp=x.s(W,"ArrangementHorizontal",51);var lp;W.ArrangementFixedRoots=lp=x.s(W,"ArrangementFixedRoots",52);function jp(){Zm.call(this)}x.S("TreeNetwork",jp);x.Ja(jp,Zm);jp.prototype.createVertex=jp.prototype.Nj=function(){return new Z};jp.prototype.createEdge=jp.prototype.$n=function(){return new mq};
function Z(){cn.call(this);this.Ak=q;this.mb=p;this.cc=[];this.li=this.bu=this.At=this.Fl=this.II=0;this.ba=new K(0,0);this.Ua=new cb(0,0);this.Ha=new K(0,0);this.Yq=this.lq=this.Kd=p;this.Lk=this.Kk=this.Yx=q;this.yc=Ap;this.vc=hn;this.sc=0;this.Ga=Ep;this.Og=this.vh=0;this.Ad=20;this.Md=50;this.Jg=0;this.zg=Np;this.wg=0;this.He=25;this.Jd=this.kd=10;this.uc=20;this.Sg=i;this.nf=Cb;this.Rg=i;this.$e=Cb}x.S("TreeVertex",Z);x.Ja(Z,cn);
function ip(a,b){b!==p&&(a.yc=b.yc,a.vc=b.vc,a.sc=b.sc,a.Ga=b.Ga,a.vh=b.vh,a.Og=b.Og,a.Ad=b.Ad,a.Md=b.Md,a.Jg=b.Jg,a.zg=b.zg,a.wg=b.wg,a.He=b.He,a.kd=b.kd,a.Jd=b.Jd,a.uc=b.uc,a.Sg=b.Sg,a.nf=b.nf,a.Rg=b.Rg,a.$e=b.$e)}x.g(Z,"initialized",Z.prototype.jH);x.defineProperty(Z,{jH:"initialized"},t("Ak"),ba("Ak"));x.g(Z,"parent",Z.prototype.parent);x.defineProperty(Z,{parent:"parent"},t("mb"),ba("mb"));x.g(Z,"children",Z.prototype.children);x.defineProperty(Z,{children:"children"},t("cc"),ba("cc"));
x.u(Z,{Yl:"childrenCount"},function(){return this.cc.length});x.g(Z,"level",Z.prototype.yH);x.defineProperty(Z,{yH:"level"},t("Fl"),ba("Fl"));x.g(Z,"descendantCount",Z.prototype.CG);x.defineProperty(Z,{CG:"descendantCount"},t("At"),ba("At"));x.g(Z,"maxChildrenCount",Z.prototype.FH);x.defineProperty(Z,{FH:"maxChildrenCount"},t("bu"),ba("bu"));x.g(Z,"maxGenerationCount",Z.prototype.GH);x.defineProperty(Z,{GH:"maxGenerationCount"},t("li"),ba("li"));x.g(Z,"relativePosition",Z.prototype.aI);
x.defineProperty(Z,{aI:"relativePosition"},t("ba"),function(a){x.i(a,K,Z,"relativePosition");this.ba.set(a)});x.g(Z,"subtreeSize",Z.prototype.zI);x.defineProperty(Z,{zI:"subtreeSize"},t("Ua"),function(a){x.i(a,cb,Z,"subtreeSize");this.Ua.set(a)});x.g(Z,"subtreeOffset",Z.prototype.yI);x.defineProperty(Z,{yI:"subtreeOffset"},t("Ha"),function(a){x.i(a,K,Z,"subtreeOffset");this.Ha.set(a)});x.g(Z,"comments",Z.prototype.Uy);x.defineProperty(Z,{Uy:"comments"},t("Kd"),ba("Kd"));x.g(Z,"sorting",Z.prototype.rg);
x.defineProperty(Z,{rg:"sorting"},t("yc"),ba("yc"));x.g(Z,"comparer",Z.prototype.Ih);x.defineProperty(Z,{Ih:"comparer"},t("vc"),ba("vc"));x.g(Z,"angle",Z.prototype.angle);x.defineProperty(Z,{angle:"angle"},t("sc"),ba("sc"));x.g(Z,"alignment",Z.prototype.Ib);x.defineProperty(Z,{Ib:"alignment"},t("Ga"),ba("Ga"));x.g(Z,"nodeIndent",Z.prototype.Nz);x.defineProperty(Z,{Nz:"nodeIndent"},t("vh"),ba("vh"));x.g(Z,"nodeIndentPastParent",Z.prototype.Oz);
x.defineProperty(Z,{Oz:"nodeIndentPastParent"},t("Og"),ba("Og"));x.g(Z,"nodeSpacing",Z.prototype.Sv);x.defineProperty(Z,{Sv:"nodeSpacing"},t("Ad"),ba("Ad"));x.g(Z,"layerSpacing",Z.prototype.ws);x.defineProperty(Z,{ws:"layerSpacing"},t("Md"),ba("Md"));x.g(Z,"layerSpacingParentOverlap",Z.prototype.Az);x.defineProperty(Z,{Az:"layerSpacingParentOverlap"},t("Jg"),ba("Jg"));x.g(Z,"compaction",Z.prototype.rv);x.defineProperty(Z,{rv:"compaction"},t("zg"),ba("zg"));x.g(Z,"breadthLimit",Z.prototype.Ny);
x.defineProperty(Z,{Ny:"breadthLimit"},t("wg"),ba("wg"));x.g(Z,"rowSpacing",Z.prototype.aw);x.defineProperty(Z,{aw:"rowSpacing"},t("He"),ba("He"));x.g(Z,"rowIndent",Z.prototype.bA);x.defineProperty(Z,{bA:"rowIndent"},t("kd"),ba("kd"));x.g(Z,"commentSpacing",Z.prototype.Ty);x.defineProperty(Z,{Ty:"commentSpacing"},t("Jd"),ba("Jd"));x.g(Z,"commentMargin",Z.prototype.Sy);x.defineProperty(Z,{Sy:"commentMargin"},t("uc"),ba("uc"));x.g(Z,"setsPortSpot",Z.prototype.Yj);
x.defineProperty(Z,{Yj:"setsPortSpot"},t("Sg"),ba("Sg"));x.g(Z,"portSpot",Z.prototype.Sz);x.defineProperty(Z,{Sz:"portSpot"},t("nf"),ba("nf"));x.g(Z,"setsChildPortSpot",Z.prototype.Xj);x.defineProperty(Z,{Xj:"setsChildPortSpot"},t("Rg"),ba("Rg"));x.g(Z,"childPortSpot",Z.prototype.Qy);x.defineProperty(Z,{Qy:"childPortSpot"},t("$e"),ba("$e"));x.g(Z,"routeFirstRow",Z.prototype.mI);x.defineProperty(Z,{mI:"routeFirstRow"},t("Yx"),ba("Yx"));x.g(Z,"routeAroundCentered",Z.prototype.kI);
x.defineProperty(Z,{kI:"routeAroundCentered"},t("Kk"),ba("Kk"));x.g(Z,"routeAroundLastParent",Z.prototype.lI);x.defineProperty(Z,{lI:"routeAroundLastParent"},t("Lk"),ba("Lk"));function mq(){dn.call(this);this.Qq=new K(0,0)}x.S("TreeEdge",mq);x.Ja(mq,dn);
mq.prototype.commit=mq.prototype.pv=function(){var a=this.Wa;if(a!==p&&a.Qh!==Ef){var b=this.B.Ub,c=p,d=p;switch(b.cf){case fp:c=this.W;d=this.T;break;case mp:c=this.T;d=this.W;break;default:x.m("Unhandled path value "+b.cf.toString())}if(!(c===p||d===p))if(b=this.Qq,0===b.x&&0===b.y&&!c.Yx){var e=c,g=d;u&&x.i(e,Z,mq,"adjustRouteForAngleChange:parent");u&&x.i(g,Z,mq,"adjustRouteForAngleChange:child");a=this.Wa;c=Op(e);if(c!==Op(g)&&(b=Rp(e),d=e.Kb,e=g.Kb,!(0===c&&e.left-d.right<b+1||90===c&&e.top-
d.bottom<b+1||180===c&&d.left-e.right<b+1||270===c&&d.top-e.bottom<b+1))){pm(a);var e=a.yf===lk,g=Rg(a),h=Fp(this.W.Ga);a.jl();0===c?(c=d.right+b/2,e?4===a.oa&&(b=a.p(3).y,a.L(1,new K(c-20,a.p(1).y)),a.A(2,new K(c-20,b)),a.A(3,new K(c,b)),a.A(4,new K(c+20,b)),a.L(5,new K(a.p(5).x,b))):g?h?a.L(3,new K(a.p(2).x,a.p(4).y)):6===a.oa&&(a.L(2,new K(c,a.p(2).y)),a.L(3,new K(c,a.p(3).y))):4===a.oa?a.A(2,new K(c,a.p(2).y)):3===a.oa?a.L(1,new K(c,a.p(2).y)):2===a.oa&&a.A(1,new K(c,a.p(1).y))):90===c?(b=d.bottom+
b/2,e?4===a.oa&&(c=a.p(3).x,a.L(1,new K(a.p(1).x,b-20)),a.A(2,new K(c,b-20)),a.A(3,new K(c,b)),a.A(4,new K(c,b+20)),a.L(5,new K(c,a.p(5).y))):g?h?a.L(3,new K(a.p(2).x,a.p(4).y)):6===a.oa&&(a.L(2,new K(a.p(2).x,b)),a.L(3,new K(a.p(3).x,b))):4===a.oa?a.A(2,new K(a.p(2).x,b)):3===a.oa?a.L(1,new K(a.p(2).x,b)):2===a.oa&&a.A(1,new K(a.p(1).x,b))):180===c?(c=d.left-b/2,e?4===a.oa&&(b=a.p(3).y,a.L(1,new K(c+20,a.p(1).y)),a.A(2,new K(c+20,b)),a.A(3,new K(c,b)),a.A(4,new K(c-20,b)),a.L(5,new K(a.p(5).x,b))):
g?h?a.L(3,new K(a.p(2).x,a.p(4).y)):6===a.oa&&(a.L(2,new K(c,a.p(2).y)),a.L(3,new K(c,a.p(3).y))):4===a.oa?a.A(2,new K(c,a.p(2).y)):3===a.oa?a.L(1,new K(c,a.p(2).y)):2===a.oa&&a.A(1,new K(c,a.p(1).y))):270===c&&(b=d.top-b/2,e?4===a.oa&&(c=a.p(3).x,a.L(1,new K(a.p(1).x,b+20)),a.A(2,new K(c,b+20)),a.A(3,new K(c,b)),a.A(4,new K(c,b-20)),a.L(5,new K(c,a.p(5).y))):g?h?a.L(3,new K(a.p(2).x,a.p(4).y)):6===a.oa&&(a.L(2,new K(a.p(2).x,b)),a.L(3,new K(a.p(3).x,b))):4===a.oa?a.A(2,new K(a.p(2).x,b)):3===a.oa?
a.L(1,new K(a.p(2).x,b)):2===a.oa&&a.A(1,new K(a.p(1).x,b)));a.Fi()}}else{var d=c.Kb,j=Op(c),e=Rp(c),g=c.He;pm(a);var h=a.yf===lk,k=Rg(a),l,m,n,r;a.jl();if(k||h){for(l=2;4<a.oa;)a.vE(2);m=a.p(1);n=a.p(2)}else{for(l=1;3<a.oa;)a.vE(1);m=a.p(0);n=a.p(a.oa-1)}r=a.p(a.oa-1);0===j?(c.Ga===Qp?(j=d.bottom+b.y,0===b.y&&m.y>r.y+c.kd&&(j=Math.min(j,Math.max(m.y,j-Sp(c))))):c.Ga===Pp?(j=d.top+b.y,0===b.y&&m.y<r.y-c.kd&&(j=Math.max(j,Math.min(m.y,j+Sp(c))))):j=c.Kk||c.Lk&&1===c.li?d.top-c.Ha.y+b.y:d.y+d.height/
2+b.y,h?(a.A(l,new K(m.x,j)),l++,a.A(l,new K(d.right+e,j)),l++,a.A(l,new K(d.right+e+(b.x-g)/3,j)),l++,a.A(l,new K(d.right+e+2*(b.x-g)/3,j)),l++,a.A(l,new K(d.right+e+(b.x-g),j)),l++,a.A(l,new K(n.x,j))):(k&&(a.A(l,new K(d.right+e/2,m.y)),l++),a.A(l,new K(d.right+e/2,j)),l++,a.A(l,new K(d.right+e+b.x-(k?g/2:g),j)),l++,k&&a.A(l,new K(a.p(l-1).x,n.y)))):90===j?(c.Ga===Qp?(j=d.right+b.x,0===b.x&&m.x>r.x+c.kd&&(j=Math.min(j,Math.max(m.x,j-Sp(c))))):c.Ga===Pp?(j=d.left+b.x,0===b.x&&m.x<r.x-c.kd&&(j=Math.max(j,
Math.min(m.x,j+Sp(c))))):j=c.Kk||c.Lk&&1===c.li?d.left-c.Ha.x+b.x:d.x+d.width/2+b.x,h?(a.A(l,new K(j,m.y)),l++,a.A(l,new K(j,d.bottom+e)),l++,a.A(l,new K(j,d.bottom+e+(b.y-g)/3)),l++,a.A(l,new K(j,d.bottom+e+2*(b.y-g)/3)),l++,a.A(l,new K(j,d.bottom+e+(b.y-g))),l++,a.A(l,new K(j,n.y))):(k&&(a.A(l,new K(m.x,d.bottom+e/2)),l++),a.A(l,new K(j,d.bottom+e/2)),l++,a.A(l,new K(j,d.bottom+e+b.y-(k?g/2:g))),l++,k&&a.A(l,new K(n.x,a.p(l-1).y)))):180===j?(c.Ga===Qp?(j=d.bottom+b.y,0===b.y&&m.y>r.y+c.kd&&(j=Math.min(j,
Math.max(m.y,j-Sp(c))))):c.Ga===Pp?(j=d.top+b.y,0===b.y&&m.y<r.y-c.kd&&(j=Math.max(j,Math.min(m.y,j+Sp(c))))):j=c.Kk||c.Lk&&1===c.li?d.top-c.Ha.y+b.y:d.y+d.height/2+b.y,h?(a.A(l,new K(m.x,j)),l++,a.A(l,new K(d.left-e,j)),l++,a.A(l,new K(d.left-e+(b.x+g)/3,j)),l++,a.A(l,new K(d.left-e+2*(b.x+g)/3,j)),l++,a.A(l,new K(d.left-e+(b.x+g),j)),l++,a.A(l,new K(n.x,j))):(k&&(a.A(l,new K(d.left-e/2,m.y)),l++),a.A(l,new K(d.left-e/2,j)),l++,a.A(l,new K(d.left-e+b.x+(k?g/2:g),j)),l++,k&&a.A(l,new K(a.p(l-1).x,
n.y)))):270===j?(c.Ga===Qp?(j=d.right+b.x,0===b.x&&m.x>r.x+c.kd&&(j=Math.min(j,Math.max(m.x,j-Sp(c))))):c.Ga===Pp?(j=d.left+b.x,0===b.x&&m.x<r.x-c.kd&&(j=Math.max(j,Math.min(m.x,j+Sp(c))))):j=c.Kk||c.Lk&&1===c.li?d.left-c.Ha.x+b.x:d.x+d.width/2+b.x,h?(a.A(l,new K(j,m.y)),l++,a.A(l,new K(j,d.top-e)),l++,a.A(l,new K(j,d.top-e+(b.y+g)/3)),l++,a.A(l,new K(j,d.top-e+2*(b.y+g)/3)),l++,a.A(l,new K(j,d.top-e+(b.y+g))),l++,a.A(l,new K(j,n.y))):(k&&(a.A(l,new K(m.x,d.top-e/2)),l++),a.A(l,new K(j,d.top-e/2)),
l++,a.A(l,new K(j,d.top-e+b.y+(k?g/2:g))),l++,k&&a.A(l,new K(n.x,a.p(l-1).y)))):x.m("Invalid angle "+j);a.Fi()}}};x.g(mq,"relativePoint",mq.prototype.$H);x.defineProperty(mq,{$H:"relativePoint"},t("Qq"),function(a){this.Qq.set(a)});function nq(){this.Vm=[]}
function fk(a){var b=new nq,c;if("string"===typeof a)c=(new DOMParser).parseFromString(a,"text/xml");else if(a instanceof Document)c=a.implementation.createDocument("http://www.w3.org/2000/svg","svg",p),c.appendChild(c.importNode(a.documentElement,i));else return p;a=c.getElementsByTagName("svg");if(0===a.length)return p;for(var d=a[0],e=c.getElementsByTagName("linearGradient"),g=c.getElementsByTagName("radialGradient"),a=0;a<e.length;a++){for(var h=e[a],j=gk(be,fe,{start:Sb,end:Tb}),k=h.childNodes,
l=0;l<k.length;l++)if("stop"===k[l].tagName){var m=k[l].getAttribute("stop-color"),n=k[l].getAttribute("offset");-1!==n.indexOf("%")?j.addColorStop(0.01*parseFloat(n),m):j.addColorStop(parseFloat(n),m)}h=h.getAttribute("id");"string"===typeof h&&(b["_brush"+h]=j)}for(a=0;a<g.length;a++){h=g[a];j=gk(be,ve,{start:Kb,end:Kb});k=h.childNodes;for(l=0;l<k.length;l++)"stop"===k[l].tagName&&(m=k[l].getAttribute("stop-color"),n=k[l].getAttribute("offset"),-1!==n.indexOf("%")?j.addColorStop(0.01*parseFloat(n),
m):j.addColorStop(parseFloat(n),m));h=h.getAttribute("id");"string"===typeof h&&(b["_brush"+h]=j)}for(e=i;e;){e=q;g=c.getElementsByTagName("use");for(a=0;a<g.length;a++)j=g[a],0===j.childNodes.length&&(h=j.href,h!==f&&(h=c.getElementById(h.baseVal.substring(1)),h!==p&&(h=h.cloneNode(i),h.removeAttribute("id"),k=parseFloat(j.getAttribute("x")),l=parseFloat(j.getAttribute("y")),isNaN(k)&&(k=0),isNaN(l)&&(l=0),m=j.getAttribute("transform"),m===p&&(m=""),j.setAttribute("transform",m+" translate("+k+","+
l+")"),j.appendChild(h),"use"===h.tagName&&(e=i))))}oq(b,d,p);if(0===b.Vm.length)return p;if(1===b.Vm.length)return b.Vm[0];c=new G;for(a=0;a<b.Vm.length;a++)c.add(b.Vm[a]);return c}
function oq(a,b,c){var d=b.tagName;if(!("g"!==d&&"svg"!==d&&"use"!==d&&"symbol"!==d))for(var d=b.childNodes,e=0;e<d.length;e++){var g=d[e],h=p;if(g.getAttribute!==f){var j=g.getAttribute("transform");switch(g.tagName){case "g":j===p?oq(a,g,p):(h=new G,oq(a,g,h));break;case "use":j===p?oq(a,g,p):(h=new G,oq(a,g,h));break;case "symbol":if("use"!==b.tagName)break;h=new G;oq(a,g,h);var k=h,l=g;l.getAttribute("preserveAspectRatio");l.getAttribute("viewBox");k.scale=1;break;case "path":k=g;h=new V;k=k.getAttribute("d");
"string"===typeof k&&(h.nD=dd(k));break;case "line":var m=g,h=new V,k=parseFloat(m.getAttribute("x1")),l=parseFloat(m.getAttribute("y1")),n=parseFloat(m.getAttribute("x2")),m=parseFloat(m.getAttribute("y2"));isNaN(k)&&(k=0);isNaN(l)&&(l=0);isNaN(n)&&(n=0);isNaN(m)&&(m=0);var r=new Tc(Yc);h.position=new K(Math.min(k,n),Math.min(l,m));0<(n-k)/(m-l)?(r.sa=0,r.ta=0,r.I=Math.abs(n-k),r.J=Math.abs(m-l)):(r.sa=0,r.ta=Math.abs(m-l),r.I=Math.abs(n-k),r.J=0);h.$c=r;break;case "circle":n=g;h=new V;k=parseFloat(n.getAttribute("r"));
l=parseFloat(n.getAttribute("cx"));n=parseFloat(n.getAttribute("cy"));isNaN(k)?h=p:(isNaN(l)&&(l=0),isNaN(n)&&(n=0),m=new Tc($c),m.sa=0,m.ta=0,m.I=2*k,m.J=2*k,h.position=new K(l-k,n-k),h.$c=m);break;case "ellipse":m=g;h=new V;k=parseFloat(m.getAttribute("rx"));l=parseFloat(m.getAttribute("ry"));n=parseFloat(m.getAttribute("cx"));m=parseFloat(m.getAttribute("cy"));isNaN(n)&&(n=0);isNaN(m)&&(m=0);isNaN(k)||isNaN(l)?h=p:(r=new Tc($c),r.sa=0,r.ta=0,r.I=2*k,r.J=2*l,h.position=new K(n-k,m-l),h.$c=r);break;
case "rect":m=g;h=new V;k=parseFloat(m.getAttribute("height"));l=parseFloat(m.getAttribute("width"));n=parseFloat(m.getAttribute("x"));m=parseFloat(m.getAttribute("y"));isNaN(k)||isNaN(l)?h=p:(isNaN(n)&&(n=0),isNaN(m)&&(m=0),r=new Tc(Zc),r.sa=0,r.ta=0,r.I=l,r.J=k,h.position=new K(n,m),h.$c=r);break;case "polygon":h=pq(g);break;case "polyline":h=pq(g)}if(h!==p){h instanceof V&&(k=parseFloat(qq(a,g,"stroke-width")),isNaN(k)||(h.ib=k),k=qq(a,g,"stroke-linecap"),k!==p&&(h.QE=k),k=qq(a,g,"fill"),k!==p&&
-1!==k.indexOf("url")?(k=k.substring(k.indexOf("#")+1,k.length-1),k=a["_brush"+k],h.fill=k instanceof be?k:"black"):h.fill=k===p?"black":"none"===k?p:k,g=qq(a,g,"stroke"),g!==p&&-1!==g.indexOf("url")?(k=g.substring(g.indexOf("#")+1,g.length-1),k=a["_brush"+k],h.stroke=k instanceof be?k:"black"):h.stroke="none"===g?p:g,h.uz=i);if(j!==p){j=j.split(")");k=i;for(g=0;g<j.length;g++)/\(.*[^0-9\.,\s-]/.test(j[g])&&(k=q),/\(.*[0-9]-[0-9]/.test(j[g])&&(k=q);if(k)for(g=j.length-1;0<=g;g--)if(l=j[g],""!==l)switch(n=
l.indexOf("("),k=l.substring(0,n).replace(/\s*/,""),n=l.substring(n+1).split(/\s*[\s,]\s*/),k){case "rotate":rq(a,h,n);break;case "translate":k=h;l=parseFloat(n[0]);n=parseFloat(n[1]);if(!isNaN(l)||!isNaN(n))m=k.position.copy(),isNaN(m.x)&&(m.x=0),isNaN(m.y)&&(m.y=0),k.position=new K(l+m.x,n+m.y);break;case "scale":sq(a,h,n);break;case "skewX":tq(a,h,parseFloat(n[0])*Math.PI/180);break;case "skewY":uq(a,h,parseFloat(n[0])*Math.PI/180);break;case "matrix":vq(a,h,n)}}if(h instanceof G){j=h.elements.l;
k=g=0;l=h.position.copy();isNaN(l.x)&&(l.x=0);isNaN(l.y)&&(l.y=0);for(;j.next();)n=j.value.position.copy(),isNaN(n.x)&&(n.x=0),isNaN(n.y)&&(n.y=0),n.x<g&&(g=n.x),n.y<k&&(k=n.y);l.x+=g;l.y+=k;h.position=l}c===p?a.Vm.push(h):c.add(h)}}}}
function vq(a,b,c){var d=parseFloat(c[0]),e=parseFloat(c[1]),g=parseFloat(c[2]),h=parseFloat(c[3]),j=parseFloat(c[4]),k=parseFloat(c[5]);if(!isNaN(d+e+g+h+j+k)){var l=b.position.copy();isNaN(l.x)&&(l.x=0);isNaN(l.y)&&(l.y=0);if(b instanceof V){c=b.$c.copy();if(c.type===Zc)c=a.Dr(c);else if(c.type===$c)c=wq(c);else if(c.type===Yc){c.type=Uc;var a=new Vc(c.sa,c.ta),m=new S(bd,c.I,c.J);a.Fa.add(m);c.yb.add(a)}c.offset(l.x,l.y);c.transform(d,e,g,h,j-l.x,k-l.y);a=c.normalize();b.$c=c;l.x-=a.x;l.y-=a.y;
b.position=l}else{for(b=b.elements.l;b.next();)d=b.value.position.copy(),d.x+=l.x,d.y+=l.y,b.value.position=d;for(b.reset();b.next();)vq(a,b.value,c);for(b.reset();b.next();)d=b.value.position.copy(),d.x-=l.x,d.y-=l.y,b.value.position=d}}}
function rq(a,b,c){var d=parseFloat(c[0]),e=parseFloat(c[1]),g=parseFloat(c[2]);isNaN(e)&&(e=0);isNaN(g)&&(g=0);if(!isNaN(d)){var h=d*Math.PI/180,j=b.position.copy();isNaN(j.x)&&(j.x=0);isNaN(j.y)&&(j.y=0);if(b instanceof V){c=b.$c.copy();c.type===$c?c=wq(c):c.type===Zc&&(c=a.Dr(c));if(c.type===Uc)c.rotate(d,e-j.x,g-j.y),g=c.normalize(),b.$c=c,j.x-=g.x,j.y-=g.y,b.position=j;else{var d=c.sa-e+j.x,k=c.ta-g+j.y,l=c.I-e+j.x,m=c.J-g+j.y,a=d*Math.cos(h)-k*Math.sin(h)+e-j.x,d=k*Math.cos(h)+d*Math.sin(h)+
g-j.y,e=l*Math.cos(h)-m*Math.sin(h)+e-j.x,g=m*Math.cos(h)+l*Math.sin(h)+g-j.y,l=Math.min(a,e),m=Math.min(d,g);c.sa=a-l;c.ta=d-m;c.I=e-l;c.J=g-m;j.x+=l;j.y+=m;b.position=j;b.$c=c}b.fill instanceof be&&(j=b.fill.copy(),c=Math.atan((0.5-j.start.y)/(0.5-j.start.x)),c+=h,j.start=new N((1-Math.cos(c))/2,(1-Math.sin(c))/2),j.end=new N((1+Math.cos(c))/2,(1+Math.sin(c))/2),b.fill=j);b.stroke instanceof be&&(j=b.stroke.copy(),c=Math.atan((0.5-j.start.y)/(0.5-j.start.x)),c+=h,j.start=new N((1-Math.cos(c))/2,
(1-Math.sin(c))/2),j.end=new N((1+Math.cos(c))/2,(1+Math.sin(c))/2),b.stroke=j)}else{for(b=b.elements.l;b.next();)h=b.value.position.copy(),h.x+=j.x,h.y+=j.y,b.value.position=h;for(b.reset();b.next();)rq(a,b.value,c);for(b.reset();b.next();)h=b.value.position.copy(),h.x-=j.x,h.y-=j.y,b.value.position=h}}}
function sq(a,b,c){var d=parseFloat(c[0]),e=parseFloat(c[1]);if(!isNaN(d)){isNaN(e)&&(e=d);var g=b.position.copy();isNaN(g.x)&&(g.x=0);isNaN(g.y)&&(g.y=0);if(b instanceof V)a=b.$c.copy(),g.x*=d,g.y*=e,b.position=g,a.scale(d,e),b.$c=a;else{for(b=b.elements.l;b.next();)d=b.value.position.copy(),d.x+=g.x,d.y+=g.y,b.value.position=d;for(b.reset();b.next();)sq(a,b.value,c);for(b.reset();b.next();)d=b.value.position.copy(),d.x-=g.x,d.y-=g.y,b.value.position=d}}}
function tq(a,b,c){if(!isNaN(c)){var d=b.position.copy();isNaN(d.x)&&(d.x=0);isNaN(d.y)&&(d.y=0);if(b instanceof V){var e=b.$c.copy();if(e.type===Zc)e=a.Dr(e);else if(e.type===$c)e=wq(e);else if(e.type===Yc){e.type=Uc;var a=new Vc(e.sa,e.ta),g=new S(bd,e.I,e.J);a.Fa.add(g);e.yb.add(a)}e.offset(d.x,d.y);e.transform(1,0,Math.tan(c),1,-d.x,-d.y);c=e.normalize();b.$c=e;d.x-=c.x;d.y-=c.y;b.position=d}else{for(b=b.elements.l;b.next();)e=b.value.position.copy(),e.x+=d.x,e.y+=d.y,b.value.position=e;for(b.reset();b.next();)tq(a,
b.value,c);for(b.reset();b.next();)e=b.value.position.copy(),e.x-=d.x,e.y-=d.y,b.value.position=e}}}
function uq(a,b,c){if(!isNaN(c)){var d=b.position.copy();isNaN(d.x)&&(d.x=0);isNaN(d.y)&&(d.y=0);if(b instanceof V){var e=b.$c.copy();if(e.type===Zc)e=a.Dr(e);else if(e.type===$c)e=wq(e);else if(e.type===Yc){e.type=Uc;var a=new Vc(e.sa,e.ta),g=new S(bd,e.I,e.J);a.Fa.add(g);e.yb.add(a)}e.offset(d.x,d.y);e.transform(1,Math.tan(c),0,1,-d.x,-d.y);c=e.normalize();b.$c=e;d.x-=c.x;d.y-=c.y;b.position=d}else{for(b=b.elements.l;b.next();)e=b.value.position.copy(),e.x+=d.x,e.y+=d.y,b.value.position=e;for(b.reset();b.next();)uq(a,
b.value,c);for(b.reset();b.next();)e=b.value.position.copy(),e.x-=d.x,e.y-=d.y,b.value.position=e}}}
function pq(a){var b=q;if("polygon"===a.tagName)b=i;else if("polyline"!==a.tagName)return p;var c=new V,d=a.getAttribute("points"),a=new Tc,e=new H(Vc),g=d.split(/\s*[\s,]\s*/);if(4>g.length)return p;for(var h,d=new H(S),j,k,l=1;l<g.length;l+=2){j=eval(g[l-1]);k=eval(g[l]);if("number"!==typeof j||isNaN(j)||"number"!==typeof k||isNaN(k))return p;1===l?h=new Vc(j,k):d.add(new S(bd,j,k))}b&&(b=new S(bd,h.sa,h.ta),b.close(),d.add(b));h.Fa=d;e.add(h);a.yb=e;h=a.normalize();c.position=new K(-h.x,-h.y);
c.$c=a;return c}function qq(a,b,c){var d=b.getAttribute(c);"string"!==typeof d&&(d=b.style[c]);return"string"!==typeof d||""===d?(b=b.parentNode,"g"===b.tagName||"use"===b.tagName?qq(a,b,c):p):d}
function wq(a){var b=a.sa,c=a.ta,d=a.I,e=a.J,g=Math.abs(d-b)/2,h=Math.abs(e-c)/2,b=Math.min(b,d)+g,c=Math.min(c,e)+h;new K;e=new Vc(b,c-h);d=new S(rd);d.ic=b+ac*g;d.Tc=c-h;d.dh=b+g;d.eh=c-ac*h;d.I=b+g;d.J=c;e.Fa.add(d);d=new S(rd);d.ic=b+g;d.Tc=c+ac*h;d.dh=b+ac*g;d.eh=c+h;d.I=b;d.J=c+h;e.Fa.add(d);d=new S(rd);d.ic=b-ac*g;d.Tc=c+h;d.dh=b-g;d.eh=c+ac*h;d.I=b-g;d.J=c;e.Fa.add(d);d=new S(rd);d.ic=b-g;d.Tc=c-ac*h;d.dh=b-ac*g;d.eh=c-h;d.I=b;d.J=c-h;e.Fa.add(d);a.type=Uc;a.yb.add(e);return a}
nq.prototype.Dr=function(a){var b=a.sa,c=a.ta,d=a.I,e=a.J,g=Math.min(b,d),h=Math.min(c,e),b=Math.abs(d-b),c=Math.abs(e-c),e=new Vc(g,h);e.Fa.add(new S(bd,g+b,h));e.Fa.add(new S(bd,g+b,h+c));e.Fa.add((new S(bd,g,h+c)).close());a.type=Uc;a.yb.add(e);return a};window.go=ea;ea.version="1.1.0"; })(window);
